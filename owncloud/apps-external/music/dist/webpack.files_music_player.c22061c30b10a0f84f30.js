!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=220)}([function(e,t,r){(function(n){var i,a;i=[r(17),r(44),r(21),r(45),r(46),r(28),r(22),r(47),r(29),r(48),r(88),r(10),r(2),r(18),r(49),r(13)],void 0===(a=function(e,t,r,n,i,a,o,s,u,l,f,c,d,h,p,v){"use strict";var m=function(e,t){return new m.fn.init(e,t)};function g(e){var t=!!e&&"length"in e&&e.length,r=v(e);return!d(e)&&!h(e)&&("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}return m.fn=m.prototype={jquery:"3.6.0",constructor:m,length:0,toArray:function(){return r.call(this)},get:function(e){return null==e?r.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=m.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return m.each(this,e)},map:function(e){return this.pushStack(m.map(this,(function(t,r){return e.call(t,r,t)})))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(m.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(m.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:i,sort:e.sort,splice:e.splice},m.extend=m.fn.extend=function(){var e,t,r,n,i,a,o=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[s]||{},s++),"object"==typeof o||d(o)||(o={}),s===u&&(o=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=e[t],"__proto__"!==t&&o!==n&&(l&&n&&(m.isPlainObject(n)||(i=Array.isArray(n)))?(r=o[t],a=i&&!Array.isArray(r)?[]:i||m.isPlainObject(r)?r:{},i=!1,o[t]=m.extend(l,a,n)):void 0!==n&&(o[t]=n));return o},m.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var r,n;return!(!e||"[object Object]"!==s.call(e))&&(!(r=t(e))||"function"==typeof(n=u.call(r,"constructor")&&r.constructor)&&l.call(n)===f)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,r){p(e,{nonce:t&&t.nonce},r)},each:function(e,t){var r,n=0;if(g(e))for(r=e.length;n<r&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},makeArray:function(e,t){var r=t||[];return null!=e&&(g(Object(e))?m.merge(r,"string"==typeof e?[e]:e):i.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:a.call(t,e,r)},merge:function(e,t){for(var r=+t.length,n=0,i=e.length;n<r;n++)e[i++]=t[n];return e.length=i,e},grep:function(e,t,r){for(var n=[],i=0,a=e.length,o=!r;i<a;i++)!t(e[i],i)!==o&&n.push(e[i]);return n},map:function(e,t,r){var i,a,o=0,s=[];if(g(e))for(i=e.length;o<i;o++)null!=(a=t(e[o],o,r))&&s.push(a);else for(o in e)null!=(a=t(e[o],o,r))&&s.push(a);return n(s)},guid:1,support:c}),"function"==typeof Symbol&&(m.fn[Symbol.iterator]=e[Symbol.iterator]),m.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){o["[object "+t+"]"]=t.toLowerCase()})),m}.apply(t,i))||(e.exports=a)}).call(this,r(1))},function(e,t,r){var n,i;n=[r(0),r(4),r(14),r(30),r(15),r(93),r(53),r(95),r(31),r(96),r(101),r(16),r(105),r(26),r(107),r(109),r(20),r(110),r(74),r(12),r(111),r(112),r(113),r(114),r(73),r(75),r(32),r(116),r(117),r(118),r(119),r(122),r(123)],void 0===(i=function(e){"use strict";return e}.apply(t,n))||(e.exports=i)},function(e,t,r){var n;void 0===(n=function(){"use strict";return function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(){"use strict";return window.document}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n,i;n=[r(89)],void 0===(i=function(){}.apply(t,n))||(e.exports=i)},function(e,t,r){(function(e,r){(function(){var n="Expected a function",i="__lodash_placeholder__",a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],o="[object Arguments]",s="[object Array]",u="[object Boolean]",l="[object Date]",f="[object Error]",c="[object Function]",d="[object GeneratorFunction]",h="[object Map]",p="[object Number]",v="[object Object]",m="[object RegExp]",g="[object Set]",y="[object String]",b="[object Symbol]",_="[object WeakMap]",w="[object ArrayBuffer]",T="[object DataView]",E="[object Float32Array]",S="[object Float64Array]",A="[object Int8Array]",x="[object Int16Array]",k="[object Int32Array]",L="[object Uint8Array]",R="[object Uint16Array]",C="[object Uint32Array]",I=/\b__p \+= '';/g,O=/\b(__p \+=) '' \+/g,D=/(__e\(.*?\)|\b__t\)) \+\n'';/g,P=/&(?:amp|lt|gt|quot|#39);/g,F=/[&<>"']/g,U=RegExp(P.source),M=RegExp(F.source),N=/<%-([\s\S]+?)%>/g,B=/<%([\s\S]+?)%>/g,j=/<%=([\s\S]+?)%>/g,G=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,z=/^\w*$/,W=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,H=/[\\^$.*+?()[\]{}|]/g,q=RegExp(H.source),V=/^\s+/,K=/\s/,X=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Y=/\{\n\/\* \[wrapped with (.+)\] \*/,$=/,? & /,J=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Z=/[()=,{}\[\]\/\s]/,Q=/\\(\\)?/g,ee=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,te=/\w*$/,re=/^[-+]0x[0-9a-f]+$/i,ne=/^0b[01]+$/i,ie=/^\[object .+?Constructor\]$/,ae=/^0o[0-7]+$/i,oe=/^(?:0|[1-9]\d*)$/,se=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ue=/($^)/,le=/['\n\r\u2028\u2029\\]/g,fe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ce="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",de="[\\ud800-\\udfff]",he="["+ce+"]",pe="["+fe+"]",ve="\\d+",me="[\\u2700-\\u27bf]",ge="[a-z\\xdf-\\xf6\\xf8-\\xff]",ye="[^\\ud800-\\udfff"+ce+ve+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",be="\\ud83c[\\udffb-\\udfff]",_e="[^\\ud800-\\udfff]",we="(?:\\ud83c[\\udde6-\\uddff]){2}",Te="[\\ud800-\\udbff][\\udc00-\\udfff]",Ee="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Se="(?:"+ge+"|"+ye+")",Ae="(?:"+Ee+"|"+ye+")",xe="(?:"+pe+"|"+be+")"+"?",ke="[\\ufe0e\\ufe0f]?"+xe+("(?:\\u200d(?:"+[_e,we,Te].join("|")+")[\\ufe0e\\ufe0f]?"+xe+")*"),Le="(?:"+[me,we,Te].join("|")+")"+ke,Re="(?:"+[_e+pe+"?",pe,we,Te,de].join("|")+")",Ce=RegExp("['’]","g"),Ie=RegExp(pe,"g"),Oe=RegExp(be+"(?="+be+")|"+Re+ke,"g"),De=RegExp([Ee+"?"+ge+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[he,Ee,"$"].join("|")+")",Ae+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[he,Ee+Se,"$"].join("|")+")",Ee+"?"+Se+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Ee+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ve,Le].join("|"),"g"),Pe=RegExp("[\\u200d\\ud800-\\udfff"+fe+"\\ufe0e\\ufe0f]"),Fe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ue=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Me=-1,Ne={};Ne[E]=Ne[S]=Ne[A]=Ne[x]=Ne[k]=Ne[L]=Ne["[object Uint8ClampedArray]"]=Ne[R]=Ne[C]=!0,Ne[o]=Ne[s]=Ne[w]=Ne[u]=Ne[T]=Ne[l]=Ne[f]=Ne[c]=Ne[h]=Ne[p]=Ne[v]=Ne[m]=Ne[g]=Ne[y]=Ne[_]=!1;var Be={};Be[o]=Be[s]=Be[w]=Be[T]=Be[u]=Be[l]=Be[E]=Be[S]=Be[A]=Be[x]=Be[k]=Be[h]=Be[p]=Be[v]=Be[m]=Be[g]=Be[y]=Be[b]=Be[L]=Be["[object Uint8ClampedArray]"]=Be[R]=Be[C]=!0,Be[f]=Be[c]=Be[_]=!1;var je={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ge=parseFloat,ze=parseInt,We="object"==typeof e&&e&&e.Object===Object&&e,He="object"==typeof self&&self&&self.Object===Object&&self,qe=We||He||Function("return this")(),Ve=t&&!t.nodeType&&t,Ke=Ve&&"object"==typeof r&&r&&!r.nodeType&&r,Xe=Ke&&Ke.exports===Ve,Ye=Xe&&We.process,$e=function(){try{var e=Ke&&Ke.require&&Ke.require("util").types;return e||Ye&&Ye.binding&&Ye.binding("util")}catch(e){}}(),Je=$e&&$e.isArrayBuffer,Ze=$e&&$e.isDate,Qe=$e&&$e.isMap,et=$e&&$e.isRegExp,tt=$e&&$e.isSet,rt=$e&&$e.isTypedArray;function nt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function it(e,t,r,n){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(n,o,r(o),e)}return n}function at(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function ot(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function st(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function ut(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}function lt(e,t){return!!(null==e?0:e.length)&&bt(e,t,0)>-1}function ft(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function ct(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function dt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function ht(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}function pt(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function vt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var mt=Et("length");function gt(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function yt(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function bt(e,t,r){return t==t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):yt(e,wt,r)}function _t(e,t,r,n){for(var i=r-1,a=e.length;++i<a;)if(n(e[i],t))return i;return-1}function wt(e){return e!=e}function Tt(e,t){var r=null==e?0:e.length;return r?xt(e,t)/r:NaN}function Et(e){return function(t){return null==t?void 0:t[e]}}function St(e){return function(t){return null==e?void 0:e[t]}}function At(e,t,r,n,i){return i(e,(function(e,i,a){r=n?(n=!1,e):t(r,e,i,a)})),r}function xt(e,t){for(var r,n=-1,i=e.length;++n<i;){var a=t(e[n]);void 0!==a&&(r=void 0===r?a:r+a)}return r}function kt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Lt(e){return e?e.slice(0,Vt(e)+1).replace(V,""):e}function Rt(e){return function(t){return e(t)}}function Ct(e,t){return ct(t,(function(t){return e[t]}))}function It(e,t){return e.has(t)}function Ot(e,t){for(var r=-1,n=e.length;++r<n&&bt(t,e[r],0)>-1;);return r}function Dt(e,t){for(var r=e.length;r--&&bt(t,e[r],0)>-1;);return r}function Pt(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var Ft=St({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Ut=St({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Mt(e){return"\\"+je[e]}function Nt(e){return Pe.test(e)}function Bt(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function jt(e,t){return function(r){return e(t(r))}}function Gt(e,t){for(var r=-1,n=e.length,a=0,o=[];++r<n;){var s=e[r];s!==t&&s!==i||(e[r]=i,o[a++]=r)}return o}function zt(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function Wt(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function Ht(e){return Nt(e)?function(e){var t=Oe.lastIndex=0;for(;Oe.test(e);)++t;return t}(e):mt(e)}function qt(e){return Nt(e)?function(e){return e.match(Oe)||[]}(e):function(e){return e.split("")}(e)}function Vt(e){for(var t=e.length;t--&&K.test(e.charAt(t)););return t}var Kt=St({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Xt=function e(t){var r,K=(t=null==t?qe:Xt.defaults(qe.Object(),t,Xt.pick(qe,Ue))).Array,fe=t.Date,ce=t.Error,de=t.Function,he=t.Math,pe=t.Object,ve=t.RegExp,me=t.String,ge=t.TypeError,ye=K.prototype,be=de.prototype,_e=pe.prototype,we=t["__core-js_shared__"],Te=be.toString,Ee=_e.hasOwnProperty,Se=0,Ae=(r=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",xe=_e.toString,ke=Te.call(pe),Le=qe._,Re=ve("^"+Te.call(Ee).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Oe=Xe?t.Buffer:void 0,Pe=t.Symbol,je=t.Uint8Array,We=Oe?Oe.allocUnsafe:void 0,He=jt(pe.getPrototypeOf,pe),Ve=pe.create,Ke=_e.propertyIsEnumerable,Ye=ye.splice,$e=Pe?Pe.isConcatSpreadable:void 0,mt=Pe?Pe.iterator:void 0,St=Pe?Pe.toStringTag:void 0,Yt=function(){try{var e=ea(pe,"defineProperty");return e({},"",{}),e}catch(e){}}(),$t=t.clearTimeout!==qe.clearTimeout&&t.clearTimeout,Jt=fe&&fe.now!==qe.Date.now&&fe.now,Zt=t.setTimeout!==qe.setTimeout&&t.setTimeout,Qt=he.ceil,er=he.floor,tr=pe.getOwnPropertySymbols,rr=Oe?Oe.isBuffer:void 0,nr=t.isFinite,ir=ye.join,ar=jt(pe.keys,pe),or=he.max,sr=he.min,ur=fe.now,lr=t.parseInt,fr=he.random,cr=ye.reverse,dr=ea(t,"DataView"),hr=ea(t,"Map"),pr=ea(t,"Promise"),vr=ea(t,"Set"),mr=ea(t,"WeakMap"),gr=ea(pe,"create"),yr=mr&&new mr,br={},_r=ka(dr),wr=ka(hr),Tr=ka(pr),Er=ka(vr),Sr=ka(mr),Ar=Pe?Pe.prototype:void 0,xr=Ar?Ar.valueOf:void 0,kr=Ar?Ar.toString:void 0;function Lr(e){if(qo(e)&&!Po(e)&&!(e instanceof Or)){if(e instanceof Ir)return e;if(Ee.call(e,"__wrapped__"))return La(e)}return new Ir(e)}var Rr=function(){function e(){}return function(t){if(!Ho(t))return{};if(Ve)return Ve(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function Cr(){}function Ir(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Or(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Dr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Pr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Fr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ur(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Fr;++t<r;)this.add(e[t])}function Mr(e){var t=this.__data__=new Pr(e);this.size=t.size}function Nr(e,t){var r=Po(e),n=!r&&Do(e),i=!r&&!n&&No(e),a=!r&&!n&&!i&&Qo(e),o=r||n||i||a,s=o?kt(e.length,me):[],u=s.length;for(var l in e)!t&&!Ee.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||sa(l,u))||s.push(l);return s}function Br(e){var t=e.length;return t?e[Mn(0,t-1)]:void 0}function jr(e,t){return Sa(yi(e),Yr(t,0,e.length))}function Gr(e){return Sa(yi(e))}function zr(e,t,r){(void 0!==r&&!Co(e[t],r)||void 0===r&&!(t in e))&&Kr(e,t,r)}function Wr(e,t,r){var n=e[t];Ee.call(e,t)&&Co(n,r)&&(void 0!==r||t in e)||Kr(e,t,r)}function Hr(e,t){for(var r=e.length;r--;)if(Co(e[r][0],t))return r;return-1}function qr(e,t,r,n){return en(e,(function(e,i,a){t(n,e,r(e),a)})),n}function Vr(e,t){return e&&bi(t,ws(t),e)}function Kr(e,t,r){"__proto__"==t&&Yt?Yt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Xr(e,t){for(var r=-1,n=t.length,i=K(n),a=null==e;++r<n;)i[r]=a?void 0:ms(e,t[r]);return i}function Yr(e,t,r){return e==e&&(void 0!==r&&(e=e<=r?e:r),void 0!==t&&(e=e>=t?e:t)),e}function $r(e,t,r,n,i,a){var s,f=1&t,_=2&t,I=4&t;if(r&&(s=i?r(e,n,i,a):r(e)),void 0!==s)return s;if(!Ho(e))return e;var O=Po(e);if(O){if(s=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&Ee.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!f)return yi(e,s)}else{var D=na(e),P=D==c||D==d;if(No(e))return di(e,f);if(D==v||D==o||P&&!i){if(s=_||P?{}:aa(e),!f)return _?function(e,t){return bi(e,ra(e),t)}(e,function(e,t){return e&&bi(t,Ts(t),e)}(s,e)):function(e,t){return bi(e,ta(e),t)}(e,Vr(s,e))}else{if(!Be[D])return i?e:{};s=function(e,t,r){var n=e.constructor;switch(t){case w:return hi(e);case u:case l:return new n(+e);case T:return function(e,t){var r=t?hi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case E:case S:case A:case x:case k:case L:case"[object Uint8ClampedArray]":case R:case C:return pi(e,r);case h:return new n;case p:case y:return new n(e);case m:return function(e){var t=new e.constructor(e.source,te.exec(e));return t.lastIndex=e.lastIndex,t}(e);case g:return new n;case b:return i=e,xr?pe(xr.call(i)):{}}var i}(e,D,f)}}a||(a=new Mr);var F=a.get(e);if(F)return F;a.set(e,s),$o(e)?e.forEach((function(n){s.add($r(n,t,r,n,e,a))})):Vo(e)&&e.forEach((function(n,i){s.set(i,$r(n,t,r,i,e,a))}));var U=O?void 0:(I?_?Ki:Vi:_?Ts:ws)(e);return at(U||e,(function(n,i){U&&(n=e[i=n]),Wr(s,i,$r(n,t,r,i,e,a))})),s}function Jr(e,t,r){var n=r.length;if(null==e)return!n;for(e=pe(e);n--;){var i=r[n],a=t[i],o=e[i];if(void 0===o&&!(i in e)||!a(o))return!1}return!0}function Zr(e,t,r){if("function"!=typeof e)throw new ge(n);return _a((function(){e.apply(void 0,r)}),t)}function Qr(e,t,r,n){var i=-1,a=lt,o=!0,s=e.length,u=[],l=t.length;if(!s)return u;r&&(t=ct(t,Rt(r))),n?(a=ft,o=!1):t.length>=200&&(a=It,o=!1,t=new Ur(t));e:for(;++i<s;){var f=e[i],c=null==r?f:r(f);if(f=n||0!==f?f:0,o&&c==c){for(var d=l;d--;)if(t[d]===c)continue e;u.push(f)}else a(t,c,n)||u.push(f)}return u}Lr.templateSettings={escape:N,evaluate:B,interpolate:j,variable:"",imports:{_:Lr}},Lr.prototype=Cr.prototype,Lr.prototype.constructor=Lr,Ir.prototype=Rr(Cr.prototype),Ir.prototype.constructor=Ir,Or.prototype=Rr(Cr.prototype),Or.prototype.constructor=Or,Dr.prototype.clear=function(){this.__data__=gr?gr(null):{},this.size=0},Dr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Dr.prototype.get=function(e){var t=this.__data__;if(gr){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Ee.call(t,e)?t[e]:void 0},Dr.prototype.has=function(e){var t=this.__data__;return gr?void 0!==t[e]:Ee.call(t,e)},Dr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=gr&&void 0===t?"__lodash_hash_undefined__":t,this},Pr.prototype.clear=function(){this.__data__=[],this.size=0},Pr.prototype.delete=function(e){var t=this.__data__,r=Hr(t,e);return!(r<0)&&(r==t.length-1?t.pop():Ye.call(t,r,1),--this.size,!0)},Pr.prototype.get=function(e){var t=this.__data__,r=Hr(t,e);return r<0?void 0:t[r][1]},Pr.prototype.has=function(e){return Hr(this.__data__,e)>-1},Pr.prototype.set=function(e,t){var r=this.__data__,n=Hr(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Fr.prototype.clear=function(){this.size=0,this.__data__={hash:new Dr,map:new(hr||Pr),string:new Dr}},Fr.prototype.delete=function(e){var t=Zi(this,e).delete(e);return this.size-=t?1:0,t},Fr.prototype.get=function(e){return Zi(this,e).get(e)},Fr.prototype.has=function(e){return Zi(this,e).has(e)},Fr.prototype.set=function(e,t){var r=Zi(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Ur.prototype.add=Ur.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ur.prototype.has=function(e){return this.__data__.has(e)},Mr.prototype.clear=function(){this.__data__=new Pr,this.size=0},Mr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Mr.prototype.get=function(e){return this.__data__.get(e)},Mr.prototype.has=function(e){return this.__data__.has(e)},Mr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Pr){var n=r.__data__;if(!hr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Fr(n)}return r.set(e,t),this.size=r.size,this};var en=Ti(ln),tn=Ti(fn,!0);function rn(e,t){var r=!0;return en(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function nn(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],o=t(a);if(null!=o&&(void 0===s?o==o&&!Zo(o):r(o,s)))var s=o,u=a}return u}function an(e,t){var r=[];return en(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function on(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=oa),i||(i=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?on(s,t-1,r,n,i):dt(i,s):n||(i[i.length]=s)}return i}var sn=Ei(),un=Ei(!0);function ln(e,t){return e&&sn(e,t,ws)}function fn(e,t){return e&&un(e,t,ws)}function cn(e,t){return ut(t,(function(t){return Go(e[t])}))}function dn(e,t){for(var r=0,n=(t=ui(t,e)).length;null!=e&&r<n;)e=e[xa(t[r++])];return r&&r==n?e:void 0}function hn(e,t,r){var n=t(e);return Po(e)?n:dt(n,r(e))}function pn(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":St&&St in pe(e)?function(e){var t=Ee.call(e,St),r=e[St];try{e[St]=void 0;var n=!0}catch(e){}var i=xe.call(e);n&&(t?e[St]=r:delete e[St]);return i}(e):function(e){return xe.call(e)}(e)}function vn(e,t){return e>t}function mn(e,t){return null!=e&&Ee.call(e,t)}function gn(e,t){return null!=e&&t in pe(e)}function yn(e,t,r){for(var n=r?ft:lt,i=e[0].length,a=e.length,o=a,s=K(a),u=1/0,l=[];o--;){var f=e[o];o&&t&&(f=ct(f,Rt(t))),u=sr(f.length,u),s[o]=!r&&(t||i>=120&&f.length>=120)?new Ur(o&&f):void 0}f=e[0];var c=-1,d=s[0];e:for(;++c<i&&l.length<u;){var h=f[c],p=t?t(h):h;if(h=r||0!==h?h:0,!(d?It(d,p):n(l,p,r))){for(o=a;--o;){var v=s[o];if(!(v?It(v,p):n(e[o],p,r)))continue e}d&&d.push(p),l.push(h)}}return l}function bn(e,t,r){var n=null==(e=ma(e,t=ui(t,e)))?e:e[xa(Ba(t))];return null==n?void 0:nt(n,e,r)}function _n(e){return qo(e)&&pn(e)==o}function wn(e,t,r,n,i){return e===t||(null==e||null==t||!qo(e)&&!qo(t)?e!=e&&t!=t:function(e,t,r,n,i,a){var c=Po(e),d=Po(t),_=c?s:na(e),E=d?s:na(t),S=(_=_==o?v:_)==v,A=(E=E==o?v:E)==v,x=_==E;if(x&&No(e)){if(!No(t))return!1;c=!0,S=!1}if(x&&!S)return a||(a=new Mr),c||Qo(e)?Hi(e,t,r,n,i,a):function(e,t,r,n,i,a,o){switch(r){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!a(new je(e),new je(t)));case u:case l:case p:return Co(+e,+t);case f:return e.name==t.name&&e.message==t.message;case m:case y:return e==t+"";case h:var s=Bt;case g:var c=1&n;if(s||(s=zt),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;n|=2,o.set(e,t);var v=Hi(s(e),s(t),n,i,a,o);return o.delete(e),v;case b:if(xr)return xr.call(e)==xr.call(t)}return!1}(e,t,_,r,n,i,a);if(!(1&r)){var k=S&&Ee.call(e,"__wrapped__"),L=A&&Ee.call(t,"__wrapped__");if(k||L){var R=k?e.value():e,C=L?t.value():t;return a||(a=new Mr),i(R,C,r,n,a)}}if(!x)return!1;return a||(a=new Mr),function(e,t,r,n,i,a){var o=1&r,s=Vi(e),u=s.length,l=Vi(t).length;if(u!=l&&!o)return!1;var f=u;for(;f--;){var c=s[f];if(!(o?c in t:Ee.call(t,c)))return!1}var d=a.get(e),h=a.get(t);if(d&&h)return d==t&&h==e;var p=!0;a.set(e,t),a.set(t,e);var v=o;for(;++f<u;){c=s[f];var m=e[c],g=t[c];if(n)var y=o?n(g,m,c,t,e,a):n(m,g,c,e,t,a);if(!(void 0===y?m===g||i(m,g,r,n,a):y)){p=!1;break}v||(v="constructor"==c)}if(p&&!v){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(p=!1)}return a.delete(e),a.delete(t),p}(e,t,r,n,i,a)}(e,t,r,n,wn,i))}function Tn(e,t,r,n){var i=r.length,a=i,o=!n;if(null==e)return!a;for(e=pe(e);i--;){var s=r[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var u=(s=r[i])[0],l=e[u],f=s[1];if(o&&s[2]){if(void 0===l&&!(u in e))return!1}else{var c=new Mr;if(n)var d=n(l,f,u,e,t,c);if(!(void 0===d?wn(f,l,3,n,c):d))return!1}}return!0}function En(e){return!(!Ho(e)||(t=e,Ae&&Ae in t))&&(Go(e)?Re:ie).test(ka(e));var t}function Sn(e){return"function"==typeof e?e:null==e?Ks:"object"==typeof e?Po(e)?Cn(e[0],e[1]):Rn(e):ru(e)}function An(e){if(!da(e))return ar(e);var t=[];for(var r in pe(e))Ee.call(e,r)&&"constructor"!=r&&t.push(r);return t}function xn(e){if(!Ho(e))return function(e){var t=[];if(null!=e)for(var r in pe(e))t.push(r);return t}(e);var t=da(e),r=[];for(var n in e)("constructor"!=n||!t&&Ee.call(e,n))&&r.push(n);return r}function kn(e,t){return e<t}function Ln(e,t){var r=-1,n=Uo(e)?K(e.length):[];return en(e,(function(e,i,a){n[++r]=t(e,i,a)})),n}function Rn(e){var t=Qi(e);return 1==t.length&&t[0][2]?pa(t[0][0],t[0][1]):function(r){return r===e||Tn(r,e,t)}}function Cn(e,t){return la(e)&&ha(t)?pa(xa(e),t):function(r){var n=ms(r,e);return void 0===n&&n===t?gs(r,e):wn(t,n,3)}}function In(e,t,r,n,i){e!==t&&sn(t,(function(a,o){if(i||(i=new Mr),Ho(a))!function(e,t,r,n,i,a,o){var s=ya(e,r),u=ya(t,r),l=o.get(u);if(l)return void zr(e,r,l);var f=a?a(s,u,r+"",e,t,o):void 0,c=void 0===f;if(c){var d=Po(u),h=!d&&No(u),p=!d&&!h&&Qo(u);f=u,d||h||p?Po(s)?f=s:Mo(s)?f=yi(s):h?(c=!1,f=di(u,!0)):p?(c=!1,f=pi(u,!0)):f=[]:Xo(u)||Do(u)?(f=s,Do(s)?f=ss(s):Ho(s)&&!Go(s)||(f=aa(u))):c=!1}c&&(o.set(u,f),i(f,u,n,a,o),o.delete(u));zr(e,r,f)}(e,t,o,r,In,n,i);else{var s=n?n(ya(e,o),a,o+"",e,t,i):void 0;void 0===s&&(s=a),zr(e,o,s)}}),Ts)}function On(e,t){var r=e.length;if(r)return sa(t+=t<0?r:0,r)?e[t]:void 0}function Dn(e,t,r){t=t.length?ct(t,(function(e){return Po(e)?function(t){return dn(t,1===e.length?e[0]:e)}:e})):[Ks];var n=-1;return t=ct(t,Rt(Ji())),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(Ln(e,(function(e,r,i){return{criteria:ct(t,(function(t){return t(e)})),index:++n,value:e}})),(function(e,t){return function(e,t,r){var n=-1,i=e.criteria,a=t.criteria,o=i.length,s=r.length;for(;++n<o;){var u=vi(i[n],a[n]);if(u){if(n>=s)return u;var l=r[n];return u*("desc"==l?-1:1)}}return e.index-t.index}(e,t,r)}))}function Pn(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var o=t[n],s=dn(e,o);r(s,o)&&zn(a,ui(o,e),s)}return a}function Fn(e,t,r,n){var i=n?_t:bt,a=-1,o=t.length,s=e;for(e===t&&(t=yi(t)),r&&(s=ct(e,Rt(r)));++a<o;)for(var u=0,l=t[a],f=r?r(l):l;(u=i(s,f,u,n))>-1;)s!==e&&Ye.call(s,u,1),Ye.call(e,u,1);return e}function Un(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==a){var a=i;sa(i)?Ye.call(e,i,1):ei(e,i)}}return e}function Mn(e,t){return e+er(fr()*(t-e+1))}function Nn(e,t){var r="";if(!e||t<1||t>9007199254740991)return r;do{t%2&&(r+=e),(t=er(t/2))&&(e+=e)}while(t);return r}function Bn(e,t){return wa(va(e,t,Ks),e+"")}function jn(e){return Br(Cs(e))}function Gn(e,t){var r=Cs(e);return Sa(r,Yr(t,0,r.length))}function zn(e,t,r,n){if(!Ho(e))return e;for(var i=-1,a=(t=ui(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var u=xa(t[i]),l=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=o){var f=s[u];void 0===(l=n?n(f,u,s):void 0)&&(l=Ho(f)?f:sa(t[i+1])?[]:{})}Wr(s,u,l),s=s[u]}return e}var Wn=yr?function(e,t){return yr.set(e,t),e}:Ks,Hn=Yt?function(e,t){return Yt(e,"toString",{configurable:!0,enumerable:!1,value:Hs(t),writable:!0})}:Ks;function qn(e){return Sa(Cs(e))}function Vn(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=K(i);++n<i;)a[n]=e[n+t];return a}function Kn(e,t){var r;return en(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function Xn(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var a=n+i>>>1,o=e[a];null!==o&&!Zo(o)&&(r?o<=t:o<t)?n=a+1:i=a}return i}return Yn(e,t,Ks,r)}function Yn(e,t,r,n){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var o=(t=r(t))!=t,s=null===t,u=Zo(t),l=void 0===t;i<a;){var f=er((i+a)/2),c=r(e[f]),d=void 0!==c,h=null===c,p=c==c,v=Zo(c);if(o)var m=n||p;else m=l?p&&(n||d):s?p&&d&&(n||!h):u?p&&d&&!h&&(n||!v):!h&&!v&&(n?c<=t:c<t);m?i=f+1:a=f}return sr(a,4294967294)}function $n(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r],s=t?t(o):o;if(!r||!Co(s,u)){var u=s;a[i++]=0===o?0:o}}return a}function Jn(e){return"number"==typeof e?e:Zo(e)?NaN:+e}function Zn(e){if("string"==typeof e)return e;if(Po(e))return ct(e,Zn)+"";if(Zo(e))return kr?kr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Qn(e,t,r){var n=-1,i=lt,a=e.length,o=!0,s=[],u=s;if(r)o=!1,i=ft;else if(a>=200){var l=t?null:Ni(e);if(l)return zt(l);o=!1,i=It,u=new Ur}else u=t?[]:s;e:for(;++n<a;){var f=e[n],c=t?t(f):f;if(f=r||0!==f?f:0,o&&c==c){for(var d=u.length;d--;)if(u[d]===c)continue e;t&&u.push(c),s.push(f)}else i(u,c,r)||(u!==s&&u.push(c),s.push(f))}return s}function ei(e,t){return null==(e=ma(e,t=ui(t,e)))||delete e[xa(Ba(t))]}function ti(e,t,r,n){return zn(e,t,r(dn(e,t)),n)}function ri(e,t,r,n){for(var i=e.length,a=n?i:-1;(n?a--:++a<i)&&t(e[a],a,e););return r?Vn(e,n?0:a,n?a+1:i):Vn(e,n?a+1:0,n?i:a)}function ni(e,t){var r=e;return r instanceof Or&&(r=r.value()),ht(t,(function(e,t){return t.func.apply(t.thisArg,dt([e],t.args))}),r)}function ii(e,t,r){var n=e.length;if(n<2)return n?Qn(e[0]):[];for(var i=-1,a=K(n);++i<n;)for(var o=e[i],s=-1;++s<n;)s!=i&&(a[i]=Qr(a[i]||o,e[s],t,r));return Qn(on(a,1),t,r)}function ai(e,t,r){for(var n=-1,i=e.length,a=t.length,o={};++n<i;){var s=n<a?t[n]:void 0;r(o,e[n],s)}return o}function oi(e){return Mo(e)?e:[]}function si(e){return"function"==typeof e?e:Ks}function ui(e,t){return Po(e)?e:la(e,t)?[e]:Aa(us(e))}var li=Bn;function fi(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:Vn(e,t,r)}var ci=$t||function(e){return qe.clearTimeout(e)};function di(e,t){if(t)return e.slice();var r=e.length,n=We?We(r):new e.constructor(r);return e.copy(n),n}function hi(e){var t=new e.constructor(e.byteLength);return new je(t).set(new je(e)),t}function pi(e,t){var r=t?hi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function vi(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=e==e,a=Zo(e),o=void 0!==t,s=null===t,u=t==t,l=Zo(t);if(!s&&!l&&!a&&e>t||a&&o&&u&&!s&&!l||n&&o&&u||!r&&u||!i)return 1;if(!n&&!a&&!l&&e<t||l&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!u)return-1}return 0}function mi(e,t,r,n){for(var i=-1,a=e.length,o=r.length,s=-1,u=t.length,l=or(a-o,0),f=K(u+l),c=!n;++s<u;)f[s]=t[s];for(;++i<o;)(c||i<a)&&(f[r[i]]=e[i]);for(;l--;)f[s++]=e[i++];return f}function gi(e,t,r,n){for(var i=-1,a=e.length,o=-1,s=r.length,u=-1,l=t.length,f=or(a-s,0),c=K(f+l),d=!n;++i<f;)c[i]=e[i];for(var h=i;++u<l;)c[h+u]=t[u];for(;++o<s;)(d||i<a)&&(c[h+r[o]]=e[i++]);return c}function yi(e,t){var r=-1,n=e.length;for(t||(t=K(n));++r<n;)t[r]=e[r];return t}function bi(e,t,r,n){var i=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=n?n(r[s],e[s],s,r,e):void 0;void 0===u&&(u=e[s]),i?Kr(r,s,u):Wr(r,s,u)}return r}function _i(e,t){return function(r,n){var i=Po(r)?it:qr,a=t?t():{};return i(r,e,Ji(n,2),a)}}function wi(e){return Bn((function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,o&&ua(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),t=pe(t);++n<i;){var s=r[n];s&&e(t,s,n,a)}return t}))}function Ti(e,t){return function(r,n){if(null==r)return r;if(!Uo(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=pe(r);(t?a--:++a<i)&&!1!==n(o[a],a,o););return r}}function Ei(e){return function(t,r,n){for(var i=-1,a=pe(t),o=n(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===r(a[u],u,a))break}return t}}function Si(e){return function(t){var r=Nt(t=us(t))?qt(t):void 0,n=r?r[0]:t.charAt(0),i=r?fi(r,1).join(""):t.slice(1);return n[e]()+i}}function Ai(e){return function(t){return ht(Gs(Ds(t).replace(Ce,"")),e,"")}}function xi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Rr(e.prototype),n=e.apply(r,t);return Ho(n)?n:r}}function ki(e){return function(t,r,n){var i=pe(t);if(!Uo(t)){var a=Ji(r,3);t=ws(t),r=function(e){return a(i[e],e,i)}}var o=e(t,r,n);return o>-1?i[a?t[o]:o]:void 0}}function Li(e){return qi((function(t){var r=t.length,i=r,a=Ir.prototype.thru;for(e&&t.reverse();i--;){var o=t[i];if("function"!=typeof o)throw new ge(n);if(a&&!s&&"wrapper"==Yi(o))var s=new Ir([],!0)}for(i=s?i:r;++i<r;){var u=Yi(o=t[i]),l="wrapper"==u?Xi(o):void 0;s=l&&fa(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[Yi(l[0])].apply(s,l[3]):1==o.length&&fa(o)?s[u]():s.thru(o)}return function(){var e=arguments,n=e[0];if(s&&1==e.length&&Po(n))return s.plant(n).value();for(var i=0,a=r?t[i].apply(this,e):n;++i<r;)a=t[i].call(this,a);return a}}))}function Ri(e,t,r,n,i,a,o,s,u,l){var f=128&t,c=1&t,d=2&t,h=24&t,p=512&t,v=d?void 0:xi(e);return function m(){for(var g=arguments.length,y=K(g),b=g;b--;)y[b]=arguments[b];if(h)var _=$i(m),w=Pt(y,_);if(n&&(y=mi(y,n,i,h)),a&&(y=gi(y,a,o,h)),g-=w,h&&g<l){var T=Gt(y,_);return Ui(e,t,Ri,m.placeholder,r,y,T,s,u,l-g)}var E=c?r:this,S=d?E[e]:e;return g=y.length,s?y=ga(y,s):p&&g>1&&y.reverse(),f&&u<g&&(y.length=u),this&&this!==qe&&this instanceof m&&(S=v||xi(S)),S.apply(E,y)}}function Ci(e,t){return function(r,n){return function(e,t,r,n){return ln(e,(function(e,i,a){t(n,r(e),i,a)})),n}(r,e,t(n),{})}}function Ii(e,t){return function(r,n){var i;if(void 0===r&&void 0===n)return t;if(void 0!==r&&(i=r),void 0!==n){if(void 0===i)return n;"string"==typeof r||"string"==typeof n?(r=Zn(r),n=Zn(n)):(r=Jn(r),n=Jn(n)),i=e(r,n)}return i}}function Oi(e){return qi((function(t){return t=ct(t,Rt(Ji())),Bn((function(r){var n=this;return e(t,(function(e){return nt(e,n,r)}))}))}))}function Di(e,t){var r=(t=void 0===t?" ":Zn(t)).length;if(r<2)return r?Nn(t,e):t;var n=Nn(t,Qt(e/Ht(t)));return Nt(t)?fi(qt(n),0,e).join(""):n.slice(0,e)}function Pi(e){return function(t,r,n){return n&&"number"!=typeof n&&ua(t,r,n)&&(r=n=void 0),t=ns(t),void 0===r?(r=t,t=0):r=ns(r),function(e,t,r,n){for(var i=-1,a=or(Qt((t-e)/(r||1)),0),o=K(a);a--;)o[n?a:++i]=e,e+=r;return o}(t,r,n=void 0===n?t<r?1:-1:ns(n),e)}}function Fi(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=os(t),r=os(r)),e(t,r)}}function Ui(e,t,r,n,i,a,o,s,u,l){var f=8&t;t|=f?32:64,4&(t&=~(f?64:32))||(t&=-4);var c=[e,t,i,f?a:void 0,f?o:void 0,f?void 0:a,f?void 0:o,s,u,l],d=r.apply(void 0,c);return fa(e)&&ba(d,c),d.placeholder=n,Ta(d,e,t)}function Mi(e){var t=he[e];return function(e,r){if(e=os(e),(r=null==r?0:sr(is(r),292))&&nr(e)){var n=(us(e)+"e").split("e");return+((n=(us(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Ni=vr&&1/zt(new vr([,-0]))[1]==1/0?function(e){return new vr(e)}:Zs;function Bi(e){return function(t){var r=na(t);return r==h?Bt(t):r==g?Wt(t):function(e,t){return ct(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function ji(e,t,r,a,o,s,u,l){var f=2&t;if(!f&&"function"!=typeof e)throw new ge(n);var c=a?a.length:0;if(c||(t&=-97,a=o=void 0),u=void 0===u?u:or(is(u),0),l=void 0===l?l:is(l),c-=o?o.length:0,64&t){var d=a,h=o;a=o=void 0}var p=f?void 0:Xi(e),v=[e,t,r,a,o,d,h,s,u,l];if(p&&function(e,t){var r=e[1],n=t[1],a=r|n,o=a<131,s=128==n&&8==r||128==n&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!s)return e;1&n&&(e[2]=t[2],a|=1&r?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?mi(l,u,t[4]):u,e[4]=l?Gt(e[3],i):t[4]}(u=t[5])&&(l=e[5],e[5]=l?gi(l,u,t[6]):u,e[6]=l?Gt(e[5],i):t[6]);(u=t[7])&&(e[7]=u);128&n&&(e[8]=null==e[8]?t[8]:sr(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=a}(v,p),e=v[0],t=v[1],r=v[2],a=v[3],o=v[4],!(l=v[9]=void 0===v[9]?f?0:e.length:or(v[9]-c,0))&&24&t&&(t&=-25),t&&1!=t)m=8==t||16==t?function(e,t,r){var n=xi(e);return function i(){for(var a=arguments.length,o=K(a),s=a,u=$i(i);s--;)o[s]=arguments[s];var l=a<3&&o[0]!==u&&o[a-1]!==u?[]:Gt(o,u);if((a-=l.length)<r)return Ui(e,t,Ri,i.placeholder,void 0,o,l,void 0,void 0,r-a);var f=this&&this!==qe&&this instanceof i?n:e;return nt(f,this,o)}}(e,t,l):32!=t&&33!=t||o.length?Ri.apply(void 0,v):function(e,t,r,n){var i=1&t,a=xi(e);return function t(){for(var o=-1,s=arguments.length,u=-1,l=n.length,f=K(l+s),c=this&&this!==qe&&this instanceof t?a:e;++u<l;)f[u]=n[u];for(;s--;)f[u++]=arguments[++o];return nt(c,i?r:this,f)}}(e,t,r,a);else var m=function(e,t,r){var n=1&t,i=xi(e);return function t(){var a=this&&this!==qe&&this instanceof t?i:e;return a.apply(n?r:this,arguments)}}(e,t,r);return Ta((p?Wn:ba)(m,v),e,t)}function Gi(e,t,r,n){return void 0===e||Co(e,_e[r])&&!Ee.call(n,r)?t:e}function zi(e,t,r,n,i,a){return Ho(e)&&Ho(t)&&(a.set(t,e),In(e,t,void 0,zi,a),a.delete(t)),e}function Wi(e){return Xo(e)?void 0:e}function Hi(e,t,r,n,i,a){var o=1&r,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var l=a.get(e),f=a.get(t);if(l&&f)return l==t&&f==e;var c=-1,d=!0,h=2&r?new Ur:void 0;for(a.set(e,t),a.set(t,e);++c<s;){var p=e[c],v=t[c];if(n)var m=o?n(v,p,c,t,e,a):n(p,v,c,e,t,a);if(void 0!==m){if(m)continue;d=!1;break}if(h){if(!vt(t,(function(e,t){if(!It(h,t)&&(p===e||i(p,e,r,n,a)))return h.push(t)}))){d=!1;break}}else if(p!==v&&!i(p,v,r,n,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function qi(e){return wa(va(e,void 0,Pa),e+"")}function Vi(e){return hn(e,ws,ta)}function Ki(e){return hn(e,Ts,ra)}var Xi=yr?function(e){return yr.get(e)}:Zs;function Yi(e){for(var t=e.name+"",r=br[t],n=Ee.call(br,t)?r.length:0;n--;){var i=r[n],a=i.func;if(null==a||a==e)return i.name}return t}function $i(e){return(Ee.call(Lr,"placeholder")?Lr:e).placeholder}function Ji(){var e=Lr.iteratee||Xs;return e=e===Xs?Sn:e,arguments.length?e(arguments[0],arguments[1]):e}function Zi(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Qi(e){for(var t=ws(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,ha(i)]}return t}function ea(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return En(r)?r:void 0}var ta=tr?function(e){return null==e?[]:(e=pe(e),ut(tr(e),(function(t){return Ke.call(e,t)})))}:au,ra=tr?function(e){for(var t=[];e;)dt(t,ta(e)),e=He(e);return t}:au,na=pn;function ia(e,t,r){for(var n=-1,i=(t=ui(t,e)).length,a=!1;++n<i;){var o=xa(t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&Wo(i)&&sa(o,i)&&(Po(e)||Do(e))}function aa(e){return"function"!=typeof e.constructor||da(e)?{}:Rr(He(e))}function oa(e){return Po(e)||Do(e)||!!($e&&e&&e[$e])}function sa(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&oe.test(e))&&e>-1&&e%1==0&&e<t}function ua(e,t,r){if(!Ho(r))return!1;var n=typeof t;return!!("number"==n?Uo(r)&&sa(t,r.length):"string"==n&&t in r)&&Co(r[t],e)}function la(e,t){if(Po(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Zo(e))||(z.test(e)||!G.test(e)||null!=t&&e in pe(t))}function fa(e){var t=Yi(e),r=Lr[t];if("function"!=typeof r||!(t in Or.prototype))return!1;if(e===r)return!0;var n=Xi(r);return!!n&&e===n[0]}(dr&&na(new dr(new ArrayBuffer(1)))!=T||hr&&na(new hr)!=h||pr&&"[object Promise]"!=na(pr.resolve())||vr&&na(new vr)!=g||mr&&na(new mr)!=_)&&(na=function(e){var t=pn(e),r=t==v?e.constructor:void 0,n=r?ka(r):"";if(n)switch(n){case _r:return T;case wr:return h;case Tr:return"[object Promise]";case Er:return g;case Sr:return _}return t});var ca=we?Go:ou;function da(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||_e)}function ha(e){return e==e&&!Ho(e)}function pa(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in pe(r)))}}function va(e,t,r){return t=or(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=or(n.length-t,0),o=K(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=K(t+1);++i<t;)s[i]=n[i];return s[t]=r(o),nt(e,this,s)}}function ma(e,t){return t.length<2?e:dn(e,Vn(t,0,-1))}function ga(e,t){for(var r=e.length,n=sr(t.length,r),i=yi(e);n--;){var a=t[n];e[n]=sa(a,r)?i[a]:void 0}return e}function ya(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ba=Ea(Wn),_a=Zt||function(e,t){return qe.setTimeout(e,t)},wa=Ea(Hn);function Ta(e,t,r){var n=t+"";return wa(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(X,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return at(a,(function(r){var n="_."+r[0];t&r[1]&&!lt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(Y);return t?t[1].split($):[]}(n),r)))}function Ea(e){var t=0,r=0;return function(){var n=ur(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Sa(e,t){var r=-1,n=e.length,i=n-1;for(t=void 0===t?n:t;++r<t;){var a=Mn(r,i),o=e[a];e[a]=e[r],e[r]=o}return e.length=t,e}var Aa=function(e){var t=So(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(W,(function(e,r,n,i){t.push(n?i.replace(Q,"$1"):r||e)})),t}));function xa(e){if("string"==typeof e||Zo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ka(e){if(null!=e){try{return Te.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function La(e){if(e instanceof Or)return e.clone();var t=new Ir(e.__wrapped__,e.__chain__);return t.__actions__=yi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ra=Bn((function(e,t){return Mo(e)?Qr(e,on(t,1,Mo,!0)):[]})),Ca=Bn((function(e,t){var r=Ba(t);return Mo(r)&&(r=void 0),Mo(e)?Qr(e,on(t,1,Mo,!0),Ji(r,2)):[]})),Ia=Bn((function(e,t){var r=Ba(t);return Mo(r)&&(r=void 0),Mo(e)?Qr(e,on(t,1,Mo,!0),void 0,r):[]}));function Oa(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:is(r);return i<0&&(i=or(n+i,0)),yt(e,Ji(t,3),i)}function Da(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n-1;return void 0!==r&&(i=is(r),i=r<0?or(n+i,0):sr(i,n-1)),yt(e,Ji(t,3),i,!0)}function Pa(e){return(null==e?0:e.length)?on(e,1):[]}function Fa(e){return e&&e.length?e[0]:void 0}var Ua=Bn((function(e){var t=ct(e,oi);return t.length&&t[0]===e[0]?yn(t):[]})),Ma=Bn((function(e){var t=Ba(e),r=ct(e,oi);return t===Ba(r)?t=void 0:r.pop(),r.length&&r[0]===e[0]?yn(r,Ji(t,2)):[]})),Na=Bn((function(e){var t=Ba(e),r=ct(e,oi);return(t="function"==typeof t?t:void 0)&&r.pop(),r.length&&r[0]===e[0]?yn(r,void 0,t):[]}));function Ba(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var ja=Bn(Ga);function Ga(e,t){return e&&e.length&&t&&t.length?Fn(e,t):e}var za=qi((function(e,t){var r=null==e?0:e.length,n=Xr(e,t);return Un(e,ct(t,(function(e){return sa(e,r)?+e:e})).sort(vi)),n}));function Wa(e){return null==e?e:cr.call(e)}var Ha=Bn((function(e){return Qn(on(e,1,Mo,!0))})),qa=Bn((function(e){var t=Ba(e);return Mo(t)&&(t=void 0),Qn(on(e,1,Mo,!0),Ji(t,2))})),Va=Bn((function(e){var t=Ba(e);return t="function"==typeof t?t:void 0,Qn(on(e,1,Mo,!0),void 0,t)}));function Ka(e){if(!e||!e.length)return[];var t=0;return e=ut(e,(function(e){if(Mo(e))return t=or(e.length,t),!0})),kt(t,(function(t){return ct(e,Et(t))}))}function Xa(e,t){if(!e||!e.length)return[];var r=Ka(e);return null==t?r:ct(r,(function(e){return nt(t,void 0,e)}))}var Ya=Bn((function(e,t){return Mo(e)?Qr(e,t):[]})),$a=Bn((function(e){return ii(ut(e,Mo))})),Ja=Bn((function(e){var t=Ba(e);return Mo(t)&&(t=void 0),ii(ut(e,Mo),Ji(t,2))})),Za=Bn((function(e){var t=Ba(e);return t="function"==typeof t?t:void 0,ii(ut(e,Mo),void 0,t)})),Qa=Bn(Ka);var eo=Bn((function(e){var t=e.length,r=t>1?e[t-1]:void 0;return r="function"==typeof r?(e.pop(),r):void 0,Xa(e,r)}));function to(e){var t=Lr(e);return t.__chain__=!0,t}function ro(e,t){return t(e)}var no=qi((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,i=function(t){return Xr(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Or&&sa(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:ro,args:[i],thisArg:void 0}),new Ir(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var io=_i((function(e,t,r){Ee.call(e,r)?++e[r]:Kr(e,r,1)}));var ao=ki(Oa),oo=ki(Da);function so(e,t){return(Po(e)?at:en)(e,Ji(t,3))}function uo(e,t){return(Po(e)?ot:tn)(e,Ji(t,3))}var lo=_i((function(e,t,r){Ee.call(e,r)?e[r].push(t):Kr(e,r,[t])}));var fo=Bn((function(e,t,r){var n=-1,i="function"==typeof t,a=Uo(e)?K(e.length):[];return en(e,(function(e){a[++n]=i?nt(t,e,r):bn(e,t,r)})),a})),co=_i((function(e,t,r){Kr(e,r,t)}));function ho(e,t){return(Po(e)?ct:Ln)(e,Ji(t,3))}var po=_i((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var vo=Bn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&ua(e,t[0],t[1])?t=[]:r>2&&ua(t[0],t[1],t[2])&&(t=[t[0]]),Dn(e,on(t,1),[])})),mo=Jt||function(){return qe.Date.now()};function go(e,t,r){return t=r?void 0:t,ji(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function yo(e,t){var r;if("function"!=typeof t)throw new ge(n);return e=is(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}var bo=Bn((function(e,t,r){var n=1;if(r.length){var i=Gt(r,$i(bo));n|=32}return ji(e,n,t,r,i)})),_o=Bn((function(e,t,r){var n=3;if(r.length){var i=Gt(r,$i(_o));n|=32}return ji(t,n,e,r,i)}));function wo(e,t,r){var i,a,o,s,u,l,f=0,c=!1,d=!1,h=!0;if("function"!=typeof e)throw new ge(n);function p(t){var r=i,n=a;return i=a=void 0,f=t,s=e.apply(n,r)}function v(e){return f=e,u=_a(g,t),c?p(e):s}function m(e){var r=e-l;return void 0===l||r>=t||r<0||d&&e-f>=o}function g(){var e=mo();if(m(e))return y(e);u=_a(g,function(e){var r=t-(e-l);return d?sr(r,o-(e-f)):r}(e))}function y(e){return u=void 0,h&&i?p(e):(i=a=void 0,s)}function b(){var e=mo(),r=m(e);if(i=arguments,a=this,l=e,r){if(void 0===u)return v(l);if(d)return ci(u),u=_a(g,t),p(l)}return void 0===u&&(u=_a(g,t)),s}return t=os(t)||0,Ho(r)&&(c=!!r.leading,o=(d="maxWait"in r)?or(os(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h),b.cancel=function(){void 0!==u&&ci(u),f=0,i=l=a=u=void 0},b.flush=function(){return void 0===u?s:y(mo())},b}var To=Bn((function(e,t){return Zr(e,1,t)})),Eo=Bn((function(e,t,r){return Zr(e,os(t)||0,r)}));function So(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ge(n);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(So.Cache||Fr),r}function Ao(e){if("function"!=typeof e)throw new ge(n);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}So.Cache=Fr;var xo=li((function(e,t){var r=(t=1==t.length&&Po(t[0])?ct(t[0],Rt(Ji())):ct(on(t,1),Rt(Ji()))).length;return Bn((function(n){for(var i=-1,a=sr(n.length,r);++i<a;)n[i]=t[i].call(this,n[i]);return nt(e,this,n)}))})),ko=Bn((function(e,t){return ji(e,32,void 0,t,Gt(t,$i(ko)))})),Lo=Bn((function(e,t){return ji(e,64,void 0,t,Gt(t,$i(Lo)))})),Ro=qi((function(e,t){return ji(e,256,void 0,void 0,void 0,t)}));function Co(e,t){return e===t||e!=e&&t!=t}var Io=Fi(vn),Oo=Fi((function(e,t){return e>=t})),Do=_n(function(){return arguments}())?_n:function(e){return qo(e)&&Ee.call(e,"callee")&&!Ke.call(e,"callee")},Po=K.isArray,Fo=Je?Rt(Je):function(e){return qo(e)&&pn(e)==w};function Uo(e){return null!=e&&Wo(e.length)&&!Go(e)}function Mo(e){return qo(e)&&Uo(e)}var No=rr||ou,Bo=Ze?Rt(Ze):function(e){return qo(e)&&pn(e)==l};function jo(e){if(!qo(e))return!1;var t=pn(e);return t==f||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Xo(e)}function Go(e){if(!Ho(e))return!1;var t=pn(e);return t==c||t==d||"[object AsyncFunction]"==t||"[object Proxy]"==t}function zo(e){return"number"==typeof e&&e==is(e)}function Wo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Ho(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function qo(e){return null!=e&&"object"==typeof e}var Vo=Qe?Rt(Qe):function(e){return qo(e)&&na(e)==h};function Ko(e){return"number"==typeof e||qo(e)&&pn(e)==p}function Xo(e){if(!qo(e)||pn(e)!=v)return!1;var t=He(e);if(null===t)return!0;var r=Ee.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Te.call(r)==ke}var Yo=et?Rt(et):function(e){return qo(e)&&pn(e)==m};var $o=tt?Rt(tt):function(e){return qo(e)&&na(e)==g};function Jo(e){return"string"==typeof e||!Po(e)&&qo(e)&&pn(e)==y}function Zo(e){return"symbol"==typeof e||qo(e)&&pn(e)==b}var Qo=rt?Rt(rt):function(e){return qo(e)&&Wo(e.length)&&!!Ne[pn(e)]};var es=Fi(kn),ts=Fi((function(e,t){return e<=t}));function rs(e){if(!e)return[];if(Uo(e))return Jo(e)?qt(e):yi(e);if(mt&&e[mt])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[mt]());var t=na(e);return(t==h?Bt:t==g?zt:Cs)(e)}function ns(e){return e?(e=os(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function is(e){var t=ns(e),r=t%1;return t==t?r?t-r:t:0}function as(e){return e?Yr(is(e),0,4294967295):0}function os(e){if("number"==typeof e)return e;if(Zo(e))return NaN;if(Ho(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ho(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Lt(e);var r=ne.test(e);return r||ae.test(e)?ze(e.slice(2),r?2:8):re.test(e)?NaN:+e}function ss(e){return bi(e,Ts(e))}function us(e){return null==e?"":Zn(e)}var ls=wi((function(e,t){if(da(t)||Uo(t))bi(t,ws(t),e);else for(var r in t)Ee.call(t,r)&&Wr(e,r,t[r])})),fs=wi((function(e,t){bi(t,Ts(t),e)})),cs=wi((function(e,t,r,n){bi(t,Ts(t),e,n)})),ds=wi((function(e,t,r,n){bi(t,ws(t),e,n)})),hs=qi(Xr);var ps=Bn((function(e,t){e=pe(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&ua(t[0],t[1],i)&&(n=1);++r<n;)for(var a=t[r],o=Ts(a),s=-1,u=o.length;++s<u;){var l=o[s],f=e[l];(void 0===f||Co(f,_e[l])&&!Ee.call(e,l))&&(e[l]=a[l])}return e})),vs=Bn((function(e){return e.push(void 0,zi),nt(Ss,void 0,e)}));function ms(e,t,r){var n=null==e?void 0:dn(e,t);return void 0===n?r:n}function gs(e,t){return null!=e&&ia(e,t,gn)}var ys=Ci((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=xe.call(t)),e[t]=r}),Hs(Ks)),bs=Ci((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=xe.call(t)),Ee.call(e,t)?e[t].push(r):e[t]=[r]}),Ji),_s=Bn(bn);function ws(e){return Uo(e)?Nr(e):An(e)}function Ts(e){return Uo(e)?Nr(e,!0):xn(e)}var Es=wi((function(e,t,r){In(e,t,r)})),Ss=wi((function(e,t,r,n){In(e,t,r,n)})),As=qi((function(e,t){var r={};if(null==e)return r;var n=!1;t=ct(t,(function(t){return t=ui(t,e),n||(n=t.length>1),t})),bi(e,Ki(e),r),n&&(r=$r(r,7,Wi));for(var i=t.length;i--;)ei(r,t[i]);return r}));var xs=qi((function(e,t){return null==e?{}:function(e,t){return Pn(e,t,(function(t,r){return gs(e,r)}))}(e,t)}));function ks(e,t){if(null==e)return{};var r=ct(Ki(e),(function(e){return[e]}));return t=Ji(t),Pn(e,r,(function(e,r){return t(e,r[0])}))}var Ls=Bi(ws),Rs=Bi(Ts);function Cs(e){return null==e?[]:Ct(e,ws(e))}var Is=Ai((function(e,t,r){return t=t.toLowerCase(),e+(r?Os(t):t)}));function Os(e){return js(us(e).toLowerCase())}function Ds(e){return(e=us(e))&&e.replace(se,Ft).replace(Ie,"")}var Ps=Ai((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Fs=Ai((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Us=Si("toLowerCase");var Ms=Ai((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var Ns=Ai((function(e,t,r){return e+(r?" ":"")+js(t)}));var Bs=Ai((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),js=Si("toUpperCase");function Gs(e,t,r){return e=us(e),void 0===(t=r?void 0:t)?function(e){return Fe.test(e)}(e)?function(e){return e.match(De)||[]}(e):function(e){return e.match(J)||[]}(e):e.match(t)||[]}var zs=Bn((function(e,t){try{return nt(e,void 0,t)}catch(e){return jo(e)?e:new ce(e)}})),Ws=qi((function(e,t){return at(t,(function(t){t=xa(t),Kr(e,t,bo(e[t],e))})),e}));function Hs(e){return function(){return e}}var qs=Li(),Vs=Li(!0);function Ks(e){return e}function Xs(e){return Sn("function"==typeof e?e:$r(e,1))}var Ys=Bn((function(e,t){return function(r){return bn(r,e,t)}})),$s=Bn((function(e,t){return function(r){return bn(e,r,t)}}));function Js(e,t,r){var n=ws(t),i=cn(t,n);null!=r||Ho(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=cn(t,ws(t)));var a=!(Ho(r)&&"chain"in r&&!r.chain),o=Go(e);return at(i,(function(r){var n=t[r];e[r]=n,o&&(e.prototype[r]=function(){var t=this.__chain__;if(a||t){var r=e(this.__wrapped__),i=r.__actions__=yi(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,dt([this.value()],arguments))})})),e}function Zs(){}var Qs=Oi(ct),eu=Oi(st),tu=Oi(vt);function ru(e){return la(e)?Et(xa(e)):function(e){return function(t){return dn(t,e)}}(e)}var nu=Pi(),iu=Pi(!0);function au(){return[]}function ou(){return!1}var su=Ii((function(e,t){return e+t}),0),uu=Mi("ceil"),lu=Ii((function(e,t){return e/t}),1),fu=Mi("floor");var cu,du=Ii((function(e,t){return e*t}),1),hu=Mi("round"),pu=Ii((function(e,t){return e-t}),0);return Lr.after=function(e,t){if("function"!=typeof t)throw new ge(n);return e=is(e),function(){if(--e<1)return t.apply(this,arguments)}},Lr.ary=go,Lr.assign=ls,Lr.assignIn=fs,Lr.assignInWith=cs,Lr.assignWith=ds,Lr.at=hs,Lr.before=yo,Lr.bind=bo,Lr.bindAll=Ws,Lr.bindKey=_o,Lr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Po(e)?e:[e]},Lr.chain=to,Lr.chunk=function(e,t,r){t=(r?ua(e,t,r):void 0===t)?1:or(is(t),0);var n=null==e?0:e.length;if(!n||t<1)return[];for(var i=0,a=0,o=K(Qt(n/t));i<n;)o[a++]=Vn(e,i,i+=t);return o},Lr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i},Lr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=K(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return dt(Po(r)?yi(r):[r],on(t,1))},Lr.cond=function(e){var t=null==e?0:e.length,r=Ji();return e=t?ct(e,(function(e){if("function"!=typeof e[1])throw new ge(n);return[r(e[0]),e[1]]})):[],Bn((function(r){for(var n=-1;++n<t;){var i=e[n];if(nt(i[0],this,r))return nt(i[1],this,r)}}))},Lr.conforms=function(e){return function(e){var t=ws(e);return function(r){return Jr(r,e,t)}}($r(e,1))},Lr.constant=Hs,Lr.countBy=io,Lr.create=function(e,t){var r=Rr(e);return null==t?r:Vr(r,t)},Lr.curry=function e(t,r,n){var i=ji(t,8,void 0,void 0,void 0,void 0,void 0,r=n?void 0:r);return i.placeholder=e.placeholder,i},Lr.curryRight=function e(t,r,n){var i=ji(t,16,void 0,void 0,void 0,void 0,void 0,r=n?void 0:r);return i.placeholder=e.placeholder,i},Lr.debounce=wo,Lr.defaults=ps,Lr.defaultsDeep=vs,Lr.defer=To,Lr.delay=Eo,Lr.difference=Ra,Lr.differenceBy=Ca,Lr.differenceWith=Ia,Lr.drop=function(e,t,r){var n=null==e?0:e.length;return n?Vn(e,(t=r||void 0===t?1:is(t))<0?0:t,n):[]},Lr.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?Vn(e,0,(t=n-(t=r||void 0===t?1:is(t)))<0?0:t):[]},Lr.dropRightWhile=function(e,t){return e&&e.length?ri(e,Ji(t,3),!0,!0):[]},Lr.dropWhile=function(e,t){return e&&e.length?ri(e,Ji(t,3),!0):[]},Lr.fill=function(e,t,r,n){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&ua(e,t,r)&&(r=0,n=i),function(e,t,r,n){var i=e.length;for((r=is(r))<0&&(r=-r>i?0:i+r),(n=void 0===n||n>i?i:is(n))<0&&(n+=i),n=r>n?0:as(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Lr.filter=function(e,t){return(Po(e)?ut:an)(e,Ji(t,3))},Lr.flatMap=function(e,t){return on(ho(e,t),1)},Lr.flatMapDeep=function(e,t){return on(ho(e,t),1/0)},Lr.flatMapDepth=function(e,t,r){return r=void 0===r?1:is(r),on(ho(e,t),r)},Lr.flatten=Pa,Lr.flattenDeep=function(e){return(null==e?0:e.length)?on(e,1/0):[]},Lr.flattenDepth=function(e,t){return(null==e?0:e.length)?on(e,t=void 0===t?1:is(t)):[]},Lr.flip=function(e){return ji(e,512)},Lr.flow=qs,Lr.flowRight=Vs,Lr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},Lr.functions=function(e){return null==e?[]:cn(e,ws(e))},Lr.functionsIn=function(e){return null==e?[]:cn(e,Ts(e))},Lr.groupBy=lo,Lr.initial=function(e){return(null==e?0:e.length)?Vn(e,0,-1):[]},Lr.intersection=Ua,Lr.intersectionBy=Ma,Lr.intersectionWith=Na,Lr.invert=ys,Lr.invertBy=bs,Lr.invokeMap=fo,Lr.iteratee=Xs,Lr.keyBy=co,Lr.keys=ws,Lr.keysIn=Ts,Lr.map=ho,Lr.mapKeys=function(e,t){var r={};return t=Ji(t,3),ln(e,(function(e,n,i){Kr(r,t(e,n,i),e)})),r},Lr.mapValues=function(e,t){var r={};return t=Ji(t,3),ln(e,(function(e,n,i){Kr(r,n,t(e,n,i))})),r},Lr.matches=function(e){return Rn($r(e,1))},Lr.matchesProperty=function(e,t){return Cn(e,$r(t,1))},Lr.memoize=So,Lr.merge=Es,Lr.mergeWith=Ss,Lr.method=Ys,Lr.methodOf=$s,Lr.mixin=Js,Lr.negate=Ao,Lr.nthArg=function(e){return e=is(e),Bn((function(t){return On(t,e)}))},Lr.omit=As,Lr.omitBy=function(e,t){return ks(e,Ao(Ji(t)))},Lr.once=function(e){return yo(2,e)},Lr.orderBy=function(e,t,r,n){return null==e?[]:(Po(t)||(t=null==t?[]:[t]),Po(r=n?void 0:r)||(r=null==r?[]:[r]),Dn(e,t,r))},Lr.over=Qs,Lr.overArgs=xo,Lr.overEvery=eu,Lr.overSome=tu,Lr.partial=ko,Lr.partialRight=Lo,Lr.partition=po,Lr.pick=xs,Lr.pickBy=ks,Lr.property=ru,Lr.propertyOf=function(e){return function(t){return null==e?void 0:dn(e,t)}},Lr.pull=ja,Lr.pullAll=Ga,Lr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Fn(e,t,Ji(r,2)):e},Lr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Fn(e,t,void 0,r):e},Lr.pullAt=za,Lr.range=nu,Lr.rangeRight=iu,Lr.rearg=Ro,Lr.reject=function(e,t){return(Po(e)?ut:an)(e,Ao(Ji(t,3)))},Lr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],a=e.length;for(t=Ji(t,3);++n<a;){var o=e[n];t(o,n,e)&&(r.push(o),i.push(n))}return Un(e,i),r},Lr.rest=function(e,t){if("function"!=typeof e)throw new ge(n);return Bn(e,t=void 0===t?t:is(t))},Lr.reverse=Wa,Lr.sampleSize=function(e,t,r){return t=(r?ua(e,t,r):void 0===t)?1:is(t),(Po(e)?jr:Gn)(e,t)},Lr.set=function(e,t,r){return null==e?e:zn(e,t,r)},Lr.setWith=function(e,t,r,n){return n="function"==typeof n?n:void 0,null==e?e:zn(e,t,r,n)},Lr.shuffle=function(e){return(Po(e)?Gr:qn)(e)},Lr.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&ua(e,t,r)?(t=0,r=n):(t=null==t?0:is(t),r=void 0===r?n:is(r)),Vn(e,t,r)):[]},Lr.sortBy=vo,Lr.sortedUniq=function(e){return e&&e.length?$n(e):[]},Lr.sortedUniqBy=function(e,t){return e&&e.length?$n(e,Ji(t,2)):[]},Lr.split=function(e,t,r){return r&&"number"!=typeof r&&ua(e,t,r)&&(t=r=void 0),(r=void 0===r?4294967295:r>>>0)?(e=us(e))&&("string"==typeof t||null!=t&&!Yo(t))&&!(t=Zn(t))&&Nt(e)?fi(qt(e),0,r):e.split(t,r):[]},Lr.spread=function(e,t){if("function"!=typeof e)throw new ge(n);return t=null==t?0:or(is(t),0),Bn((function(r){var n=r[t],i=fi(r,0,t);return n&&dt(i,n),nt(e,this,i)}))},Lr.tail=function(e){var t=null==e?0:e.length;return t?Vn(e,1,t):[]},Lr.take=function(e,t,r){return e&&e.length?Vn(e,0,(t=r||void 0===t?1:is(t))<0?0:t):[]},Lr.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?Vn(e,(t=n-(t=r||void 0===t?1:is(t)))<0?0:t,n):[]},Lr.takeRightWhile=function(e,t){return e&&e.length?ri(e,Ji(t,3),!1,!0):[]},Lr.takeWhile=function(e,t){return e&&e.length?ri(e,Ji(t,3)):[]},Lr.tap=function(e,t){return t(e),e},Lr.throttle=function(e,t,r){var i=!0,a=!0;if("function"!=typeof e)throw new ge(n);return Ho(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),wo(e,t,{leading:i,maxWait:t,trailing:a})},Lr.thru=ro,Lr.toArray=rs,Lr.toPairs=Ls,Lr.toPairsIn=Rs,Lr.toPath=function(e){return Po(e)?ct(e,xa):Zo(e)?[e]:yi(Aa(us(e)))},Lr.toPlainObject=ss,Lr.transform=function(e,t,r){var n=Po(e),i=n||No(e)||Qo(e);if(t=Ji(t,4),null==r){var a=e&&e.constructor;r=i?n?new a:[]:Ho(e)&&Go(a)?Rr(He(e)):{}}return(i?at:ln)(e,(function(e,n,i){return t(r,e,n,i)})),r},Lr.unary=function(e){return go(e,1)},Lr.union=Ha,Lr.unionBy=qa,Lr.unionWith=Va,Lr.uniq=function(e){return e&&e.length?Qn(e):[]},Lr.uniqBy=function(e,t){return e&&e.length?Qn(e,Ji(t,2)):[]},Lr.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Qn(e,void 0,t):[]},Lr.unset=function(e,t){return null==e||ei(e,t)},Lr.unzip=Ka,Lr.unzipWith=Xa,Lr.update=function(e,t,r){return null==e?e:ti(e,t,si(r))},Lr.updateWith=function(e,t,r,n){return n="function"==typeof n?n:void 0,null==e?e:ti(e,t,si(r),n)},Lr.values=Cs,Lr.valuesIn=function(e){return null==e?[]:Ct(e,Ts(e))},Lr.without=Ya,Lr.words=Gs,Lr.wrap=function(e,t){return ko(si(t),e)},Lr.xor=$a,Lr.xorBy=Ja,Lr.xorWith=Za,Lr.zip=Qa,Lr.zipObject=function(e,t){return ai(e||[],t||[],Wr)},Lr.zipObjectDeep=function(e,t){return ai(e||[],t||[],zn)},Lr.zipWith=eo,Lr.entries=Ls,Lr.entriesIn=Rs,Lr.extend=fs,Lr.extendWith=cs,Js(Lr,Lr),Lr.add=su,Lr.attempt=zs,Lr.camelCase=Is,Lr.capitalize=Os,Lr.ceil=uu,Lr.clamp=function(e,t,r){return void 0===r&&(r=t,t=void 0),void 0!==r&&(r=(r=os(r))==r?r:0),void 0!==t&&(t=(t=os(t))==t?t:0),Yr(os(e),t,r)},Lr.clone=function(e){return $r(e,4)},Lr.cloneDeep=function(e){return $r(e,5)},Lr.cloneDeepWith=function(e,t){return $r(e,5,t="function"==typeof t?t:void 0)},Lr.cloneWith=function(e,t){return $r(e,4,t="function"==typeof t?t:void 0)},Lr.conformsTo=function(e,t){return null==t||Jr(e,t,ws(t))},Lr.deburr=Ds,Lr.defaultTo=function(e,t){return null==e||e!=e?t:e},Lr.divide=lu,Lr.endsWith=function(e,t,r){e=us(e),t=Zn(t);var n=e.length,i=r=void 0===r?n:Yr(is(r),0,n);return(r-=t.length)>=0&&e.slice(r,i)==t},Lr.eq=Co,Lr.escape=function(e){return(e=us(e))&&M.test(e)?e.replace(F,Ut):e},Lr.escapeRegExp=function(e){return(e=us(e))&&q.test(e)?e.replace(H,"\\$&"):e},Lr.every=function(e,t,r){var n=Po(e)?st:rn;return r&&ua(e,t,r)&&(t=void 0),n(e,Ji(t,3))},Lr.find=ao,Lr.findIndex=Oa,Lr.findKey=function(e,t){return gt(e,Ji(t,3),ln)},Lr.findLast=oo,Lr.findLastIndex=Da,Lr.findLastKey=function(e,t){return gt(e,Ji(t,3),fn)},Lr.floor=fu,Lr.forEach=so,Lr.forEachRight=uo,Lr.forIn=function(e,t){return null==e?e:sn(e,Ji(t,3),Ts)},Lr.forInRight=function(e,t){return null==e?e:un(e,Ji(t,3),Ts)},Lr.forOwn=function(e,t){return e&&ln(e,Ji(t,3))},Lr.forOwnRight=function(e,t){return e&&fn(e,Ji(t,3))},Lr.get=ms,Lr.gt=Io,Lr.gte=Oo,Lr.has=function(e,t){return null!=e&&ia(e,t,mn)},Lr.hasIn=gs,Lr.head=Fa,Lr.identity=Ks,Lr.includes=function(e,t,r,n){e=Uo(e)?e:Cs(e),r=r&&!n?is(r):0;var i=e.length;return r<0&&(r=or(i+r,0)),Jo(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&bt(e,t,r)>-1},Lr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:is(r);return i<0&&(i=or(n+i,0)),bt(e,t,i)},Lr.inRange=function(e,t,r){return t=ns(t),void 0===r?(r=t,t=0):r=ns(r),function(e,t,r){return e>=sr(t,r)&&e<or(t,r)}(e=os(e),t,r)},Lr.invoke=_s,Lr.isArguments=Do,Lr.isArray=Po,Lr.isArrayBuffer=Fo,Lr.isArrayLike=Uo,Lr.isArrayLikeObject=Mo,Lr.isBoolean=function(e){return!0===e||!1===e||qo(e)&&pn(e)==u},Lr.isBuffer=No,Lr.isDate=Bo,Lr.isElement=function(e){return qo(e)&&1===e.nodeType&&!Xo(e)},Lr.isEmpty=function(e){if(null==e)return!0;if(Uo(e)&&(Po(e)||"string"==typeof e||"function"==typeof e.splice||No(e)||Qo(e)||Do(e)))return!e.length;var t=na(e);if(t==h||t==g)return!e.size;if(da(e))return!An(e).length;for(var r in e)if(Ee.call(e,r))return!1;return!0},Lr.isEqual=function(e,t){return wn(e,t)},Lr.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:void 0)?r(e,t):void 0;return void 0===n?wn(e,t,void 0,r):!!n},Lr.isError=jo,Lr.isFinite=function(e){return"number"==typeof e&&nr(e)},Lr.isFunction=Go,Lr.isInteger=zo,Lr.isLength=Wo,Lr.isMap=Vo,Lr.isMatch=function(e,t){return e===t||Tn(e,t,Qi(t))},Lr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:void 0,Tn(e,t,Qi(t),r)},Lr.isNaN=function(e){return Ko(e)&&e!=+e},Lr.isNative=function(e){if(ca(e))throw new ce("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return En(e)},Lr.isNil=function(e){return null==e},Lr.isNull=function(e){return null===e},Lr.isNumber=Ko,Lr.isObject=Ho,Lr.isObjectLike=qo,Lr.isPlainObject=Xo,Lr.isRegExp=Yo,Lr.isSafeInteger=function(e){return zo(e)&&e>=-9007199254740991&&e<=9007199254740991},Lr.isSet=$o,Lr.isString=Jo,Lr.isSymbol=Zo,Lr.isTypedArray=Qo,Lr.isUndefined=function(e){return void 0===e},Lr.isWeakMap=function(e){return qo(e)&&na(e)==_},Lr.isWeakSet=function(e){return qo(e)&&"[object WeakSet]"==pn(e)},Lr.join=function(e,t){return null==e?"":ir.call(e,t)},Lr.kebabCase=Ps,Lr.last=Ba,Lr.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n;return void 0!==r&&(i=(i=is(r))<0?or(n+i,0):sr(i,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,i):yt(e,wt,i,!0)},Lr.lowerCase=Fs,Lr.lowerFirst=Us,Lr.lt=es,Lr.lte=ts,Lr.max=function(e){return e&&e.length?nn(e,Ks,vn):void 0},Lr.maxBy=function(e,t){return e&&e.length?nn(e,Ji(t,2),vn):void 0},Lr.mean=function(e){return Tt(e,Ks)},Lr.meanBy=function(e,t){return Tt(e,Ji(t,2))},Lr.min=function(e){return e&&e.length?nn(e,Ks,kn):void 0},Lr.minBy=function(e,t){return e&&e.length?nn(e,Ji(t,2),kn):void 0},Lr.stubArray=au,Lr.stubFalse=ou,Lr.stubObject=function(){return{}},Lr.stubString=function(){return""},Lr.stubTrue=function(){return!0},Lr.multiply=du,Lr.nth=function(e,t){return e&&e.length?On(e,is(t)):void 0},Lr.noConflict=function(){return qe._===this&&(qe._=Le),this},Lr.noop=Zs,Lr.now=mo,Lr.pad=function(e,t,r){e=us(e);var n=(t=is(t))?Ht(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return Di(er(i),r)+e+Di(Qt(i),r)},Lr.padEnd=function(e,t,r){e=us(e);var n=(t=is(t))?Ht(e):0;return t&&n<t?e+Di(t-n,r):e},Lr.padStart=function(e,t,r){e=us(e);var n=(t=is(t))?Ht(e):0;return t&&n<t?Di(t-n,r)+e:e},Lr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),lr(us(e).replace(V,""),t||0)},Lr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&ua(e,t,r)&&(t=r=void 0),void 0===r&&("boolean"==typeof t?(r=t,t=void 0):"boolean"==typeof e&&(r=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ns(e),void 0===t?(t=e,e=0):t=ns(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var i=fr();return sr(e+i*(t-e+Ge("1e-"+((i+"").length-1))),t)}return Mn(e,t)},Lr.reduce=function(e,t,r){var n=Po(e)?ht:At,i=arguments.length<3;return n(e,Ji(t,4),r,i,en)},Lr.reduceRight=function(e,t,r){var n=Po(e)?pt:At,i=arguments.length<3;return n(e,Ji(t,4),r,i,tn)},Lr.repeat=function(e,t,r){return t=(r?ua(e,t,r):void 0===t)?1:is(t),Nn(us(e),t)},Lr.replace=function(){var e=arguments,t=us(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Lr.result=function(e,t,r){var n=-1,i=(t=ui(t,e)).length;for(i||(i=1,e=void 0);++n<i;){var a=null==e?void 0:e[xa(t[n])];void 0===a&&(n=i,a=r),e=Go(a)?a.call(e):a}return e},Lr.round=hu,Lr.runInContext=e,Lr.sample=function(e){return(Po(e)?Br:jn)(e)},Lr.size=function(e){if(null==e)return 0;if(Uo(e))return Jo(e)?Ht(e):e.length;var t=na(e);return t==h||t==g?e.size:An(e).length},Lr.snakeCase=Ms,Lr.some=function(e,t,r){var n=Po(e)?vt:Kn;return r&&ua(e,t,r)&&(t=void 0),n(e,Ji(t,3))},Lr.sortedIndex=function(e,t){return Xn(e,t)},Lr.sortedIndexBy=function(e,t,r){return Yn(e,t,Ji(r,2))},Lr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=Xn(e,t);if(n<r&&Co(e[n],t))return n}return-1},Lr.sortedLastIndex=function(e,t){return Xn(e,t,!0)},Lr.sortedLastIndexBy=function(e,t,r){return Yn(e,t,Ji(r,2),!0)},Lr.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=Xn(e,t,!0)-1;if(Co(e[r],t))return r}return-1},Lr.startCase=Ns,Lr.startsWith=function(e,t,r){return e=us(e),r=null==r?0:Yr(is(r),0,e.length),t=Zn(t),e.slice(r,r+t.length)==t},Lr.subtract=pu,Lr.sum=function(e){return e&&e.length?xt(e,Ks):0},Lr.sumBy=function(e,t){return e&&e.length?xt(e,Ji(t,2)):0},Lr.template=function(e,t,r){var n=Lr.templateSettings;r&&ua(e,t,r)&&(t=void 0),e=us(e),t=cs({},t,n,Gi);var i,a,o=cs({},t.imports,n.imports,Gi),s=ws(o),u=Ct(o,s),l=0,f=t.interpolate||ue,c="__p += '",d=ve((t.escape||ue).source+"|"+f.source+"|"+(f===j?ee:ue).source+"|"+(t.evaluate||ue).source+"|$","g"),h="//# sourceURL="+(Ee.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Me+"]")+"\n";e.replace(d,(function(t,r,n,o,s,u){return n||(n=o),c+=e.slice(l,u).replace(le,Mt),r&&(i=!0,c+="' +\n__e("+r+") +\n'"),s&&(a=!0,c+="';\n"+s+";\n__p += '"),n&&(c+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),c+="';\n";var p=Ee.call(t,"variable")&&t.variable;if(p){if(Z.test(p))throw new ce("Invalid `variable` option passed into `_.template`")}else c="with (obj) {\n"+c+"\n}\n";c=(a?c.replace(I,""):c).replace(O,"$1").replace(D,"$1;"),c="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var v=zs((function(){return de(s,h+"return "+c).apply(void 0,u)}));if(v.source=c,jo(v))throw v;return v},Lr.times=function(e,t){if((e=is(e))<1||e>9007199254740991)return[];var r=4294967295,n=sr(e,4294967295);e-=4294967295;for(var i=kt(n,t=Ji(t));++r<e;)t(r);return i},Lr.toFinite=ns,Lr.toInteger=is,Lr.toLength=as,Lr.toLower=function(e){return us(e).toLowerCase()},Lr.toNumber=os,Lr.toSafeInteger=function(e){return e?Yr(is(e),-9007199254740991,9007199254740991):0===e?e:0},Lr.toString=us,Lr.toUpper=function(e){return us(e).toUpperCase()},Lr.trim=function(e,t,r){if((e=us(e))&&(r||void 0===t))return Lt(e);if(!e||!(t=Zn(t)))return e;var n=qt(e),i=qt(t);return fi(n,Ot(n,i),Dt(n,i)+1).join("")},Lr.trimEnd=function(e,t,r){if((e=us(e))&&(r||void 0===t))return e.slice(0,Vt(e)+1);if(!e||!(t=Zn(t)))return e;var n=qt(e);return fi(n,0,Dt(n,qt(t))+1).join("")},Lr.trimStart=function(e,t,r){if((e=us(e))&&(r||void 0===t))return e.replace(V,"");if(!e||!(t=Zn(t)))return e;var n=qt(e);return fi(n,Ot(n,qt(t))).join("")},Lr.truncate=function(e,t){var r=30,n="...";if(Ho(t)){var i="separator"in t?t.separator:i;r="length"in t?is(t.length):r,n="omission"in t?Zn(t.omission):n}var a=(e=us(e)).length;if(Nt(e)){var o=qt(e);a=o.length}if(r>=a)return e;var s=r-Ht(n);if(s<1)return n;var u=o?fi(o,0,s).join(""):e.slice(0,s);if(void 0===i)return u+n;if(o&&(s+=u.length-s),Yo(i)){if(e.slice(s).search(i)){var l,f=u;for(i.global||(i=ve(i.source,us(te.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var c=l.index;u=u.slice(0,void 0===c?s:c)}}else if(e.indexOf(Zn(i),s)!=s){var d=u.lastIndexOf(i);d>-1&&(u=u.slice(0,d))}return u+n},Lr.unescape=function(e){return(e=us(e))&&U.test(e)?e.replace(P,Kt):e},Lr.uniqueId=function(e){var t=++Se;return us(e)+t},Lr.upperCase=Bs,Lr.upperFirst=js,Lr.each=so,Lr.eachRight=uo,Lr.first=Fa,Js(Lr,(cu={},ln(Lr,(function(e,t){Ee.call(Lr.prototype,t)||(cu[t]=e)})),cu),{chain:!1}),Lr.VERSION="4.17.21",at(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Lr[e].placeholder=Lr})),at(["drop","take"],(function(e,t){Or.prototype[e]=function(r){r=void 0===r?1:or(is(r),0);var n=this.__filtered__&&!t?new Or(this):this.clone();return n.__filtered__?n.__takeCount__=sr(r,n.__takeCount__):n.__views__.push({size:sr(r,4294967295),type:e+(n.__dir__<0?"Right":"")}),n},Or.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),at(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Or.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ji(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),at(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Or.prototype[e]=function(){return this[r](1).value()[0]}})),at(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Or.prototype[e]=function(){return this.__filtered__?new Or(this):this[r](1)}})),Or.prototype.compact=function(){return this.filter(Ks)},Or.prototype.find=function(e){return this.filter(e).head()},Or.prototype.findLast=function(e){return this.reverse().find(e)},Or.prototype.invokeMap=Bn((function(e,t){return"function"==typeof e?new Or(this):this.map((function(r){return bn(r,e,t)}))})),Or.prototype.reject=function(e){return this.filter(Ao(Ji(e)))},Or.prototype.slice=function(e,t){e=is(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Or(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),void 0!==t&&(r=(t=is(t))<0?r.dropRight(-t):r.take(t-e)),r)},Or.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Or.prototype.toArray=function(){return this.take(4294967295)},ln(Or.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),i=Lr[n?"take"+("last"==t?"Right":""):t],a=n||/^find/.test(t);i&&(Lr.prototype[t]=function(){var t=this.__wrapped__,o=n?[1]:arguments,s=t instanceof Or,u=o[0],l=s||Po(t),f=function(e){var t=i.apply(Lr,dt([e],o));return n&&c?t[0]:t};l&&r&&"function"==typeof u&&1!=u.length&&(s=l=!1);var c=this.__chain__,d=!!this.__actions__.length,h=a&&!c,p=s&&!d;if(!a&&l){t=p?t:new Or(this);var v=e.apply(t,o);return v.__actions__.push({func:ro,args:[f],thisArg:void 0}),new Ir(v,c)}return h&&p?e.apply(this,o):(v=this.thru(f),h?n?v.value()[0]:v.value():v)})})),at(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ye[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Lr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Po(i)?i:[],e)}return this[r]((function(r){return t.apply(Po(r)?r:[],e)}))}})),ln(Or.prototype,(function(e,t){var r=Lr[t];if(r){var n=r.name+"";Ee.call(br,n)||(br[n]=[]),br[n].push({name:t,func:r})}})),br[Ri(void 0,2).name]=[{name:"wrapper",func:void 0}],Or.prototype.clone=function(){var e=new Or(this.__wrapped__);return e.__actions__=yi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=yi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=yi(this.__views__),e},Or.prototype.reverse=function(){if(this.__filtered__){var e=new Or(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Or.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Po(e),n=t<0,i=r?e.length:0,a=function(e,t,r){var n=-1,i=r.length;for(;++n<i;){var a=r[n],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=sr(t,e+o);break;case"takeRight":e=or(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,u=s-o,l=n?s:o-1,f=this.__iteratees__,c=f.length,d=0,h=sr(u,this.__takeCount__);if(!r||!n&&i==u&&h==u)return ni(e,this.__actions__);var p=[];e:for(;u--&&d<h;){for(var v=-1,m=e[l+=t];++v<c;){var g=f[v],y=g.iteratee,b=g.type,_=y(m);if(2==b)m=_;else if(!_){if(1==b)continue e;break e}}p[d++]=m}return p},Lr.prototype.at=no,Lr.prototype.chain=function(){return to(this)},Lr.prototype.commit=function(){return new Ir(this.value(),this.__chain__)},Lr.prototype.next=function(){void 0===this.__values__&&(this.__values__=rs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Lr.prototype.plant=function(e){for(var t,r=this;r instanceof Cr;){var n=La(r);n.__index__=0,n.__values__=void 0,t?i.__wrapped__=n:t=n;var i=n;r=r.__wrapped__}return i.__wrapped__=e,t},Lr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Or){var t=e;return this.__actions__.length&&(t=new Or(this)),(t=t.reverse()).__actions__.push({func:ro,args:[Wa],thisArg:void 0}),new Ir(t,this.__chain__)}return this.thru(Wa)},Lr.prototype.toJSON=Lr.prototype.valueOf=Lr.prototype.value=function(){return ni(this.__wrapped__,this.__actions__)},Lr.prototype.first=Lr.prototype.head,mt&&(Lr.prototype[mt]=function(){return this}),Lr}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(qe._=Xt,define((function(){return Xt}))):Ke?((Ke.exports=Xt)._=Xt,Ve._=Xt):qe._=Xt}).call(this)}).call(this,r(76),r(79)(e))},function(e,t,r){var n,i;n=[r(0),r(3),r(2),r(51),r(52)],void 0===(i=function(e,t,r,n){"use strict";var i,a=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,o=e.fn.init=function(o,s,u){var l,f;if(!o)return this;if(u=u||i,"string"==typeof o){if(!(l="<"===o[0]&&">"===o[o.length-1]&&o.length>=3?[null,o,null]:a.exec(o))||!l[1]&&s)return!s||s.jquery?(s||u).find(o):this.constructor(s).find(o);if(l[1]){if(s=s instanceof e?s[0]:s,e.merge(this,e.parseHTML(l[1],s&&s.nodeType?s.ownerDocument||s:t,!0)),n.test(l[1])&&e.isPlainObject(s))for(l in s)r(this[l])?this[l](s[l]):this.attr(l,s[l]);return this}return(f=t.getElementById(l[2]))&&(this[0]=f,this.length=1),this}return o.nodeType?(this[0]=o,this.length=1,this):r(o)?void 0!==u.ready?u.ready(o):o(e):e.makeArray(o,this)};return o.prototype=e.fn,i=e(t),o}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(54)],void 0===(i=function(e){"use strict";return new e}.apply(t,n))||(e.exports=i)},function(e,t,r){var n;void 0===(n=function(){"use strict";return function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(){"use strict";return/[^\x20\t\r\n\f]+/g}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(){"use strict";return{}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n,i;n=[r(0),r(13),r(2)],void 0===(i=function(e,t,r){"use strict";var n=function(i,a,o,s,u,l,f){var c=0,d=i.length,h=null==o;if("object"===t(o))for(c in u=!0,o)n(i,a,c,o[c],!0,l,f);else if(void 0!==s&&(u=!0,r(s)||(f=!0),h&&(f?(a.call(i,s),a=null):(h=a,a=function(t,r,n){return h.call(e(t),n)})),a))for(;c<d;c++)a(i[c],o,f?s:s.call(i[c],c,a(i[c],o)));return u?i:h?a.call(i):d?a(i[0],o):l};return n}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(3),r(2),r(9),r(108),r(71),r(72),r(6),r(73),r(40),r(15),r(74)],void 0===(i=function(e,t,r,n,i,a,o){"use strict";var s=/%20/g,u=/#.*$/,l=/([?&])_=[^&]*/,f=/^(.*?):[ \t]*([^\r\n]*)$/gm,c=/^(?:GET|HEAD)$/,d=/^\/\//,h={},p={},v="*/".concat("*"),m=t.createElement("a");function g(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var a,o=0,s=t.toLowerCase().match(n)||[];if(r(i))for(;a=s[o++];)"+"===a[0]?(a=a.slice(1)||"*",(e[a]=e[a]||[]).unshift(i)):(e[a]=e[a]||[]).push(i)}}function y(t,r,n,i){var a={},o=t===p;function s(u){var l;return a[u]=!0,e.each(t[u]||[],(function(e,t){var u=t(r,n,i);return"string"!=typeof u||o||a[u]?o?!(l=u):void 0:(r.dataTypes.unshift(u),s(u),!1)})),l}return s(r.dataTypes[0])||!a["*"]&&s("*")}function b(t,r){var n,i,a=e.ajaxSettings.flatOptions||{};for(n in r)void 0!==r[n]&&((a[n]?t:i||(i={}))[n]=r[n]);return i&&e.extend(!0,t,i),t}return m.href=i.href,e.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:i.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(i.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":v,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":e.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,r){return r?b(b(t,e.ajaxSettings),r):b(e.ajaxSettings,t)},ajaxPrefilter:g(h),ajaxTransport:g(p),ajax:function(r,g){"object"==typeof r&&(g=r,r=void 0),g=g||{};var b,_,w,T,E,S,A,x,k,L,R=e.ajaxSetup({},g),C=R.context||R,I=R.context&&(C.nodeType||C.jquery)?e(C):e.event,O=e.Deferred(),D=e.Callbacks("once memory"),P=R.statusCode||{},F={},U={},M="canceled",N={readyState:0,getResponseHeader:function(e){var t;if(A){if(!T)for(T={};t=f.exec(w);)T[t[1].toLowerCase()+" "]=(T[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=T[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return A?w:null},setRequestHeader:function(e,t){return null==A&&(e=U[e.toLowerCase()]=U[e.toLowerCase()]||e,F[e]=t),this},overrideMimeType:function(e){return null==A&&(R.mimeType=e),this},statusCode:function(e){var t;if(e)if(A)N.always(e[N.status]);else for(t in e)P[t]=[P[t],e[t]];return this},abort:function(e){var t=e||M;return b&&b.abort(t),B(0,t),this}};if(O.promise(N),R.url=((r||R.url||i.href)+"").replace(d,i.protocol+"//"),R.type=g.method||g.type||R.method||R.type,R.dataTypes=(R.dataType||"*").toLowerCase().match(n)||[""],null==R.crossDomain){S=t.createElement("a");try{S.href=R.url,S.href=S.href,R.crossDomain=m.protocol+"//"+m.host!=S.protocol+"//"+S.host}catch(e){R.crossDomain=!0}}if(R.data&&R.processData&&"string"!=typeof R.data&&(R.data=e.param(R.data,R.traditional)),y(h,R,g,N),A)return N;for(k in(x=e.event&&R.global)&&0==e.active++&&e.event.trigger("ajaxStart"),R.type=R.type.toUpperCase(),R.hasContent=!c.test(R.type),_=R.url.replace(u,""),R.hasContent?R.data&&R.processData&&0===(R.contentType||"").indexOf("application/x-www-form-urlencoded")&&(R.data=R.data.replace(s,"+")):(L=R.url.slice(_.length),R.data&&(R.processData||"string"==typeof R.data)&&(_+=(o.test(_)?"&":"?")+R.data,delete R.data),!1===R.cache&&(_=_.replace(l,"$1"),L=(o.test(_)?"&":"?")+"_="+a.guid+++L),R.url=_+L),R.ifModified&&(e.lastModified[_]&&N.setRequestHeader("If-Modified-Since",e.lastModified[_]),e.etag[_]&&N.setRequestHeader("If-None-Match",e.etag[_])),(R.data&&R.hasContent&&!1!==R.contentType||g.contentType)&&N.setRequestHeader("Content-Type",R.contentType),N.setRequestHeader("Accept",R.dataTypes[0]&&R.accepts[R.dataTypes[0]]?R.accepts[R.dataTypes[0]]+("*"!==R.dataTypes[0]?", "+v+"; q=0.01":""):R.accepts["*"]),R.headers)N.setRequestHeader(k,R.headers[k]);if(R.beforeSend&&(!1===R.beforeSend.call(C,N,R)||A))return N.abort();if(M="abort",D.add(R.complete),N.done(R.success),N.fail(R.error),b=y(p,R,g,N)){if(N.readyState=1,x&&I.trigger("ajaxSend",[N,R]),A)return N;R.async&&R.timeout>0&&(E=window.setTimeout((function(){N.abort("timeout")}),R.timeout));try{A=!1,b.send(F,B)}catch(e){if(A)throw e;B(-1,e)}}else B(-1,"No Transport");function B(t,r,n,i){var a,o,s,u,l,f=r;A||(A=!0,E&&window.clearTimeout(E),b=void 0,w=i||"",N.readyState=t>0?4:0,a=t>=200&&t<300||304===t,n&&(u=function(e,t,r){for(var n,i,a,o,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(i in s)if(s[i]&&s[i].test(n)){u.unshift(i);break}if(u[0]in r)a=u[0];else{for(i in r){if(!u[0]||e.converters[i+" "+u[0]]){a=i;break}o||(o=i)}a=a||o}if(a)return a!==u[0]&&u.unshift(a),r[a]}(R,N,n)),!a&&e.inArray("script",R.dataTypes)>-1&&e.inArray("json",R.dataTypes)<0&&(R.converters["text script"]=function(){}),u=function(e,t,r,n){var i,a,o,s,u,l={},f=e.dataTypes.slice();if(f[1])for(o in e.converters)l[o.toLowerCase()]=e.converters[o];for(a=f.shift();a;)if(e.responseFields[a]&&(r[e.responseFields[a]]=t),!u&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=a,a=f.shift())if("*"===a)a=u;else if("*"!==u&&u!==a){if(!(o=l[u+" "+a]||l["* "+a]))for(i in l)if((s=i.split(" "))[1]===a&&(o=l[u+" "+s[0]]||l["* "+s[0]])){!0===o?o=l[i]:!0!==l[i]&&(a=s[0],f.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+u+" to "+a}}}return{state:"success",data:t}}(R,u,N,a),a?(R.ifModified&&((l=N.getResponseHeader("Last-Modified"))&&(e.lastModified[_]=l),(l=N.getResponseHeader("etag"))&&(e.etag[_]=l)),204===t||"HEAD"===R.type?f="nocontent":304===t?f="notmodified":(f=u.state,o=u.data,a=!(s=u.error))):(s=f,!t&&f||(f="error",t<0&&(t=0))),N.status=t,N.statusText=(r||f)+"",a?O.resolveWith(C,[o,f,N]):O.rejectWith(C,[N,f,s]),N.statusCode(P),P=void 0,x&&I.trigger(a?"ajaxSuccess":"ajaxError",[N,R,a?o:s]),D.fireWith(C,[N,f]),x&&(I.trigger("ajaxComplete",[N,R]),--e.active||e.event.trigger("ajaxStop")))}return N},getJSON:function(t,r,n){return e.get(t,r,n,"json")},getScript:function(t,r){return e.get(t,void 0,r,"script")}}),e.each(["get","post"],(function(t,n){e[n]=function(t,i,a,o){return r(i)&&(o=o||a,a=i,i=void 0),e.ajax(e.extend({url:t,type:n,dataType:o,data:i,success:a},e.isPlainObject(t)&&t))}})),e.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),e}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(22),r(47)],void 0===(i=function(e,t){"use strict";return function(r){return null==r?r+"":"object"==typeof r||"function"==typeof r?e[t.call(r)]||"object":typeof r}}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(44),r(28),r(91),r(92),r(50),r(8),r(6),r(52),r(4)],void 0===(i=function(e,t,r,n,i,a,o){"use strict";var s=/^(?:parents|prev(?:Until|All))/,u={children:!0,contents:!0,next:!0,prev:!0};function l(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}return e.fn.extend({has:function(t){var r=e(t,this),n=r.length;return this.filter((function(){for(var t=0;t<n;t++)if(e.contains(this,r[t]))return!0}))},closest:function(t,r){var n,i=0,o=this.length,s=[],u="string"!=typeof t&&e(t);if(!a.test(t))for(;i<o;i++)for(n=this[i];n&&n!==r;n=n.parentNode)if(n.nodeType<11&&(u?u.index(n)>-1:1===n.nodeType&&e.find.matchesSelector(n,t))){s.push(n);break}return this.pushStack(s.length>1?e.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?r.call(e(t),this[0]):r.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,r){return this.pushStack(e.uniqueSort(e.merge(this.get(),e(t,r))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),e.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return n(e,"parentNode")},parentsUntil:function(e,t,r){return n(e,"parentNode",r)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return n(e,"nextSibling")},prevAll:function(e){return n(e,"previousSibling")},nextUntil:function(e,t,r){return n(e,"nextSibling",r)},prevUntil:function(e,t,r){return n(e,"previousSibling",r)},siblings:function(e){return i((e.parentNode||{}).firstChild,e)},children:function(e){return i(e.firstChild)},contents:function(r){return null!=r.contentDocument&&t(r.contentDocument)?r.contentDocument:(o(r,"template")&&(r=r.content||r),e.merge([],r.childNodes))}},(function(t,r){e.fn[t]=function(n,i){var a=e.map(this,r,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(a=e.filter(i,a)),this.length>1&&(u[t]||e.uniqueSort(a),s.test(t)&&a.reverse()),this.pushStack(a)}})),e}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(2),r(21),r(30)],void 0===(i=function(e,t,r){"use strict";function n(e){return e}function i(e){throw e}function a(e,r,n,i){var a;try{e&&t(a=e.promise)?a.call(e).done(r).fail(n):e&&t(a=e.then)?a.call(e,r,n):r.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}return e.extend({Deferred:function(r){var a=[["notify","progress",e.Callbacks("memory"),e.Callbacks("memory"),2],["resolve","done",e.Callbacks("once memory"),e.Callbacks("once memory"),0,"resolved"],["reject","fail",e.Callbacks("once memory"),e.Callbacks("once memory"),1,"rejected"]],o="pending",s={state:function(){return o},always:function(){return u.done(arguments).fail(arguments),this},catch:function(e){return s.then(null,e)},pipe:function(){var r=arguments;return e.Deferred((function(n){e.each(a,(function(e,i){var a=t(r[i[4]])&&r[i[4]];u[i[1]]((function(){var e=a&&a.apply(this,arguments);e&&t(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,a?[e]:arguments)}))})),r=null})).promise()},then:function(r,o,s){var u=0;function l(r,a,o,s){return function(){var f=this,c=arguments,d=function(){var e,d;if(!(r<u)){if((e=o.apply(f,c))===a.promise())throw new TypeError("Thenable self-resolution");d=e&&("object"==typeof e||"function"==typeof e)&&e.then,t(d)?s?d.call(e,l(u,a,n,s),l(u,a,i,s)):(u++,d.call(e,l(u,a,n,s),l(u,a,i,s),l(u,a,n,a.notifyWith))):(o!==n&&(f=void 0,c=[e]),(s||a.resolveWith)(f,c))}},h=s?d:function(){try{d()}catch(t){e.Deferred.exceptionHook&&e.Deferred.exceptionHook(t,h.stackTrace),r+1>=u&&(o!==i&&(f=void 0,c=[t]),a.rejectWith(f,c))}};r?h():(e.Deferred.getStackHook&&(h.stackTrace=e.Deferred.getStackHook()),window.setTimeout(h))}}return e.Deferred((function(e){a[0][3].add(l(0,e,t(s)?s:n,e.notifyWith)),a[1][3].add(l(0,e,t(r)?r:n)),a[2][3].add(l(0,e,t(o)?o:i))})).promise()},promise:function(t){return null!=t?e.extend(t,s):s}},u={};return e.each(a,(function(e,t){var r=t[2],n=t[5];s[t[1]]=r.add,n&&r.add((function(){o=n}),a[3-e][2].disable,a[3-e][3].disable,a[0][2].lock,a[0][3].lock),r.add(t[3].fire),u[t[0]]=function(){return u[t[0]+"With"](this===u?void 0:this,arguments),this},u[t[0]+"With"]=r.fireWith})),s.promise(u),r&&r.call(u,u),u},when:function(n){var i=arguments.length,o=i,s=Array(o),u=r.call(arguments),l=e.Deferred(),f=function(e){return function(t){s[e]=this,u[e]=arguments.length>1?r.call(arguments):t,--i||l.resolveWith(s,u)}};if(i<=1&&(a(n,l.done(f(o)).resolve,l.reject,!i),"pending"===l.state()||t(u[o]&&u[o].then)))return l.then();for(;o--;)a(u[o],f(o),l.reject);return l.promise()}}),e}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(3),r(25),r(2),r(9),r(35),r(21),r(23),r(7),r(8),r(6),r(4)],void 0===(i=function(e,t,r,n,i,a,o,s,u,l){"use strict";var f=/^([^.]*)(?:\.(.+)|)/;function c(){return!0}function d(){return!1}function h(e,r){return e===function(){try{return t.activeElement}catch(e){}}()==("focus"===r)}function p(t,r,n,i,a,o){var s,u;if("object"==typeof r){for(u in"string"!=typeof n&&(i=i||n,n=void 0),r)p(t,u,n,i,r[u],o);return t}if(null==i&&null==a?(a=n,i=n=void 0):null==a&&("string"==typeof n?(a=i,i=void 0):(a=i,i=n,n=void 0)),!1===a)a=d;else if(!a)return t;return 1===o&&(s=a,(a=function(t){return e().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=e.guid++)),t.each((function(){e.event.add(this,r,a,i,n)}))}function v(t,r,n){n?(u.set(t,r,!1),e.event.add(t,r,{namespace:!1,handler:function(t){var i,a,s=u.get(this,r);if(1&t.isTrigger&&this[r]){if(s.length)(e.event.special[r]||{}).delegateType&&t.stopPropagation();else if(s=o.call(arguments),u.set(this,r,s),i=n(this,r),this[r](),s!==(a=u.get(this,r))||i?u.set(this,r,!1):a={},s!==a)return t.stopImmediatePropagation(),t.preventDefault(),a&&a.value}else s.length&&(u.set(this,r,{value:e.event.trigger(e.extend(s[0],e.Event.prototype),s.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===u.get(t,r)&&e.event.add(t,r,c)}return e.event={global:{},add:function(t,n,a,o,l){var c,d,h,p,v,m,g,y,b,_,w,T=u.get(t);if(s(t))for(a.handler&&(a=(c=a).handler,l=c.selector),l&&e.find.matchesSelector(r,l),a.guid||(a.guid=e.guid++),(p=T.events)||(p=T.events=Object.create(null)),(d=T.handle)||(d=T.handle=function(r){return void 0!==e&&e.event.triggered!==r.type?e.event.dispatch.apply(t,arguments):void 0}),v=(n=(n||"").match(i)||[""]).length;v--;)b=w=(h=f.exec(n[v])||[])[1],_=(h[2]||"").split(".").sort(),b&&(g=e.event.special[b]||{},b=(l?g.delegateType:g.bindType)||b,g=e.event.special[b]||{},m=e.extend({type:b,origType:w,data:o,handler:a,guid:a.guid,selector:l,needsContext:l&&e.expr.match.needsContext.test(l),namespace:_.join(".")},c),(y=p[b])||((y=p[b]=[]).delegateCount=0,g.setup&&!1!==g.setup.call(t,o,_,d)||t.addEventListener&&t.addEventListener(b,d)),g.add&&(g.add.call(t,m),m.handler.guid||(m.handler.guid=a.guid)),l?y.splice(y.delegateCount++,0,m):y.push(m),e.event.global[b]=!0)},remove:function(t,r,n,a,o){var s,l,c,d,h,p,v,m,g,y,b,_=u.hasData(t)&&u.get(t);if(_&&(d=_.events)){for(h=(r=(r||"").match(i)||[""]).length;h--;)if(g=b=(c=f.exec(r[h])||[])[1],y=(c[2]||"").split(".").sort(),g){for(v=e.event.special[g]||{},m=d[g=(a?v.delegateType:v.bindType)||g]||[],c=c[2]&&new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=s=m.length;s--;)p=m[s],!o&&b!==p.origType||n&&n.guid!==p.guid||c&&!c.test(p.namespace)||a&&a!==p.selector&&("**"!==a||!p.selector)||(m.splice(s,1),p.selector&&m.delegateCount--,v.remove&&v.remove.call(t,p));l&&!m.length&&(v.teardown&&!1!==v.teardown.call(t,y,_.handle)||e.removeEvent(t,g,_.handle),delete d[g])}else for(g in d)e.event.remove(t,g+r[h],n,a,!0);e.isEmptyObject(d)&&u.remove(t,"handle events")}},dispatch:function(t){var r,n,i,a,o,s,l=new Array(arguments.length),f=e.event.fix(t),c=(u.get(this,"events")||Object.create(null))[f.type]||[],d=e.event.special[f.type]||{};for(l[0]=f,r=1;r<arguments.length;r++)l[r]=arguments[r];if(f.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,f)){for(s=e.event.handlers.call(this,f,c),r=0;(a=s[r++])&&!f.isPropagationStopped();)for(f.currentTarget=a.elem,n=0;(o=a.handlers[n++])&&!f.isImmediatePropagationStopped();)f.rnamespace&&!1!==o.namespace&&!f.rnamespace.test(o.namespace)||(f.handleObj=o,f.data=o.data,void 0!==(i=((e.event.special[o.origType]||{}).handle||o.handler).apply(a.elem,l))&&!1===(f.result=i)&&(f.preventDefault(),f.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,f),f.result}},handlers:function(t,r){var n,i,a,o,s,u=[],l=r.delegateCount,f=t.target;if(l&&f.nodeType&&!("click"===t.type&&t.button>=1))for(;f!==this;f=f.parentNode||this)if(1===f.nodeType&&("click"!==t.type||!0!==f.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[a=(i=r[n]).selector+" "]&&(s[a]=i.needsContext?e(a,this).index(f)>-1:e.find(a,this,null,[f]).length),s[a]&&o.push(i);o.length&&u.push({elem:f,handlers:o})}return f=this,l<r.length&&u.push({elem:f,handlers:r.slice(l)}),u},addProp:function(t,r){Object.defineProperty(e.Event.prototype,t,{enumerable:!0,configurable:!0,get:n(r)?function(){if(this.originalEvent)return r(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[e.expando]?t:new e.Event(t)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return a.test(t.type)&&t.click&&l(t,"input")&&v(t,"click",c),!1},trigger:function(e){var t=this||e;return a.test(t.type)&&t.click&&l(t,"input")&&v(t,"click"),!0},_default:function(e){var t=e.target;return a.test(t.type)&&t.click&&l(t,"input")&&u.get(t,"click")||l(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},e.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},e.Event=function(t,r){if(!(this instanceof e.Event))return new e.Event(t,r);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?c:d,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,r&&e.extend(this,r),this.timeStamp=t&&t.timeStamp||Date.now(),this[e.expando]=!0},e.Event.prototype={constructor:e.Event,isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=c,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=c,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=c,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},e.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},e.event.addProp),e.each({focus:"focusin",blur:"focusout"},(function(t,r){e.event.special[t]={setup:function(){return v(this,t,h),!1},trigger:function(){return v(this,t),!0},_default:function(){return!0},delegateType:r}})),e.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,r){e.event.special[t]={delegateType:r,bindType:r,handle:function(t){var n,i=this,a=t.relatedTarget,o=t.handleObj;return a&&(a===i||e.contains(i,a))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=r),n}}})),e.fn.extend({on:function(e,t,r,n){return p(this,e,t,r,n)},one:function(e,t,r,n){return p(this,e,t,r,n,1)},off:function(t,r,n){var i,a;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,e(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(a in t)this.off(a,r,t[a]);return this}return!1!==r&&"function"!=typeof r||(n=r,r=void 0),!1===n&&(n=d),this.each((function(){e.event.remove(this,t,n,r)}))}}),e}.apply(t,n))||(e.exports=i)},function(e,t,r){var n;void 0===(n=function(){"use strict";return[]}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(){"use strict";return function(e){return null!=e&&e===e.window}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(){"use strict";var e=/^-ms-/,t=/-([a-z])/g;function r(e,t){return t.toUpperCase()}return function(n){return n.replace(e,"ms-").replace(t,r)}}.apply(t,[]))||(e.exports=n)},function(e,t,r){var n,i;n=[r(0),r(11),r(19),r(8),r(33),r(36),r(34),r(66),r(98),r(67),r(58),r(68),r(37),r(69),r(6),r(53),r(4)],void 0===(i=function(e,t,r,n,i,a,o,s,u,l,f,c,d,h){"use strict";var p=/^(none|table(?!-c[ea]).+)/,v=/^--/,m={position:"absolute",visibility:"hidden",display:"block"},g={letterSpacing:"0",fontWeight:"400"};function y(e,t,r){var n=i.exec(t);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):t}function b(t,r,n,i,a,s){var u="width"===r?1:0,l=0,f=0;if(n===(i?"border":"content"))return 0;for(;u<4;u+=2)"margin"===n&&(f+=e.css(t,n+o[u],!0,a)),i?("content"===n&&(f-=e.css(t,"padding"+o[u],!0,a)),"margin"!==n&&(f-=e.css(t,"border"+o[u]+"Width",!0,a))):(f+=e.css(t,"padding"+o[u],!0,a),"padding"!==n?f+=e.css(t,"border"+o[u]+"Width",!0,a):l+=e.css(t,"border"+o[u]+"Width",!0,a));return!i&&s>=0&&(f+=Math.max(0,Math.ceil(t["offset"+r[0].toUpperCase()+r.slice(1)]-s-f-l-.5))||0),f}function _(t,r,i){var o=s(t),u=(!d.boxSizingReliable()||i)&&"border-box"===e.css(t,"boxSizing",!1,o),f=u,c=l(t,r,o),h="offset"+r[0].toUpperCase()+r.slice(1);if(a.test(c)){if(!i)return c;c="auto"}return(!d.boxSizingReliable()&&u||!d.reliableTrDimensions()&&n(t,"tr")||"auto"===c||!parseFloat(c)&&"inline"===e.css(t,"display",!1,o))&&t.getClientRects().length&&(u="border-box"===e.css(t,"boxSizing",!1,o),(f=h in t)&&(c=t[h])),(c=parseFloat(c)||0)+b(t,r,i||(u?"border":"content"),f,o,c)+"px"}return e.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=l(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,n,a,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,u,l,c=r(n),p=v.test(n),m=t.style;if(p||(n=h(c)),l=e.cssHooks[n]||e.cssHooks[c],void 0===a)return l&&"get"in l&&void 0!==(s=l.get(t,!1,o))?s:m[n];"string"===(u=typeof a)&&(s=i.exec(a))&&s[1]&&(a=f(t,n,s),u="number"),null!=a&&a==a&&("number"!==u||p||(a+=s&&s[3]||(e.cssNumber[c]?"":"px")),d.clearCloneStyle||""!==a||0!==n.indexOf("background")||(m[n]="inherit"),l&&"set"in l&&void 0===(a=l.set(t,a,o))||(p?m.setProperty(n,a):m[n]=a))}},css:function(t,n,i,a){var o,s,u,f=r(n);return v.test(n)||(n=h(f)),(u=e.cssHooks[n]||e.cssHooks[f])&&"get"in u&&(o=u.get(t,!0,i)),void 0===o&&(o=l(t,n,a)),"normal"===o&&n in g&&(o=g[n]),""===i||i?(s=parseFloat(o),!0===i||isFinite(s)?s||0:o):o}}),e.each(["height","width"],(function(t,r){e.cssHooks[r]={get:function(t,n,i){if(n)return!p.test(e.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?_(t,r,i):u(t,m,(function(){return _(t,r,i)}))},set:function(t,n,a){var o,u=s(t),l=!d.scrollboxSize()&&"absolute"===u.position,f=(l||a)&&"border-box"===e.css(t,"boxSizing",!1,u),c=a?b(t,r,a,f,u):0;return f&&l&&(c-=Math.ceil(t["offset"+r[0].toUpperCase()+r.slice(1)]-parseFloat(u[r])-b(t,r,"border",!1,u)-.5)),c&&(o=i.exec(n))&&"px"!==(o[3]||"px")&&(t.style[r]=n,n=e.css(t,r)),y(0,n,c)}}})),e.cssHooks.marginLeft=c(d.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(l(e,"marginLeft"))||e.getBoundingClientRect().left-u(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),e.each({margin:"",padding:"",border:"Width"},(function(t,r){e.cssHooks[t+r]={expand:function(e){for(var n=0,i={},a="string"==typeof e?e.split(" "):[e];n<4;n++)i[t+o[n]+r]=a[n]||a[n-2]||a[0];return i}},"margin"!==t&&(e.cssHooks[t+r].set=y)})),e.fn.extend({css:function(r,n){return t(this,(function(t,r,n){var i,a,o={},u=0;if(Array.isArray(r)){for(i=s(t),a=r.length;u<a;u++)o[r[u]]=e.css(t,r[u],!1,i);return o}return void 0!==n?e.style(t,r,n):e.css(t,r)}),r,n,arguments.length>1)}}),e}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(17)],void 0===(i=function(e){"use strict";return e.slice}.apply(t,n))||(e.exports=i)},function(e,t,r){var n;void 0===(n=function(){"use strict";return{}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(){"use strict";return function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n,i;n=[r(0),r(25),r(4)],void 0===(i=function(e,t){"use strict";var r=function(t){return e.contains(t.ownerDocument,t)},n={composed:!0};return t.getRootNode&&(r=function(t){return e.contains(t.ownerDocument,t)||t.getRootNode(n)===t.ownerDocument}),r}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(3)],void 0===(i=function(e){"use strict";return e.documentElement}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(24),r(45),r(2),r(46),r(35),r(11),r(59),r(60),r(61),r(63),r(64),r(65),r(62),r(7),r(55),r(23),r(49),r(8),r(6),r(14),r(4),r(16)],void 0===(i=function(e,t,r,n,i,a,o,s,u,l,f,c,d,h,p,v,m,g,y){"use strict";var b=/<script|<style|<link/i,_=/checked\s*(?:[^=]|=\s*.checked.)/i,w=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function T(t,r){return y(t,"table")&&y(11!==r.nodeType?r:r.firstChild,"tr")&&e(t).children("tbody")[0]||t}function E(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function S(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function A(t,r){var n,i,a,o,s,u;if(1===r.nodeType){if(p.hasData(t)&&(u=p.get(t).events))for(a in p.remove(r,"handle events"),u)for(n=0,i=u[a].length;n<i;n++)e.event.add(r,a,u[a][n]);v.hasData(t)&&(o=v.access(t),s=e.extend({},o),v.set(r,s))}}function x(e,t){var r=t.nodeName.toLowerCase();"input"===r&&a.test(e.type)?t.checked=e.checked:"input"!==r&&"textarea"!==r||(t.defaultValue=e.defaultValue)}function k(t,i,a,o){i=r(i);var s,l,c,v,m,y,b=0,T=t.length,A=T-1,x=i[0],L=n(x);if(L||T>1&&"string"==typeof x&&!h.checkClone&&_.test(x))return t.each((function(e){var r=t.eq(e);L&&(i[0]=x.call(this,e,r.html())),k(r,i,a,o)}));if(T&&(l=(s=d(i,t[0].ownerDocument,!1,t,o)).firstChild,1===s.childNodes.length&&(s=l),l||o)){for(v=(c=e.map(f(s,"script"),E)).length;b<T;b++)m=s,b!==A&&(m=e.clone(m,!0,!0),v&&e.merge(c,f(m,"script"))),a.call(t[b],m,b);if(v)for(y=c[c.length-1].ownerDocument,e.map(c,S),b=0;b<v;b++)m=c[b],u.test(m.type||"")&&!p.access(m,"globalEval")&&e.contains(y,m)&&(m.src&&"module"!==(m.type||"").toLowerCase()?e._evalUrl&&!m.noModule&&e._evalUrl(m.src,{nonce:m.nonce||m.getAttribute("nonce")},y):g(m.textContent.replace(w,""),m,y))}return t}function L(r,n,i){for(var a,o=n?e.filter(n,r):r,s=0;null!=(a=o[s]);s++)i||1!==a.nodeType||e.cleanData(f(a)),a.parentNode&&(i&&t(a)&&c(f(a,"script")),a.parentNode.removeChild(a));return r}return e.extend({htmlPrefilter:function(e){return e},clone:function(r,n,i){var a,o,s,u,l=r.cloneNode(!0),d=t(r);if(!(h.noCloneChecked||1!==r.nodeType&&11!==r.nodeType||e.isXMLDoc(r)))for(u=f(l),a=0,o=(s=f(r)).length;a<o;a++)x(s[a],u[a]);if(n)if(i)for(s=s||f(r),u=u||f(l),a=0,o=s.length;a<o;a++)A(s[a],u[a]);else A(r,l);return(u=f(l,"script")).length>0&&c(u,!d&&f(r,"script")),l},cleanData:function(t){for(var r,n,i,a=e.event.special,o=0;void 0!==(n=t[o]);o++)if(m(n)){if(r=n[p.expando]){if(r.events)for(i in r.events)a[i]?e.event.remove(n,i):e.removeEvent(n,i,r.handle);n[p.expando]=void 0}n[v.expando]&&(n[v.expando]=void 0)}}}),e.fn.extend({detach:function(e){return L(this,e,!0)},remove:function(e){return L(this,e)},text:function(t){return o(this,(function(t){return void 0===t?e.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return k(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||T(this,e).appendChild(e)}))},prepend:function(){return k(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=T(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return k(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return k(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var t,r=0;null!=(t=this[r]);r++)1===t.nodeType&&(e.cleanData(f(t,!1)),t.textContent="");return this},clone:function(t,r){return t=null!=t&&t,r=null==r?t:r,this.map((function(){return e.clone(this,t,r)}))},html:function(t){return o(this,(function(t){var r=this[0]||{},n=0,i=this.length;if(void 0===t&&1===r.nodeType)return r.innerHTML;if("string"==typeof t&&!b.test(t)&&!l[(s.exec(t)||["",""])[1].toLowerCase()]){t=e.htmlPrefilter(t);try{for(;n<i;n++)1===(r=this[n]||{}).nodeType&&(e.cleanData(f(r,!1)),r.innerHTML=t);r=0}catch(e){}}r&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return k(this,arguments,(function(r){var n=this.parentNode;e.inArray(this,t)<0&&(e.cleanData(f(this)),n&&n.replaceChild(r,this))}),t)}}),e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,r){e.fn[t]=function(t){for(var n,a=[],o=e(t),s=o.length-1,u=0;u<=s;u++)n=u===s?this:this.clone(!0),e(o[u])[r](n),i.apply(a,n.get());return this.pushStack(a)}})),e}.apply(t,n))||(e.exports=i)},function(e,t,r){"use strict";r.r(t),t.default=r.p+"img/6fd341208c6fb65a349ea33f9a6ae5ea.svg"},function(e,t,r){var n,i;n=[r(17)],void 0===(i=function(e){"use strict";return e.indexOf}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(22)],void 0===(i=function(e){"use strict";return e.hasOwnProperty}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(13),r(2),r(9)],void 0===(i=function(e,t,r,n){"use strict";return e.Callbacks=function(i){i="string"==typeof i?function(t){var r={};return e.each(t.match(n)||[],(function(e,t){r[t]=!0})),r}(i):e.extend({},i);var a,o,s,u,l=[],f=[],c=-1,d=function(){for(u=u||i.once,s=a=!0;f.length;c=-1)for(o=f.shift();++c<l.length;)!1===l[c].apply(o[0],o[1])&&i.stopOnFalse&&(c=l.length,o=!1);i.memory||(o=!1),a=!1,u&&(l=o?[]:"")},h={add:function(){return l&&(o&&!a&&(c=l.length-1,f.push(o)),function n(a){e.each(a,(function(e,a){r(a)?i.unique&&h.has(a)||l.push(a):a&&a.length&&"string"!==t(a)&&n(a)}))}(arguments),o&&!a&&d()),this},remove:function(){return e.each(arguments,(function(t,r){for(var n;(n=e.inArray(r,l,n))>-1;)l.splice(n,1),n<=c&&c--})),this},has:function(t){return t?e.inArray(t,l)>-1:l.length>0},empty:function(){return l&&(l=[]),this},disable:function(){return u=f=[],l=o="",this},disabled:function(){return!l},lock:function(){return u=f=[],o||a||(l=o=""),this},locked:function(){return!!u},fireWith:function(e,t){return u||(t=[e,(t=t||[]).slice?t.slice():t],f.push(t),a||d()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!s}};return h},e}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(7),r(15),r(30)],void 0===(i=function(e,t){"use strict";return e.extend({queue:function(r,n,i){var a;if(r)return n=(n||"fx")+"queue",a=t.get(r,n),i&&(!a||Array.isArray(i)?a=t.access(r,n,e.makeArray(i)):a.push(i)),a||[]},dequeue:function(t,r){r=r||"fx";var n=e.queue(t,r),i=n.length,a=n.shift(),o=e._queueHooks(t,r);"inprogress"===a&&(a=n.shift(),i--),a&&("fx"===r&&n.unshift("inprogress"),delete o.stop,a.call(t,(function(){e.dequeue(t,r)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(r,n){var i=n+"queueHooks";return t.get(r,i)||t.access(r,i,{empty:e.Callbacks("once memory").add((function(){t.remove(r,[n+"queue",i])}))})}}),e.fn.extend({queue:function(t,r){var n=2;return"string"!=typeof t&&(r=t,t="fx",n--),arguments.length<n?e.queue(this[0],t):void 0===r?this:this.each((function(){var n=e.queue(this,t,r);e._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&e.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){e.dequeue(this,t)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(r,n){var i,a=1,o=e.Deferred(),s=this,u=this.length,l=function(){--a||o.resolveWith(s,[s])};for("string"!=typeof r&&(n=r,r=void 0),r=r||"fx";u--;)(i=t.get(s[u],r+"queueHooks"))&&i.empty&&(a++,i.empty.add(l));return l(),o.promise(n)}}),e}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(19),r(3),r(2),r(33),r(9),r(34),r(57),r(58),r(7),r(97),r(6),r(31),r(15),r(14),r(26),r(20),r(100)],void 0===(i=function(e,t,r,n,i,a,o,s,u,l,f){"use strict";var c,d,h=/^(?:toggle|show|hide)$/,p=/queueHooks$/;function v(){d&&(!1===r.hidden&&window.requestAnimationFrame?window.requestAnimationFrame(v):window.setTimeout(v,e.fx.interval),e.fx.tick())}function m(){return window.setTimeout((function(){c=void 0})),c=Date.now()}function g(e,t){var r,n=0,i={height:e};for(t=t?1:0;n<4;n+=2-t)i["margin"+(r=o[n])]=i["padding"+r]=e;return t&&(i.opacity=i.width=e),i}function y(e,t,r){for(var n,i=(b.tweeners[t]||[]).concat(b.tweeners["*"]),a=0,o=i.length;a<o;a++)if(n=i[a].call(r,t,e))return n}function b(r,i,a){var o,s,u=0,l=b.prefilters.length,f=e.Deferred().always((function(){delete d.elem})),d=function(){if(s)return!1;for(var e=c||m(),t=Math.max(0,h.startTime+h.duration-e),n=1-(t/h.duration||0),i=0,a=h.tweens.length;i<a;i++)h.tweens[i].run(n);return f.notifyWith(r,[h,n,t]),n<1&&a?t:(a||f.notifyWith(r,[h,1,0]),f.resolveWith(r,[h]),!1)},h=f.promise({elem:r,props:e.extend({},i),opts:e.extend(!0,{specialEasing:{},easing:e.easing._default},a),originalProperties:i,originalOptions:a,startTime:c||m(),duration:a.duration,tweens:[],createTween:function(t,n){var i=e.Tween(r,h.opts,t,n,h.opts.specialEasing[t]||h.opts.easing);return h.tweens.push(i),i},stop:function(e){var t=0,n=e?h.tweens.length:0;if(s)return this;for(s=!0;t<n;t++)h.tweens[t].run(1);return e?(f.notifyWith(r,[h,1,0]),f.resolveWith(r,[h,e])):f.rejectWith(r,[h,e]),this}}),p=h.props;for(!function(r,n){var i,a,o,s,u;for(i in r)if(o=n[a=t(i)],s=r[i],Array.isArray(s)&&(o=s[1],s=r[i]=s[0]),i!==a&&(r[a]=s,delete r[i]),(u=e.cssHooks[a])&&"expand"in u)for(i in s=u.expand(s),delete r[a],s)i in r||(r[i]=s[i],n[i]=o);else n[a]=o}(p,h.opts.specialEasing);u<l;u++)if(o=b.prefilters[u].call(h,r,p,h.opts))return n(o.stop)&&(e._queueHooks(h.elem,h.opts.queue).stop=o.stop.bind(o)),o;return e.map(p,y,h),n(h.opts.start)&&h.opts.start.call(r,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),e.fx.timer(e.extend(d,{elem:r,anim:h,queue:h.opts.queue})),h}return e.Animation=e.extend(b,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return u(r.elem,e,i.exec(t),r),r}]},tweener:function(e,t){n(e)?(t=e,e=["*"]):e=e.match(a);for(var r,i=0,o=e.length;i<o;i++)r=e[i],b.tweeners[r]=b.tweeners[r]||[],b.tweeners[r].unshift(t)},prefilters:[function(t,r,n){var i,a,o,u,c,d,p,v,m="width"in r||"height"in r,g=this,b={},_=t.style,w=t.nodeType&&s(t),T=l.get(t,"fxshow");for(i in n.queue||(null==(u=e._queueHooks(t,"fx")).unqueued&&(u.unqueued=0,c=u.empty.fire,u.empty.fire=function(){u.unqueued||c()}),u.unqueued++,g.always((function(){g.always((function(){u.unqueued--,e.queue(t,"fx").length||u.empty.fire()}))}))),r)if(a=r[i],h.test(a)){if(delete r[i],o=o||"toggle"===a,a===(w?"hide":"show")){if("show"!==a||!T||void 0===T[i])continue;w=!0}b[i]=T&&T[i]||e.style(t,i)}if((d=!e.isEmptyObject(r))||!e.isEmptyObject(b))for(i in m&&1===t.nodeType&&(n.overflow=[_.overflow,_.overflowX,_.overflowY],null==(p=T&&T.display)&&(p=l.get(t,"display")),"none"===(v=e.css(t,"display"))&&(p?v=p:(f([t],!0),p=t.style.display||p,v=e.css(t,"display"),f([t]))),("inline"===v||"inline-block"===v&&null!=p)&&"none"===e.css(t,"float")&&(d||(g.done((function(){_.display=p})),null==p&&(v=_.display,p="none"===v?"":v)),_.display="inline-block")),n.overflow&&(_.overflow="hidden",g.always((function(){_.overflow=n.overflow[0],_.overflowX=n.overflow[1],_.overflowY=n.overflow[2]}))),d=!1,b)d||(T?"hidden"in T&&(w=T.hidden):T=l.access(t,"fxshow",{display:p}),o&&(T.hidden=!w),w&&f([t],!0),g.done((function(){for(i in w||f([t]),l.remove(t,"fxshow"),b)e.style(t,i,b[i])}))),d=y(w?T[i]:0,i,g),i in T||(T[i]=d.start,w&&(d.end=d.start,d.start=0))}],prefilter:function(e,t){t?b.prefilters.unshift(e):b.prefilters.push(e)}}),e.speed=function(t,r,i){var a=t&&"object"==typeof t?e.extend({},t):{complete:i||!i&&r||n(t)&&t,duration:t,easing:i&&r||r&&!n(r)&&r};return e.fx.off?a.duration=0:"number"!=typeof a.duration&&(a.duration in e.fx.speeds?a.duration=e.fx.speeds[a.duration]:a.duration=e.fx.speeds._default),null!=a.queue&&!0!==a.queue||(a.queue="fx"),a.old=a.complete,a.complete=function(){n(a.old)&&a.old.call(this),a.queue&&e.dequeue(this,a.queue)},a},e.fn.extend({fadeTo:function(e,t,r,n){return this.filter(s).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(t,r,n,i){var a=e.isEmptyObject(t),o=e.speed(r,n,i),s=function(){var r=b(this,e.extend({},t),o);(a||l.get(this,"finish"))&&r.stop(!0)};return s.finish=s,a||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,r,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof t&&(n=r,r=t,t=void 0),r&&this.queue(t||"fx",[]),this.each((function(){var r=!0,a=null!=t&&t+"queueHooks",o=e.timers,s=l.get(this);if(a)s[a]&&s[a].stop&&i(s[a]);else for(a in s)s[a]&&s[a].stop&&p.test(a)&&i(s[a]);for(a=o.length;a--;)o[a].elem!==this||null!=t&&o[a].queue!==t||(o[a].anim.stop(n),r=!1,o.splice(a,1));!r&&n||e.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var r,n=l.get(this),i=n[t+"queue"],a=n[t+"queueHooks"],o=e.timers,s=i?i.length:0;for(n.finish=!0,e.queue(this,t,[]),a&&a.stop&&a.stop.call(this,!0),r=o.length;r--;)o[r].elem===this&&o[r].queue===t&&(o[r].anim.stop(!0),o.splice(r,1));for(r=0;r<s;r++)i[r]&&i[r].finish&&i[r].finish.call(this);delete n.finish}))}}),e.each(["toggle","show","hide"],(function(t,r){var n=e.fn[r];e.fn[r]=function(e,t,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(g(r,!0),e,t,i)}})),e.each({slideDown:g("show"),slideUp:g("hide"),slideToggle:g("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,r){e.fn[t]=function(e,t,n){return this.animate(r,e,t,n)}})),e.timers=[],e.fx.tick=function(){var t,r=0,n=e.timers;for(c=Date.now();r<n.length;r++)(t=n[r])()||n[r]!==t||n.splice(r--,1);n.length||e.fx.stop(),c=void 0},e.fx.timer=function(t){e.timers.push(t),e.fx.start()},e.fx.interval=13,e.fx.start=function(){d||(d=!0,v())},e.fx.stop=function(){d=null},e.fx.speeds={slow:600,fast:200,_default:400},e}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(56)],void 0===(i=function(e){"use strict";return new RegExp("^(?:([+-])=|)("+e+")([a-z%]*)$","i")}.apply(t,n))||(e.exports=i)},function(e,t,r){var n;void 0===(n=function(){"use strict";return["Top","Right","Bottom","Left"]}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(){"use strict";return/^(?:checkbox|radio)$/i}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n,i;n=[r(56)],void 0===(i=function(e){"use strict";return new RegExp("^("+e+")(?!px)[a-z%]+$","i")}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(3),r(25),r(10)],void 0===(i=function(e,t,r,n){"use strict";return function(){function i(){if(h){d.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",h.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",r.appendChild(d).appendChild(h);var e=window.getComputedStyle(h);o="1%"!==e.top,c=12===a(e.marginLeft),h.style.right="60%",l=36===a(e.right),s=36===a(e.width),h.style.position="absolute",u=12===a(h.offsetWidth/3),r.removeChild(d),h=null}}function a(e){return Math.round(parseFloat(e))}var o,s,u,l,f,c,d=t.createElement("div"),h=t.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",n.clearCloneStyle="content-box"===h.style.backgroundClip,e.extend(n,{boxSizingReliable:function(){return i(),s},pixelBoxStyles:function(){return i(),l},pixelPosition:function(){return i(),o},reliableMarginLeft:function(){return i(),c},scrollboxSize:function(){return i(),u},reliableTrDimensions:function(){var e,n,i,a;return null==f&&(e=t.createElement("table"),n=t.createElement("tr"),i=t.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="border:1px solid",n.style.height="1px",i.style.height="9px",i.style.display="block",r.appendChild(e).appendChild(n).appendChild(i),a=window.getComputedStyle(n),f=parseInt(a.height,10)+parseInt(a.borderTopWidth,10)+parseInt(a.borderBottomWidth,10)===n.offsetHeight,r.removeChild(e)),f}}))}(),n}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(3),r(10)],void 0===(i=function(e,t){"use strict";var r,n;return r=e.createElement("input"),n=e.createElement("select").appendChild(e.createElement("option")),r.type="checkbox",t.checkOn=""!==r.value,t.optSelected=n.selected,(r=e.createElement("input")).value="t",r.type="radio",t.radioValue="t"===r.value,t}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(9)],void 0===(i=function(e){"use strict";return function(t){return(t.match(e)||[]).join(" ")}}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(3),r(7),r(23),r(29),r(2),r(18),r(16)],void 0===(i=function(e,t,r,n,i,a,o){"use strict";var s=/^(?:focusinfocus|focusoutblur)$/,u=function(e){e.stopPropagation()};return e.extend(e.event,{trigger:function(l,f,c,d){var h,p,v,m,g,y,b,_,w=[c||t],T=i.call(l,"type")?l.type:l,E=i.call(l,"namespace")?l.namespace.split("."):[];if(p=_=v=c=c||t,3!==c.nodeType&&8!==c.nodeType&&!s.test(T+e.event.triggered)&&(T.indexOf(".")>-1&&(E=T.split("."),T=E.shift(),E.sort()),g=T.indexOf(":")<0&&"on"+T,(l=l[e.expando]?l:new e.Event(T,"object"==typeof l&&l)).isTrigger=d?2:3,l.namespace=E.join("."),l.rnamespace=l.namespace?new RegExp("(^|\\.)"+E.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l.result=void 0,l.target||(l.target=c),f=null==f?[l]:e.makeArray(f,[l]),b=e.event.special[T]||{},d||!b.trigger||!1!==b.trigger.apply(c,f))){if(!d&&!b.noBubble&&!o(c)){for(m=b.delegateType||T,s.test(m+T)||(p=p.parentNode);p;p=p.parentNode)w.push(p),v=p;v===(c.ownerDocument||t)&&w.push(v.defaultView||v.parentWindow||window)}for(h=0;(p=w[h++])&&!l.isPropagationStopped();)_=p,l.type=h>1?m:b.bindType||T,(y=(r.get(p,"events")||Object.create(null))[l.type]&&r.get(p,"handle"))&&y.apply(p,f),(y=g&&p[g])&&y.apply&&n(p)&&(l.result=y.apply(p,f),!1===l.result&&l.preventDefault());return l.type=T,d||l.isDefaultPrevented()||b._default&&!1!==b._default.apply(w.pop(),f)||!n(c)||g&&a(c[T])&&!o(c)&&((v=c[g])&&(c[g]=null),e.event.triggered=T,l.isPropagationStopped()&&_.addEventListener(T,u),c[T](),l.isPropagationStopped()&&_.removeEventListener(T,u),e.event.triggered=void 0,v&&(c[g]=v)),l.result}},simulate:function(t,r,n){var i=e.extend(new e.Event,n,{type:t,isSimulated:!0});e.event.trigger(i,null,r)}}),e.fn.extend({trigger:function(t,r){return this.each((function(){e.event.trigger(t,r,this)}))},triggerHandler:function(t,r){var n=this[0];if(n)return e.event.trigger(t,r,n,!0)}}),e}.apply(t,n))||(e.exports=i)},function(e,t,r){(function(r){var n,i,a;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(r){"object"===o(t)&&void 0!==e?e.exports=r():(i=[],void 0===(a="function"==typeof(n=r)?n.apply(t,i):n)||(e.exports=a))}((function(){return function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[o]={exports:{}};t[o][0].call(l.exports,(function(e){var r=t[o][1][e];return i(r||e)}),l,l.exports,e,t,r,n)}return r[o].exports}for(var a=!1,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){(function(){var r,n,i,a,o,s,u,l=function(e,t){return function(){return e.apply(t,arguments)}},f={}.hasOwnProperty;o=e("./core/events"),u=e("./sources/node/http"),s=e("./sources/node/file"),n=e("./sources/buffer"),a=e("./demuxer"),i=e("./decoder"),r=function(e){function t(e){var t;this.source=e,this._decode=l(this._decode,this),this.findDecoder=l(this.findDecoder,this),this.probe=l(this.probe,this),this.buffered=0,this.duration=null,this.format=null,this.metadata=null,this.active=!1,this.demuxer=null,this.decoder=null,this.source.once("data",this.probe),this.source.on("error",(t=this,function(e){return t.emit("error",e),t.stop()})),this.source.on("progress",function(e){return function(t){return e.buffered=t,e.emit("buffer",e.buffered)}}(this))}return function(e,t){for(var r in t)f.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,e),t.fromURL=function(e,r){return new t(new u(e,r))},t.fromFile=function(e){return new t(new s(e))},t.fromBuffer=function(e){return new t(new n(e))},t.prototype.start=function(e){if(!this.active)return null!=e&&(this.shouldDecode=e),null==this.shouldDecode&&(this.shouldDecode=!0),this.active=!0,this.source.start(),this.decoder&&this.shouldDecode?this._decode():void 0},t.prototype.stop=function(){if(this.active)return this.active=!1,this.source.pause()},t.prototype.get=function(e,t){var r;if("format"===e||"duration"===e||"metadata"===e)return null!=this[e]?t(this[e]):(this.once(e,(r=this,function(e){return r.stop(),t(e)})),this.start())},t.prototype.decodePacket=function(){return this.decoder.decode()},t.prototype.decodeToBuffer=function(e){var t,r,n;return n=0,t=[],this.on("data",r=function(e){return n+=e.length,t.push(e)}),this.once("end",(function(){var i,a,o,s,u;for(i=new Float32Array(n),u=0,o=0,s=t.length;o<s;o++)a=t[o],i.set(a,u),u+=a.length;return this.off("data",r),e(i)})),this.start()},t.prototype.probe=function(e){var t,r;if(this.active)return(t=a.find(e))?(this.demuxer=new t(this.source,e),this.demuxer.on("format",this.findDecoder),this.demuxer.on("duration",(r=this,function(e){return r.duration=e,r.emit("duration",r.duration)})),this.demuxer.on("metadata",function(e){return function(t){return e.metadata=t,e.emit("metadata",e.metadata)}}(this)),this.demuxer.on("error",function(e){return function(t){return e.emit("error",t),e.stop()}}(this))):this.emit("error","A demuxer for this container was not found.")},t.prototype.findDecoder=function(e){var t,r,n;if(this.format=e,this.active)return this.emit("format",this.format),(t=i.find(this.format.formatID))?(this.decoder=new t(this.demuxer,this.format),this.format.floatingPoint?this.decoder.on("data",(n=this,function(e){return n.emit("data",e)})):(r=Math.pow(2,this.format.bitsPerChannel-1),this.decoder.on("data",function(e){return function(t){var n,i,a,o,s;for(n=new Float32Array(t.length),i=a=0,o=t.length;a<o;i=++a)s=t[i],n[i]=s/r;return e.emit("data",n)}}(this))),this.decoder.on("error",function(e){return function(t){return e.emit("error",t),e.stop()}}(this)),this.decoder.on("end",function(e){return function(){return e.emit("end")}}(this)),this.emit("decodeStart"),this.shouldDecode?this._decode():void 0):this.emit("error","A decoder for "+this.format.formatID+" was not found.")},t.prototype._decode=function(){for(;this.decoder.decode()&&this.active;);if(this.active)return this.decoder.once("data",this._decode)},t.prototype.destroy=function(){var e,t,r;return this.stop(),null!=(e=this.demuxer)&&e.off(),null!=(t=this.decoder)&&t.off(),null!=(r=this.source)&&r.off(),this.off()},t}(o),t.exports=r}).call(this)},{"./core/events":8,"./decoder":11,"./demuxer":14,"./sources/buffer":31,"./sources/node/file":29,"./sources/node/http":30}],2:[function(e,t,r){(function(){var t,n,i;for(t in n=e("./aurora_base"))i=n[t],r[t]=i;e("./demuxers/caf"),e("./demuxers/m4a"),e("./demuxers/aiff"),e("./demuxers/wave"),e("./demuxers/au"),e("./decoders/lpcm"),e("./decoders/xlaw")}).call(this)},{"./aurora_base":3,"./decoders/lpcm":12,"./decoders/xlaw":13,"./demuxers/aiff":15,"./demuxers/au":16,"./demuxers/caf":17,"./demuxers/m4a":18,"./demuxers/wave":19}],3:[function(e,t,r){(function(){r.Base=e("./core/base"),r.Buffer=e("./core/buffer"),r.BufferList=e("./core/bufferlist"),r.Stream=e("./core/stream"),r.Bitstream=e("./core/bitstream"),r.EventEmitter=e("./core/events"),r.UnderflowError=e("./core/underflow"),r.HTTPSource=e("./sources/node/http"),r.FileSource=e("./sources/node/file"),r.BufferSource=e("./sources/buffer"),r.Demuxer=e("./demuxer"),r.Decoder=e("./decoder"),r.AudioDevice=e("./device"),r.Asset=e("./asset"),r.Player=e("./player"),r.Filter=e("./filter"),r.VolumeFilter=e("./filters/volume"),r.BalanceFilter=e("./filters/balance")}).call(this)},{"./asset":1,"./core/base":4,"./core/bitstream":5,"./core/buffer":6,"./core/bufferlist":7,"./core/events":8,"./core/stream":9,"./core/underflow":10,"./decoder":11,"./demuxer":14,"./device":20,"./filter":24,"./filters/balance":25,"./filters/volume":26,"./player":27,"./sources/buffer":31,"./sources/node/file":29,"./sources/node/http":30}],4:[function(e,t,r){(function(){var e,r={}.hasOwnProperty,n=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};e=function(){var e;function t(){}return e=/\b_super\b/,t.extend=function(t){var i,a,o,s,u,l;if(i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,e),t}(this),"function"==typeof t)for(s in u=Object.keys(i.prototype),t.call(i,i),t={},l=i.prototype)o=l[s],n.call(u,s)<0&&(t[s]=o);for(s in a=i.__super__,t)"function"==typeof(o=t[s])&&e.test(o)?function(e,t){i.prototype[e]=function(){var r,n;return n=this._super,this._super=a[e],r=t.apply(this,arguments),this._super=n,r}}(s,o):i.prototype[s]=o;return i},t}(),t.exports=e}).call(this)},{}],5:[function(e,t,r){(function(){var e;e=function(){function e(e){this.stream=e,this.bitPosition=0}return e.prototype.copy=function(){var t;return(t=new e(this.stream.copy())).bitPosition=this.bitPosition,t},e.prototype.offset=function(){return 8*this.stream.offset+this.bitPosition},e.prototype.available=function(e){return this.stream.available((e+8-this.bitPosition)/8)},e.prototype.advance=function(e){var t;return t=this.bitPosition+e,this.stream.advance(t>>3),this.bitPosition=7&t},e.prototype.rewind=function(e){var t;return t=this.bitPosition-e,this.stream.rewind(Math.abs(t>>3)),this.bitPosition=7&t},e.prototype.seek=function(e){var t;return e>(t=this.offset())?this.advance(e-t):e<t?this.rewind(t-e):void 0},e.prototype.align=function(){if(0!==this.bitPosition)return this.bitPosition=0,this.stream.advance(1)},e.prototype.read=function(e,t){var r,n;if(0===e)return 0;if((n=e+this.bitPosition)<=8)r=(this.stream.peekUInt8()<<this.bitPosition&255)>>>8-e;else if(n<=16)r=(this.stream.peekUInt16()<<this.bitPosition&65535)>>>16-e;else if(n<=24)r=(this.stream.peekUInt24()<<this.bitPosition&16777215)>>>24-e;else if(n<=32)r=this.stream.peekUInt32()<<this.bitPosition>>>32-e;else{if(!(n<=40))throw new Error("Too many bits!");r=4294967296*this.stream.peekUInt8(0)+(this.stream.peekUInt8(1)<<24>>>0)+(this.stream.peekUInt8(2)<<16)+(this.stream.peekUInt8(3)<<8)+this.stream.peekUInt8(4),r%=Math.pow(2,40-this.bitPosition),r=Math.floor(r/Math.pow(2,40-this.bitPosition-e))}return t&&(n<32?r>>>e-1&&(r=-1*((1<<e>>>0)-r)):r/Math.pow(2,e-1)|0&&(r=-1*(Math.pow(2,e)-r))),this.advance(e),r},e.prototype.peek=function(e,t){var r,n;if(0===e)return 0;if((n=e+this.bitPosition)<=8)r=(this.stream.peekUInt8()<<this.bitPosition&255)>>>8-e;else if(n<=16)r=(this.stream.peekUInt16()<<this.bitPosition&65535)>>>16-e;else if(n<=24)r=(this.stream.peekUInt24()<<this.bitPosition&16777215)>>>24-e;else if(n<=32)r=this.stream.peekUInt32()<<this.bitPosition>>>32-e;else{if(!(n<=40))throw new Error("Too many bits!");r=4294967296*this.stream.peekUInt8(0)+(this.stream.peekUInt8(1)<<24>>>0)+(this.stream.peekUInt8(2)<<16)+(this.stream.peekUInt8(3)<<8)+this.stream.peekUInt8(4),r%=Math.pow(2,40-this.bitPosition),r=Math.floor(r/Math.pow(2,40-this.bitPosition-e))}return t&&(n<32?r>>>e-1&&(r=-1*((1<<e>>>0)-r)):r/Math.pow(2,e-1)|0&&(r=-1*(Math.pow(2,e)-r))),r},e.prototype.readLSB=function(e,t){var r,n;if(0===e)return 0;if(e>40)throw new Error("Too many bits!");return n=e+this.bitPosition,r=this.stream.peekUInt8(0)>>>this.bitPosition,n>8&&(r|=this.stream.peekUInt8(1)<<8-this.bitPosition),n>16&&(r|=this.stream.peekUInt8(2)<<16-this.bitPosition),n>24&&(r+=this.stream.peekUInt8(3)<<24-this.bitPosition>>>0),n>32&&(r+=this.stream.peekUInt8(4)*Math.pow(2,32-this.bitPosition)),n>=32?r%=Math.pow(2,e):r&=(1<<e)-1,t&&(n<32?r>>>e-1&&(r=-1*((1<<e>>>0)-r)):r/Math.pow(2,e-1)|0&&(r=-1*(Math.pow(2,e)-r))),this.advance(e),r},e.prototype.peekLSB=function(e,t){var r,n;if(0===e)return 0;if(e>40)throw new Error("Too many bits!");return n=e+this.bitPosition,r=this.stream.peekUInt8(0)>>>this.bitPosition,n>8&&(r|=this.stream.peekUInt8(1)<<8-this.bitPosition),n>16&&(r|=this.stream.peekUInt8(2)<<16-this.bitPosition),n>24&&(r+=this.stream.peekUInt8(3)<<24-this.bitPosition>>>0),n>32&&(r+=this.stream.peekUInt8(4)*Math.pow(2,32-this.bitPosition)),n>=32?r%=Math.pow(2,e):r&=(1<<e)-1,t&&(n<32?r>>>e-1&&(r=-1*((1<<e>>>0)-r)):r/Math.pow(2,e-1)|0&&(r=-1*(Math.pow(2,e)-r))),r},e}(),t.exports=e}).call(this)},{}],6:[function(e,t,n){(function(e){(function(){var r;r=function(){var t,r;function n(t){var r;if(t instanceof Uint8Array)this.data=t;else if(t instanceof ArrayBuffer||Array.isArray(t)||"number"==typeof t||(null!=(r=e.Buffer)?r.isBuffer(t):void 0))this.data=new Uint8Array(t);else if(t.buffer instanceof ArrayBuffer)this.data=new Uint8Array(t.buffer,t.byteOffset,t.length*t.BYTES_PER_ELEMENT);else{if(!(t instanceof n))throw new Error("Constructing buffer with unknown type.");this.data=t.data}this.length=this.data.length,this.next=null,this.prev=null}return n.allocate=function(e){return new n(e)},n.prototype.copy=function(){return new n(new Uint8Array(this.data))},n.prototype.slice=function(e,t){return null==t&&(t=this.length),0===e&&t>=this.length?new n(this.data):new n(this.data.subarray(e,e+t))},t=e.BlobBuilder||e.MozBlobBuilder||e.WebKitBlobBuilder,r=e.URL||e.webkitURL||e.mozURL,n.makeBlob=function(e,r){var n;null==r&&(r="application/octet-stream");try{return new Blob([e],{type:r})}catch(e){}return null!=t?((n=new t).append(e),n.getBlob(r)):null},n.makeBlobURL=function(e,t){return null!=r?r.createObjectURL(this.makeBlob(e,t)):void 0},n.revokeBlobURL=function(e){return null!=r?r.revokeObjectURL(e):void 0},n.prototype.toBlob=function(){return n.makeBlob(this.data.buffer)},n.prototype.toBlobURL=function(){return n.makeBlobURL(this.data.buffer)},n}(),t.exports=r}).call(this)}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,r){(function(){var e;e=function(){function e(){this.first=null,this.last=null,this.numBuffers=0,this.availableBytes=0,this.availableBuffers=0}return e.prototype.copy=function(){var t;return(t=new e).first=this.first,t.last=this.last,t.numBuffers=this.numBuffers,t.availableBytes=this.availableBytes,t.availableBuffers=this.availableBuffers,t},e.prototype.append=function(e){var t;return e.prev=this.last,null!=(t=this.last)&&(t.next=e),this.last=e,null==this.first&&(this.first=e),this.availableBytes+=e.length,this.availableBuffers++,this.numBuffers++},e.prototype.advance=function(){return!!this.first&&(this.availableBytes-=this.first.length,this.availableBuffers--,this.first=this.first.next,null!=this.first)},e.prototype.rewind=function(){var e;return!(this.first&&!this.first.prev)&&(this.first=(null!=(e=this.first)?e.prev:void 0)||this.last,this.first&&(this.availableBytes+=this.first.length,this.availableBuffers++),null!=this.first)},e.prototype.reset=function(){var e;for(e=[];this.rewind(););return e},e}(),t.exports=e}).call(this)},{}],8:[function(e,t,r){(function(){var r,n={}.hasOwnProperty,i=[].slice;r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,e),t.prototype.on=function(e,t){var r;return null==this.events&&(this.events={}),null==(r=this.events)[e]&&(r[e]=[]),this.events[e].push(t)},t.prototype.off=function(e,t){var r,n;if(null!=this.events)if(null!=(n=this.events)?n[e]:void 0){if(null==t)return this.events[e];if(~(r=this.events[e].indexOf(t)))return this.events[e].splice(r,1)}else if(null==e)return{}},t.prototype.once=function(e,t){var r;return this.on(e,r=function(){return this.off(e,r),t.apply(this,arguments)})},t.prototype.emit=function(){var e,t,r,n,a,o;if(t=arguments[0],e=2<=arguments.length?i.call(arguments,1):[],null!=(a=this.events)?a[t]:void 0)for(r=0,n=(o=this.events[t].slice()).length;r<n;r++)o[r].apply(this,e)},t}(e("./base")),t.exports=r}).call(this)},{"./base":4}],9:[function(e,t,r){(function(){var r,n,i,a;n=e("./bufferlist"),r=e("./buffer"),a=e("./underflow"),i=function(){var e,t,i,o,s,u,l,f,c,d,h,p,v;function m(e){this.list=e,this.localOffset=0,this.offset=0}return e=new ArrayBuffer(16),v=new Uint8Array(e),c=new Int8Array(e),h=new Uint16Array(e),l=new Int16Array(e),p=new Uint32Array(e),f=new Int32Array(e),i=new Float32Array(e),"undefined"!=typeof Float64Array&&null!==Float64Array&&(o=new Float64Array(e)),d=13330===new Uint16Array(new Uint8Array([18,52]).buffer)[0],m.fromBuffer=function(e){var t;return(t=new n).append(e),new m(t)},m.prototype.copy=function(){var e;return(e=new m(this.list.copy())).localOffset=this.localOffset,e.offset=this.offset,e},m.prototype.available=function(e){return e<=this.list.availableBytes-this.localOffset},m.prototype.remainingBytes=function(){return this.list.availableBytes-this.localOffset},m.prototype.advance=function(e){if(!this.available(e))throw new a;for(this.localOffset+=e,this.offset+=e;this.list.first&&this.localOffset>=this.list.first.length;)this.localOffset-=this.list.first.length,this.list.advance();return this},m.prototype.rewind=function(e){if(e>this.offset)throw new a;for(this.list.first||(this.list.rewind(),this.localOffset=this.list.first.length),this.localOffset-=e,this.offset-=e;this.list.first.prev&&this.localOffset<0;)this.list.rewind(),this.localOffset+=this.list.first.length;return this},m.prototype.seek=function(e){return e>this.offset?this.advance(e-this.offset):e<this.offset?this.rewind(this.offset-e):void 0},m.prototype.readUInt8=function(){var e;if(!this.available(1))throw new a;return e=this.list.first.data[this.localOffset],this.localOffset+=1,this.offset+=1,this.localOffset===this.list.first.length&&(this.localOffset=0,this.list.advance()),e},m.prototype.peekUInt8=function(e){var t;if(null==e&&(e=0),!this.available(e+1))throw new a;for(e=this.localOffset+e,t=this.list.first;t;){if(t.length>e)return t.data[e];e-=t.length,t=t.next}return 0},m.prototype.read=function(e,t){var r,n,i,a;if(null==t&&(t=!1),t===d)for(r=n=0,a=e;n<a;r=n+=1)v[r]=this.readUInt8();else for(r=i=e-1;i>=0;r=i+=-1)v[r]=this.readUInt8()},m.prototype.peek=function(e,t,r){var n,i,a,o,s;if(null==r&&(r=!1),r===d)for(n=i=0,o=e;i<o;n=i+=1)v[n]=this.peekUInt8(t+n);else for(n=a=0,s=e;a<s;n=a+=1)v[e-n-1]=this.peekUInt8(t+n)},m.prototype.readInt8=function(){return this.read(1),c[0]},m.prototype.peekInt8=function(e){return null==e&&(e=0),this.peek(1,e),c[0]},m.prototype.readUInt16=function(e){return this.read(2,e),h[0]},m.prototype.peekUInt16=function(e,t){return null==e&&(e=0),this.peek(2,e,t),h[0]},m.prototype.readInt16=function(e){return this.read(2,e),l[0]},m.prototype.peekInt16=function(e,t){return null==e&&(e=0),this.peek(2,e,t),l[0]},m.prototype.readUInt24=function(e){return e?this.readUInt16(!0)+(this.readUInt8()<<16):(this.readUInt16()<<8)+this.readUInt8()},m.prototype.peekUInt24=function(e,t){return null==e&&(e=0),t?this.peekUInt16(e,!0)+(this.peekUInt8(e+2)<<16):(this.peekUInt16(e)<<8)+this.peekUInt8(e+2)},m.prototype.readInt24=function(e){return e?this.readUInt16(!0)+(this.readInt8()<<16):(this.readInt16()<<8)+this.readUInt8()},m.prototype.peekInt24=function(e,t){return null==e&&(e=0),t?this.peekUInt16(e,!0)+(this.peekInt8(e+2)<<16):(this.peekInt16(e)<<8)+this.peekUInt8(e+2)},m.prototype.readUInt32=function(e){return this.read(4,e),p[0]},m.prototype.peekUInt32=function(e,t){return null==e&&(e=0),this.peek(4,e,t),p[0]},m.prototype.readInt32=function(e){return this.read(4,e),f[0]},m.prototype.peekInt32=function(e,t){return null==e&&(e=0),this.peek(4,e,t),f[0]},m.prototype.readFloat32=function(e){return this.read(4,e),i[0]},m.prototype.peekFloat32=function(e,t){return null==e&&(e=0),this.peek(4,e,t),i[0]},m.prototype.readFloat64=function(e){return this.read(8,e),o?o[0]:s()},s=function(){var e,t,r,n,i,a;return n=p[0],(r=p[1])&&2147483648!==r?(a=1-2*(r>>>31),t=1048575&r,2047===(e=r>>>20&2047)?t?NaN:Infinity*a:(e-=1023,i=(1048576|t)*Math.pow(2,e-20),a*(i+=n*Math.pow(2,e-52)))):0},m.prototype.peekFloat64=function(e,t){return null==e&&(e=0),this.peek(8,e,t),o?o[0]:s()},m.prototype.readFloat80=function(e){return this.read(10,e),u()},u=function(){var e,t,r,n,i,a;return r=p[0],n=p[1],a=1-2*((e=v[9])>>>7),0===(t=(127&e)<<8|v[8])&&0===n&&0===r?0:32767===t?0===n&&0===r?Infinity*a:NaN:(t-=16383,i=n*Math.pow(2,t-31),a*(i+=r*Math.pow(2,t-63)))},m.prototype.peekFloat80=function(e,t){return null==e&&(e=0),this.peek(10,e,t),u()},m.prototype.readBuffer=function(e){var t,n,i,a,o;for(o=(a=r.allocate(e)).data,t=n=0,i=e;n<i;t=n+=1)o[t]=this.readUInt8();return a},m.prototype.peekBuffer=function(e,t){var n,i,a,o,s;for(null==e&&(e=0),s=(o=r.allocate(t)).data,n=i=0,a=t;i<a;n=i+=1)s[n]=this.peekUInt8(e+n);return o},m.prototype.readSingleBuffer=function(e){var t;return t=this.list.first.slice(this.localOffset,e),this.advance(t.length),t},m.prototype.peekSingleBuffer=function(e,t){return this.list.first.slice(this.localOffset+e,t)},m.prototype.readString=function(e,r){return null==r&&(r="ascii"),t.call(this,0,e,r,!0)},m.prototype.peekString=function(e,r,n){return null==e&&(e=0),null==n&&(n="ascii"),t.call(this,e,r,n,!1)},t=function(e,t,r,n){var i,a,o,s,u,l,f,c,d,h,p,v;switch(c=null===t?0:-1,null==t&&(t=Infinity),l=e+t,h="",r=r.toLowerCase()){case"ascii":case"latin1":for(;e<l&&(u=this.peekUInt8(e++))!==c;)h+=String.fromCharCode(u);break;case"utf8":case"utf-8":for(;e<l&&(i=this.peekUInt8(e++))!==c;)0==(128&i)?h+=String.fromCharCode(i):192==(224&i)?(a=63&this.peekUInt8(e++),h+=String.fromCharCode((31&i)<<6|a)):224==(240&i)?(a=63&this.peekUInt8(e++),o=63&this.peekUInt8(e++),h+=String.fromCharCode((15&i)<<12|a<<6|o)):240==(248&i)&&(d=((15&i)<<18|(a=63&this.peekUInt8(e++))<<12|(o=63&this.peekUInt8(e++))<<6|63&this.peekUInt8(e++))-65536,h+=String.fromCharCode(55296+(d>>10),56320+(1023&d)));break;case"utf16-be":case"utf16be":case"utf16le":case"utf16-le":case"utf16bom":case"utf16-bom":switch(r){case"utf16be":case"utf16-be":f=!1;break;case"utf16le":case"utf16-le":f=!0;break;case"utf16bom":case"utf16-bom":if(t<2||(s=this.peekUInt16(e))===c)return n&&this.advance(e+=2),h;f=65534===s,e+=2}for(;e<l&&(p=this.peekUInt16(e,f))!==c;)if(e+=2,p<55296||p>57343)h+=String.fromCharCode(p);else{if(p>56319)throw new Error("Invalid utf16 sequence.");if((v=this.peekUInt16(e,f))<56320||v>57343)throw new Error("Invalid utf16 sequence.");h+=String.fromCharCode(p,v),e+=2}p===c&&(e+=2);break;default:throw new Error("Unknown encoding: "+r)}return n&&this.advance(e),h},m}(),t.exports=i}).call(this)},{"./buffer":6,"./bufferlist":7,"./underflow":10}],10:[function(e,t,r){(function(){var e,r={}.hasOwnProperty;e=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.name="UnderflowError",this.stack=(new Error).stack}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,Error),t}(),t.exports=e}).call(this)},{}],11:[function(e,t,r){(function(){var r,n,i,a,o,s,u={}.hasOwnProperty;a=e("./core/events"),n=e("./core/bufferlist"),o=e("./core/stream"),r=e("./core/bitstream"),s=e("./core/underflow"),i=function(e){var t;function i(e,t){var i,a;this.demuxer=e,this.format=t,i=new n,this.stream=new o(i),this.bitstream=new r(this.stream),this.receivedFinalBuffer=!1,this.waiting=!1,this.demuxer.on("cookie",(a=this,function(e){var t;try{return a.setCookie(e)}catch(e){return t=e,a.emit("error",t)}})),this.demuxer.on("data",function(e){return function(t){if(i.append(t),e.waiting)return e.decode()}}(this)),this.demuxer.on("end",function(e){return function(){if(e.receivedFinalBuffer=!0,e.waiting)return e.decode()}}(this)),this.init()}return function(e,t){for(var r in t)u.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(i,e),i.prototype.init=function(){},i.prototype.setCookie=function(e){},i.prototype.readChunk=function(){},i.prototype.decode=function(){var e,t,r;this.waiting=!this.receivedFinalBuffer,t=this.bitstream.offset();try{r=this.readChunk()}catch(t){if(!((e=t)instanceof s))return this.emit("error",e),!1}return r?(this.emit("data",r),this.receivedFinalBuffer&&this.emit("end"),!0):(this.receivedFinalBuffer?this.emit("end"):(this.bitstream.seek(t),this.waiting=!0),!1)},i.prototype.seek=function(e){var t;return t=this.demuxer.seek(e),this.stream.seek(t.offset),t.timestamp},t={},i.register=function(e,r){return t[e]=r},i.find=function(e){return t[e]||null},i}(a),t.exports=i}).call(this)},{"./core/bitstream":5,"./core/bufferlist":7,"./core/events":8,"./core/stream":9,"./core/underflow":10}],12:[function(e,t,r){(function(){var t,r=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty;(function(e){function i(){return this.readChunk=r(this.readChunk,this),i.__super__.constructor.apply(this,arguments)}(function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype})(i,e),t.register("lpcm",i),i.prototype.readChunk=function(){var e,t,r,n,i,a,o,s,u,l,f,c,d,h,p,v,m,g;if(g=this.stream,a=this.format.littleEndian,m=(e=Math.min(4096,g.remainingBytes()))/(this.format.bitsPerChannel/8)|0,e<this.format.bitsPerChannel/8)return null;if(this.format.floatingPoint)switch(this.format.bitsPerChannel){case 32:for(l=new Float32Array(m),t=r=0,f=m;r<f;t=r+=1)l[t]=g.readFloat32(a);break;case 64:for(l=new Float64Array(m),t=n=0,c=m;n<c;t=n+=1)l[t]=g.readFloat64(a);break;default:throw new Error("Unsupported bit depth.")}else switch(this.format.bitsPerChannel){case 8:for(l=new Int8Array(m),t=i=0,d=m;i<d;t=i+=1)l[t]=g.readInt8();break;case 16:for(l=new Int16Array(m),t=o=0,h=m;o<h;t=o+=1)l[t]=g.readInt16(a);break;case 24:for(l=new Int32Array(m),t=s=0,p=m;s<p;t=s+=1)l[t]=g.readInt24(a);break;case 32:for(l=new Int32Array(m),t=u=0,v=m;u<v;t=u+=1)l[t]=g.readInt32(a);break;default:throw new Error("Unsupported bit depth.")}return l}})(t=e("../decoder"))}).call(this)},{"../decoder":11}],13:[function(e,t,r){(function(){var t,r=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty;(function(e){function i(){return this.readChunk=r(this.readChunk,this),i.__super__.constructor.apply(this,arguments)}(function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype})(i,e),t.register("ulaw",i),t.register("alaw",i),128,15,4,112,132,i.prototype.init=function(){var e,t,r,n,i,a,o;if(this.format.bitsPerChannel=16,this.table=a=new Int16Array(256),"ulaw"===this.format.formatID)for(e=t=0;t<256;e=++t)i=132+((15&(o=~e))<<3),i<<=(112&o)>>>4,a[e]=128&o?132-i:i-132;else for(e=r=0;r<256;e=++r)i=15&(o=85^e),i=(n=(112&o)>>>4)?i+i+1+32<<n+2:i+i+1<<3,a[e]=128&o?i:-i},i.prototype.readChunk=function(){var e,t,r,n,i,a,o;if(this,a=this.stream,o=this.table,0!==(i=Math.min(4096,this.stream.remainingBytes()))){for(r=new Int16Array(i),e=t=0,n=i;t<n;e=t+=1)r[e]=o[a.readUInt8()];return r}}})(t=e("../decoder"))}).call(this)},{"../decoder":11}],14:[function(e,t,r){(function(){var r,n,i,a,o={}.hasOwnProperty;i=e("./core/events"),r=e("./core/bufferlist"),a=e("./core/stream"),n=function(e){var t;function n(e,t){var n,i,o;(n=new r).append(t),this.stream=new a(n),i=!1,e.on("data",(o=this,function(e){var t;i=!0,n.append(e);try{return o.readChunk(e)}catch(e){return t=e,o.emit("error",t)}})),e.on("error",function(e){return function(t){return e.emit("error",t)}}(this)),e.on("end",function(e){return function(){return i||e.readChunk(t),e.emit("end")}}(this)),this.seekPoints=[],this.init()}return function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(n,e),n.probe=function(e){return!1},n.prototype.init=function(){},n.prototype.readChunk=function(e){},n.prototype.addSeekPoint=function(e,t){var r;return r=this.searchTimestamp(t),this.seekPoints.splice(r,0,{offset:e,timestamp:t})},n.prototype.searchTimestamp=function(e,t){var r,n,i,a;if(n=0,(r=this.seekPoints.length)>0&&this.seekPoints[r-1].timestamp<e)return r;for(;n<r;)i=n+r>>1,(a=this.seekPoints[i].timestamp)<e?n=i+1:a>=e&&(r=i);return r>this.seekPoints.length&&(r=this.seekPoints.length),r},n.prototype.seek=function(e){var t;return this.format&&this.format.framesPerPacket>0&&this.format.bytesPerPacket>0?{timestamp:e,offset:this.format.bytesPerPacket*e/this.format.framesPerPacket}:(t=this.searchTimestamp(e),this.seekPoints[t])},t=[],n.register=function(e){return t.push(e)},n.find=function(e){var r,n,i,o,s;for(s=a.fromBuffer(e),n=0,i=t.length;n<i;n++){r=t[n],o=s.offset;try{if(r.probe(s))return r}catch(e){e}s.seek(o)}return null},n}(i),t.exports=n}).call(this)},{"./core/bufferlist":7,"./core/events":8,"./core/stream":9}],15:[function(e,t,r){(function(){var t,r={}.hasOwnProperty;(function(e){function n(){return n.__super__.constructor.apply(this,arguments)}(function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype})(n,e),t.register(n),n.probe=function(e){var t;return"FORM"===e.peekString(0,4)&&("AIFF"===(t=e.peekString(8,4))||"AIFC"===t)},n.prototype.readChunk=function(){var e,t,r,n;if(!this.readStart&&this.stream.available(12)){if("FORM"!==this.stream.readString(4))return this.emit("error","Invalid AIFF.");if(this.fileSize=this.stream.readUInt32(),this.fileType=this.stream.readString(4),this.readStart=!0,"AIFF"!==(n=this.fileType)&&"AIFC"!==n)return this.emit("error","Invalid AIFF.")}for(;this.stream.available(1);){switch(!this.readHeaders&&this.stream.available(8)&&(this.type=this.stream.readString(4),this.len=this.stream.readUInt32()),this.type){case"COMM":if(!this.stream.available(this.len))return;this.format={formatID:"lpcm",channelsPerFrame:this.stream.readUInt16(),sampleCount:this.stream.readUInt32(),bitsPerChannel:this.stream.readUInt16(),sampleRate:this.stream.readFloat80(),framesPerPacket:1,littleEndian:!1,floatingPoint:!1},this.format.bytesPerPacket=this.format.bitsPerChannel/8*this.format.channelsPerFrame,"AIFC"===this.fileType&&(t=this.stream.readString(4),this.format.littleEndian="sowt"===t&&this.format.bitsPerChannel>8,this.format.floatingPoint="fl32"===t||"fl64"===t,"twos"!==t&&"sowt"!==t&&"fl32"!==t&&"fl64"!==t&&"NONE"!==t||(t="lpcm"),this.format.formatID=t,this.len-=4),this.stream.advance(this.len-18),this.emit("format",this.format),this.emit("duration",this.format.sampleCount/this.format.sampleRate*1e3|0);break;case"SSND":this.readSSNDHeader&&this.stream.available(4)||(r=this.stream.readUInt32(),this.stream.advance(4),this.stream.advance(r),this.readSSNDHeader=!0),e=this.stream.readSingleBuffer(this.len),this.len-=e.length,this.readHeaders=this.len>0,this.emit("data",e);break;default:if(!this.stream.available(this.len))return;this.stream.advance(this.len)}"SSND"!==this.type&&(this.readHeaders=!1)}}})(t=e("../demuxer"))}).call(this)},{"../demuxer":14}],16:[function(e,t,r){(function(){var t,r={}.hasOwnProperty;(function(e){var n,i;function a(){return a.__super__.constructor.apply(this,arguments)}(function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype})(a,e),t.register(a),a.probe=function(e){return".snd"===e.peekString(0,4)},(n=[8,8,16,24,32,32,64])[26]=8,i={1:"ulaw",27:"alaw"},a.prototype.readChunk=function(){var e,t,r;if(!this.readHeader&&this.stream.available(24)){if(".snd"!==this.stream.readString(4))return this.emit("error","Invalid AU file.");if(this.stream.readUInt32(),t=this.stream.readUInt32(),r=this.stream.readUInt32(),this.format={formatID:i[r]||"lpcm",littleEndian:!1,floatingPoint:6===r||7===r,bitsPerChannel:n[r-1],sampleRate:this.stream.readUInt32(),channelsPerFrame:this.stream.readUInt32(),framesPerPacket:1},null==this.format.bitsPerChannel)return this.emit("error","Unsupported encoding in AU file.");this.format.bytesPerPacket=this.format.bitsPerChannel/8*this.format.channelsPerFrame,4294967295!==t&&(e=this.format.bitsPerChannel/8,this.emit("duration",t/e/this.format.channelsPerFrame/this.format.sampleRate*1e3|0)),this.emit("format",this.format),this.readHeader=!0}if(this.readHeader)for(;this.stream.available(1);)this.emit("data",this.stream.readSingleBuffer(this.stream.remainingBytes()))}})(t=e("../demuxer"))}).call(this)},{"../demuxer":14}],17:[function(e,t,r){(function(){var t,r,n={}.hasOwnProperty;t=e("../demuxer"),r=e("./m4a"),function(e){function i(){return i.__super__.constructor.apply(this,arguments)}(function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype})(i,e),t.register(i),i.probe=function(e){return"caff"===e.peekString(0,4)},i.prototype.readChunk=function(){var e,t,n,i,a,o,s,u,l,f,c,d,h;if(!this.format&&this.stream.available(64)){if("caff"!==this.stream.readString(4))return this.emit("error","Invalid CAF, does not begin with 'caff'");if(this.stream.advance(4),"desc"!==this.stream.readString(4))return this.emit("error","Invalid CAF, 'caff' is not followed by 'desc'");if(0!==this.stream.readUInt32()||32!==this.stream.readUInt32())return this.emit("error","Invalid 'desc' size, should be 32");this.format={},this.format.sampleRate=this.stream.readFloat64(),this.format.formatID=this.stream.readString(4),i=this.stream.readUInt32(),"lpcm"===this.format.formatID&&(this.format.floatingPoint=Boolean(1&i),this.format.littleEndian=Boolean(2&i)),this.format.bytesPerPacket=this.stream.readUInt32(),this.format.framesPerPacket=this.stream.readUInt32(),this.format.channelsPerFrame=this.stream.readUInt32(),this.format.bitsPerChannel=this.stream.readUInt32(),this.emit("format",this.format)}for(;this.stream.available(1);){if(!this.headerCache&&(this.headerCache={type:this.stream.readString(4),oversize:0!==this.stream.readUInt32(),size:this.stream.readUInt32()},this.headerCache.oversize))return this.emit("error","Holy Shit, an oversized file, not supported in JS");switch(this.headerCache.type){case"kuki":this.stream.available(this.headerCache.size)&&("aac "===this.format.formatID?(l=this.stream.offset+this.headerCache.size,(n=r.readEsds(this.stream))&&this.emit("cookie",n),this.stream.seek(l)):(e=this.stream.readBuffer(this.headerCache.size),this.emit("cookie",e)),this.headerCache=null);break;case"pakt":if(this.stream.available(this.headerCache.size)){if(0!==this.stream.readUInt32())return this.emit("error","Sizes greater than 32 bits are not supported.");if(this.numPackets=this.stream.readUInt32(),0!==this.stream.readUInt32())return this.emit("error","Sizes greater than 32 bits are not supported.");for(this.numFrames=this.stream.readUInt32(),this.primingFrames=this.stream.readUInt32(),this.remainderFrames=this.stream.readUInt32(),this.emit("duration",this.numFrames/this.format.sampleRate*1e3|0),this.sentDuration=!0,t=0,d=0,a=0,f=this.numPackets;a<f;a+=1)this.addSeekPoint(t,d),t+=this.format.bytesPerPacket||r.readDescrLen(this.stream),d+=this.format.framesPerPacket||r.readDescrLen(this.stream);this.headerCache=null}break;case"info":for(u={},o=0,c=this.stream.readUInt32();0<=c?o<c:o>c;0<=c?++o:--o)s=this.stream.readString(null),h=this.stream.readString(null),u[s]=h;this.emit("metadata",u),this.headerCache=null;break;case"data":this.sentFirstDataChunk||(this.stream.advance(4),this.headerCache.size-=4,0===this.format.bytesPerPacket||this.sentDuration||(this.numFrames=this.headerCache.size/this.format.bytesPerPacket,this.emit("duration",this.numFrames/this.format.sampleRate*1e3|0)),this.sentFirstDataChunk=!0),e=this.stream.readSingleBuffer(this.headerCache.size),this.headerCache.size-=e.length,this.emit("data",e),this.headerCache.size<=0&&(this.headerCache=null);break;default:this.stream.available(this.headerCache.size)&&(this.stream.advance(this.headerCache.size),this.headerCache=null)}}}}(t)}).call(this)},{"../demuxer":14,"./m4a":18}],18:[function(e,t,r){(function(){var r,n,i={}.hasOwnProperty,a=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};n=function(e){var t,n,o,s,u,l,f,c,d,h,p;function v(){return v.__super__.constructor.apply(this,arguments)}return function(e,t){for(var r in t)i.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(v,e),r.register(v),n=["M4A ","M4P ","M4B ","M4V ","isom","mp42","qt  "],v.probe=function(e){var t;return"ftyp"===e.peekString(4,4)&&(t=e.peekString(8,4),a.call(n,t)>=0)},v.prototype.init=function(){return this.atoms=[],this.offsets=[],this.track=null,this.tracks=[]},u={},f={},s=function(e,t){var r,n,i,a,o;for(r=[],i=0,a=(o=e.split(".").slice(0,-1)).length;i<a;i++)n=o[i],r.push(n),f[r.join(".")]=!0;return null==u[e]&&(u[e]={}),u[e].fn=t},o=function(e,t){return null==u[e]&&(u[e]={}),u[e].after=t},v.prototype.readChunk=function(){var e,t;for(this.break=!1;this.stream.available(1)&&!this.break;){if(!this.readHeaders){if(!this.stream.available(8))return;if(this.len=this.stream.readUInt32()-8,this.type=this.stream.readString(4),0===this.len)continue;this.atoms.push(this.type),this.offsets.push(this.stream.offset+this.len),this.readHeaders=!0}if(t=this.atoms.join("."),null!=(e=u[t])?e.fn:void 0){if(!this.stream.available(this.len)&&"mdat"!==t)return;e.fn.call(this),t in f&&(this.readHeaders=!1)}else if(t in f)this.readHeaders=!1;else{if(!this.stream.available(this.len))return;this.stream.advance(this.len)}for(;this.stream.offset>=this.offsets[this.offsets.length-1];)(null!=(e=u[this.atoms.join(".")])?e.after:void 0)&&e.after.call(this),this.atoms.pop(),this.offsets.pop(),this.readHeaders=!1}},s("ftyp",(function(){var e;return e=this.stream.readString(4),a.call(n,e)<0?this.emit("error","Not a valid M4A file."):this.stream.advance(this.len-4)})),s("moov.trak",(function(){return this.track={},this.tracks.push(this.track)})),s("moov.trak.tkhd",(function(){return this.stream.advance(4),this.stream.advance(8),this.track.id=this.stream.readUInt32(),this.stream.advance(this.len-16)})),s("moov.trak.mdia.hdlr",(function(){return this.stream.advance(4),this.stream.advance(4),this.track.type=this.stream.readString(4),this.stream.advance(12),this.stream.advance(this.len-24)})),s("moov.trak.mdia.mdhd",(function(){return this.stream.advance(4),this.stream.advance(8),this.track.timeScale=this.stream.readUInt32(),this.track.duration=this.stream.readUInt32(),this.stream.advance(4)})),t={ulaw:8,alaw:8,in24:24,in32:32,fl32:32,fl64:64},s("moov.trak.mdia.minf.stbl.stsd",(function(){var e,r,n,i,a;return this.stream.advance(4),r=this.stream.readUInt32(),"soun"!==this.track.type?this.stream.advance(this.len-8):1!==r?this.emit("error","Only expecting one entry in sample description atom!"):(this.stream.advance(4),(e=this.track.format={}).formatID=this.stream.readString(4),this.stream.advance(6),this.stream.advance(2),a=this.stream.readUInt16(),this.stream.advance(6),e.channelsPerFrame=this.stream.readUInt16(),e.bitsPerChannel=this.stream.readUInt16(),this.stream.advance(4),e.sampleRate=this.stream.readUInt16(),this.stream.advance(2),1===a?(e.framesPerPacket=this.stream.readUInt32(),this.stream.advance(4),e.bytesPerFrame=this.stream.readUInt32(),this.stream.advance(4)):0!==a&&this.emit("error","Unknown version in stsd atom"),null!=t[e.formatID]&&(e.bitsPerChannel=t[e.formatID]),e.floatingPoint="fl32"===(n=e.formatID)||"fl64"===n,e.littleEndian="sowt"===e.formatID&&e.bitsPerChannel>8,"twos"===(i=e.formatID)||"sowt"===i||"in24"===i||"in32"===i||"fl32"===i||"fl64"===i||"raw "===i||"NONE"===i?e.formatID="lpcm":void 0)})),s("moov.trak.mdia.minf.stbl.stsd.alac",(function(){return this.stream.advance(4),this.track.cookie=this.stream.readBuffer(this.len-4)})),s("moov.trak.mdia.minf.stbl.stsd.esds",(function(){var e;return e=this.stream.offset+this.len,this.track.cookie=v.readEsds(this.stream),this.stream.seek(e)})),s("moov.trak.mdia.minf.stbl.stsd.wave.enda",(function(){return this.track.format.littleEndian=!!this.stream.readUInt16()})),v.readDescrLen=function(e){var t,r,n;for(n=0,r=4;r--&&(n=n<<7|127&(t=e.readUInt8()),128&t););return n},v.readEsds=function(e){var t,r,n;return e.advance(4),n=e.readUInt8(),r=v.readDescrLen(e),3===n?(e.advance(2),128&(t=e.readUInt8())&&e.advance(2),64&t&&e.advance(e.readUInt8()),32&t&&e.advance(2)):e.advance(2),n=e.readUInt8(),r=v.readDescrLen(e),4===n&&(e.readUInt8(),e.advance(1),e.advance(3),e.advance(4),e.advance(4),n=e.readUInt8(),r=v.readDescrLen(e),5===n)?e.readBuffer(r):null},s("moov.trak.mdia.minf.stbl.stts",(function(){var e,t,r,n;for(this.stream.advance(4),e=this.stream.readUInt32(),this.track.stts=[],t=r=0,n=e;r<n;t=r+=1)this.track.stts[t]={count:this.stream.readUInt32(),duration:this.stream.readUInt32()};return this.setupSeekPoints()})),s("moov.trak.mdia.minf.stbl.stsc",(function(){var e,t,r,n;for(this.stream.advance(4),e=this.stream.readUInt32(),this.track.stsc=[],t=r=0,n=e;r<n;t=r+=1)this.track.stsc[t]={first:this.stream.readUInt32(),count:this.stream.readUInt32(),id:this.stream.readUInt32()};return this.setupSeekPoints()})),s("moov.trak.mdia.minf.stbl.stsz",(function(){var e,t,r,n;if(this.stream.advance(4),this.track.sampleSize=this.stream.readUInt32(),e=this.stream.readUInt32(),0===this.track.sampleSize&&e>0)for(this.track.sampleSizes=[],t=r=0,n=e;r<n;t=r+=1)this.track.sampleSizes[t]=this.stream.readUInt32();return this.setupSeekPoints()})),s("moov.trak.mdia.minf.stbl.stco",(function(){var e,t,r,n;for(this.stream.advance(4),e=this.stream.readUInt32(),this.track.chunkOffsets=[],t=r=0,n=e;r<n;t=r+=1)this.track.chunkOffsets[t]=this.stream.readUInt32();return this.setupSeekPoints()})),s("moov.trak.tref.chap",(function(){var e,t,r,n;for(e=this.len>>2,this.track.chapterTracks=[],t=r=0,n=e;r<n;t=r+=1)this.track.chapterTracks[t]=this.stream.readUInt32()})),v.prototype.setupSeekPoints=function(){var e,t,r,n,i,a,o,s,u,l,f,c,d,h,p;if(null!=this.track.chunkOffsets&&null!=this.track.stsc&&null!=this.track.sampleSize&&null!=this.track.stts){for(c=0,d=0,d=0,h=0,l=0,i=0,p=0,this.track.seekPoints=[],u=[],e=t=0,n=(o=this.track.chunkOffsets).length;t<n;e=++t){for(a=o[e],r=0,s=this.track.stsc[c].count;r<s;r+=1)this.track.seekPoints.push({offset:i,position:a,timestamp:p}),i+=f=this.track.sampleSize||this.track.sampleSizes[l++],a+=f,p+=this.track.stts[d].duration,d+1<this.track.stts.length&&++h===this.track.stts[d].count&&(h=0,d++);c+1<this.track.stsc.length&&e+1===this.track.stsc[c+1].first?u.push(c++):u.push(void 0)}return u}},o("moov",(function(){var e,t,r,n;for(null!=this.mdatOffset&&this.stream.seek(this.mdatOffset-8),e=0,t=(r=this.tracks).length;e<t;e++)if("soun"===(n=r[e]).type){this.track=n;break}return"soun"!==this.track.type?(this.track=null,this.emit("error","No audio tracks in m4a file.")):(this.emit("format",this.track.format),this.emit("duration",this.track.duration/this.track.timeScale*1e3|0),this.track.cookie&&this.emit("cookie",this.track.cookie),this.seekPoints=this.track.seekPoints)})),s("mdat",(function(){var e,t,r,n,i,a,o,s,u;if(!this.startedData){if(null==this.mdatOffset&&(this.mdatOffset=this.stream.offset),0===this.tracks.length)return e=Math.min(this.stream.remainingBytes(),this.len),this.stream.advance(e),void(this.len-=e);this.chunkIndex=0,this.stscIndex=0,this.sampleIndex=0,this.tailOffset=0,this.tailSamples=0,this.startedData=!0}if(!this.readChapters){if(this.readChapters=this.parseChapters(),this.break=!this.readChapters)return;this.stream.seek(this.mdatOffset)}if(a=this.track.chunkOffsets[this.chunkIndex]+this.tailOffset,n=0,this.stream.available(a-this.stream.offset)){for(this.stream.seek(a);this.chunkIndex<this.track.chunkOffsets.length;){for(t=0,s=r=0,o=i=this.track.stsc[this.stscIndex].count-this.tailSamples;r<o&&(u=this.track.sampleSize||this.track.sampleSizes[this.sampleIndex],this.stream.available(n+u));s=r+=1)n+=u,t+=u,this.sampleIndex++;if(s<i){this.tailOffset+=t,this.tailSamples+=s;break}if(this.chunkIndex++,this.tailOffset=0,this.tailSamples=0,this.stscIndex+1<this.track.stsc.length&&this.chunkIndex+1===this.track.stsc[this.stscIndex+1].first&&this.stscIndex++,a+n!==this.track.chunkOffsets[this.chunkIndex])break}return n>0?(this.emit("data",this.stream.readBuffer(n)),this.break=this.chunkIndex===this.track.chunkOffsets.length):this.break=!0}this.break=!0})),v.prototype.parseChapters=function(){var e,t,r,n,i,a,o,s,u,l,f,c,d;if(!((null!=(s=this.track.chapterTracks)?s.length:void 0)>0))return!0;for(t=this.track.chapterTracks[0],r=0,i=(u=this.tracks).length;r<i&&(d=u[r]).id!==t;r++);for(d.id!==t&&this.emit("error","Chapter track does not exist."),null==this.chapters&&(this.chapters=[]);this.chapters.length<d.seekPoints.length;){if(o=d.seekPoints[this.chapters.length],!this.stream.available(o.position-this.stream.offset+32))return!1;if(this.stream.seek(o.position),n=this.stream.readUInt16(),c=null,!this.stream.available(n))return!1;n>2&&(65279!==(e=this.stream.peekUInt16())&&65534!==e||(c=this.stream.readString(n,"utf16-bom"))),null==c&&(c=this.stream.readString(n,"utf8")),a=null!=(l=null!=(f=d.seekPoints[this.chapters.length+1])?f.timestamp:void 0)?l:d.duration,this.chapters.push({title:c,timestamp:o.timestamp/d.timeScale*1e3|0,duration:(a-o.timestamp)/d.timeScale*1e3|0})}return this.emit("chapters",this.chapters),!0},s("moov.udta.meta",(function(){return this.metadata={},this.stream.advance(4)})),o("moov.udta.meta",(function(){return this.emit("metadata",this.metadata)})),(h=function(e,t,r){return s("moov.udta.meta.ilst."+e+".data",(function(){return this.stream.advance(8),this.len-=8,r.call(this,t)}))})("©alb","album",p=function(e){return this.metadata[e]=this.stream.readString(this.len,"utf8")}),h("©arg","arranger",p),h("©art","artist",p),h("©ART","artist",p),h("aART","albumArtist",p),h("catg","category",p),h("©com","composer",p),h("©cpy","copyright",p),h("cprt","copyright",p),h("©cmt","comments",p),h("©day","releaseDate",p),h("desc","description",p),h("©gen","genre",p),h("©grp","grouping",p),h("©isr","ISRC",p),h("keyw","keywords",p),h("©lab","recordLabel",p),h("ldes","longDescription",p),h("©lyr","lyrics",p),h("©nam","title",p),h("©phg","recordingCopyright",p),h("©prd","producer",p),h("©prf","performers",p),h("purd","purchaseDate",p),h("purl","podcastURL",p),h("©swf","songwriter",p),h("©too","encoder",p),h("©wrt","composer",p),h("covr","coverArt",(function(e){return this.metadata[e]=this.stream.readBuffer(this.len)})),d=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","AlternRock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta","Top 40","Christian Rap","Pop/Funk","Jungle","Native American","Cabaret","New Wave","Psychadelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk/Rock","National Folk","Swing","Fast Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Capella","Euro-House","Dance Hall"],h("gnre","genre",(function(e){return this.metadata[e]=d[this.stream.readUInt16()-1]})),h("tmpo","tempo",(function(e){return this.metadata[e]=this.stream.readUInt16()})),h("rtng","rating",(function(e){var t;return t=this.stream.readUInt8(),this.metadata[e]=2===t?"Clean":0!==t?"Explicit":"None"})),h("disk","diskNumber",c=function(e){return this.stream.advance(2),this.metadata[e]=this.stream.readUInt16()+" of "+this.stream.readUInt16(),this.stream.advance(this.len-6)}),h("trkn","trackNumber",c),h("cpil","compilation",l=function(e){return this.metadata[e]=1===this.stream.readUInt8()}),h("pcst","podcast",l),h("pgap","gapless",l),v}(r=e("../demuxer")),t.exports=n}).call(this)},{"../demuxer":14}],19:[function(e,t,r){(function(){var t,r={}.hasOwnProperty;(function(e){var n;function i(){return i.__super__.constructor.apply(this,arguments)}(function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype})(i,e),t.register(i),i.probe=function(e){return"RIFF"===e.peekString(0,4)&&"WAVE"===e.peekString(8,4)},n={1:"lpcm",3:"lpcm",6:"alaw",7:"ulaw"},i.prototype.readChunk=function(){var e,t,r;if(!this.readStart&&this.stream.available(12)){if("RIFF"!==this.stream.readString(4))return this.emit("error","Invalid WAV file.");if(this.fileSize=this.stream.readUInt32(!0),this.readStart=!0,"WAVE"!==this.stream.readString(4))return this.emit("error","Invalid WAV file.")}for(;this.stream.available(1);){switch(!this.readHeaders&&this.stream.available(8)&&(this.type=this.stream.readString(4),this.len=this.stream.readUInt32(!0)),this.type){case"fmt ":if(!((r=this.stream.readUInt16(!0))in n))return this.emit("error","Unsupported format in WAV file.");this.format={formatID:n[r],floatingPoint:3===r,littleEndian:"lpcm"===n[r],channelsPerFrame:this.stream.readUInt16(!0),sampleRate:this.stream.readUInt32(!0),framesPerPacket:1},this.stream.advance(4),this.stream.advance(2),this.format.bitsPerChannel=this.stream.readUInt16(!0),this.format.bytesPerPacket=this.format.bitsPerChannel/8*this.format.channelsPerFrame,this.emit("format",this.format),this.stream.advance(this.len-16);break;case"data":this.sentDuration||(t=this.format.bitsPerChannel/8,this.emit("duration",this.len/t/this.format.channelsPerFrame/this.format.sampleRate*1e3|0),this.sentDuration=!0),e=this.stream.readSingleBuffer(this.len),this.len-=e.length,this.readHeaders=this.len>0,this.emit("data",e);break;default:if(!this.stream.available(this.len))return;this.stream.advance(this.len)}"data"!==this.type&&(this.readHeaders=!1)}}})(t=e("../demuxer"))}).call(this)},{"../demuxer":14}],20:[function(e,t,r){(function(){var r,n={}.hasOwnProperty;r=function(e){var t;function r(e,t){var r,n;this.sampleRate=e,this.channels=t,this.updateTime=(r=this.updateTime,n=this,function(){return r.apply(n,arguments)}),this.playing=!1,this.currentTime=0,this._lastTime=0}return function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(r,e),r.prototype.start=function(){if(!this.playing){if(this.playing=!0,null==this.device&&(this.device=r.create(this.sampleRate,this.channels)),!this.device)throw new Error("No supported audio device found.");return this._lastTime=this.device.getDeviceTime(),this._timer=setInterval(this.updateTime,200),this.device.on("refill",this.refill=(e=this,function(t){return e.emit("refill",t)}));var e}},r.prototype.stop=function(){if(this.playing)return this.playing=!1,this.device.off("refill",this.refill),clearInterval(this._timer)},r.prototype.destroy=function(){var e;return this.stop(),null!=(e=this.device)?e.destroy():void 0},r.prototype.seek=function(e){return this.currentTime=e,this.playing&&(this._lastTime=this.device.getDeviceTime()),this.emit("timeUpdate",this.currentTime)},r.prototype.updateTime=function(){var e;return e=this.device.getDeviceTime(),this.currentTime+=(e-this._lastTime)/this.device.sampleRate*1e3|0,this._lastTime=e,this.emit("timeUpdate",this.currentTime)},t=[],r.register=function(e){return t.push(e)},r.create=function(e,r){var n,i,a;for(i=0,a=t.length;i<a;i++)if((n=t[i]).supported)return new n(e,r);return null},r}(e("./core/events")),t.exports=r}).call(this)},{"./core/events":8}],21:[function(e,t,r){(function(){var t,r,n,i={}.hasOwnProperty;n=e("../core/events"),r=e("../device"),t=e("../core/buffer"),function(e){var n,a;function o(e,t){var r,i;this.sampleRate=e,this.channels=t,this.refill=(r=this.refill,i=this,function(){return r.apply(i,arguments)}),this.audio=new Audio,this.audio.mozSetup(this.channels,this.sampleRate),this.writePosition=0,this.prebufferSize=this.sampleRate/2,this.tail=null,this.timer=n(this.refill,100)}(function(e,t){for(var r in t)i.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype})(o,e),r.register(o),o.supported="undefined"!=typeof Audio&&null!==Audio&&"mozWriteAudio"in new Audio,o.prototype.refill=function(){var e,t,r;this.tail&&(r=this.audio.mozWriteAudio(this.tail),this.writePosition+=r,this.writePosition<this.tail.length?this.tail=this.tail.subarray(r):this.tail=null),(e=this.audio.mozCurrentSampleOffset()+this.prebufferSize-this.writePosition)>0&&(t=new Float32Array(e),this.emit("refill",t),(r=this.audio.mozWriteAudio(t))<t.length&&(this.tail=t.subarray(r)),this.writePosition+=r)},o.prototype.destroy=function(){return a(this.timer)},o.prototype.getDeviceTime=function(){return this.audio.mozCurrentSampleOffset()/this.channels},n=function(e,r){var n,i;return null==(n=t.makeBlobURL("setInterval(function() { postMessage('ping'); }, "+r+");"))?setInterval(e,r):((i=new Worker(n)).onmessage=e,i.url=n,i)},a=function(e){return e.terminate?(e.terminate(),URL.revokeObjectURL(e.url)):clearInterval(e)}}(n)}).call(this)},{"../core/buffer":6,"../core/events":8,"../device":20}],22:[function(e,t,r){function n(e,t,r,n){this.fromSampleRate=+e,this.toSampleRate=+t,this.channels=0|r,this.inputBufferLength=n,this.initialize()}n.prototype.initialize=function(){if(!(this.fromSampleRate>0&&this.toSampleRate>0&&this.channels>0))throw new Error("Invalid settings specified for the resampler.");if(this.fromSampleRate==this.toSampleRate)this.resampler=this.bypassResampler,this.ratioWeight=1;else{this.ratioWeight=this.fromSampleRate/this.toSampleRate,this.fromSampleRate<this.toSampleRate?(this.compileLinearInterpolationFunction(),this.lastWeight=1):(this.compileMultiTapFunction(),this.tailExists=!1,this.lastWeight=0);var e=Math.ceil(this.inputBufferLength*this.toSampleRate/this.fromSampleRate/this.channels*1.01)*this.channels+this.channels;this.outputBuffer=new Float32Array(e),this.lastOutput=new Float32Array(this.channels)}},n.prototype.compileLinearInterpolationFunction=function(){for(var e="var outputOffset = 0;    var bufferLength = buffer.length;    if (bufferLength > 0) {      var weight = this.lastWeight;      var firstWeight = 0;      var secondWeight = 0;      var sourceOffset = 0;      var outputOffset = 0;      var outputBuffer = this.outputBuffer;      for (; weight < 1; weight += "+this.ratioWeight+") {        secondWeight = weight % 1;        firstWeight = 1 - secondWeight;",t=0;t<this.channels;++t)e+="outputBuffer[outputOffset++] = (this.lastOutput["+t+"] * firstWeight) + (buffer["+t+"] * secondWeight);";e+="}      weight -= 1;      for (bufferLength -= "+this.channels+", sourceOffset = Math.floor(weight) * "+this.channels+"; sourceOffset < bufferLength;) {        secondWeight = weight % 1;        firstWeight = 1 - secondWeight;";for(t=0;t<this.channels;++t)e+="outputBuffer[outputOffset++] = (buffer[sourceOffset"+(t>0?" + "+t:"")+"] * firstWeight) + (buffer[sourceOffset + "+(this.channels+t)+"] * secondWeight);";e+="weight += "+this.ratioWeight+";        sourceOffset = Math.floor(weight) * "+this.channels+";      }";for(t=0;t<this.channels;++t)e+="this.lastOutput["+t+"] = buffer[sourceOffset++];";e+="this.lastWeight = weight % 1;    }    return this.outputBuffer;",this.resampler=Function("buffer",e)},n.prototype.compileMultiTapFunction=function(){for(var e="var outputOffset = 0;    var bufferLength = buffer.length;    if (bufferLength > 0) {      var weight = 0;",t=0;t<this.channels;++t)e+="var output"+t+" = 0;";for(e+="var actualPosition = 0;      var amountToNext = 0;      var alreadyProcessedTail = !this.tailExists;      this.tailExists = false;      var outputBuffer = this.outputBuffer;      var currentPosition = 0;      do {        if (alreadyProcessedTail) {          weight = "+this.ratioWeight+";",t=0;t<this.channels;++t)e+="output"+t+" = 0;";for(e+="}        else {          weight = this.lastWeight;",t=0;t<this.channels;++t)e+="output"+t+" = this.lastOutput["+t+"];";for(e+="alreadyProcessedTail = true;        }        while (weight > 0 && actualPosition < bufferLength) {          amountToNext = 1 + actualPosition - currentPosition;          if (weight >= amountToNext) {",t=0;t<this.channels;++t)e+="output"+t+" += buffer[actualPosition++] * amountToNext;";for(e+="currentPosition = actualPosition;            weight -= amountToNext;          }          else {",t=0;t<this.channels;++t)e+="output"+t+" += buffer[actualPosition"+(t>0?" + "+t:"")+"] * weight;";for(e+="currentPosition += weight;            weight = 0;            break;          }        }        if (weight <= 0) {",t=0;t<this.channels;++t)e+="outputBuffer[outputOffset++] = output"+t+" / "+this.ratioWeight+";";for(e+="}        else {          this.lastWeight = weight;",t=0;t<this.channels;++t)e+="this.lastOutput["+t+"] = output"+t+";";e+="this.tailExists = true;          break;        }      } while (actualPosition < bufferLength);    }    return this.outputBuffer;",this.resampler=Function("buffer",e)},n.prototype.bypassResampler=function(e){return e},t.exports=n},{}],23:[function(e,t,n){(function(t){(function(){var r,n,i,a={}.hasOwnProperty;n=e("../core/events"),r=e("../device"),i=e("./resampler"),function(e){var n,o,s;function u(e,t){var r,a;this.sampleRate=e,this.channels=t,this.refill=(r=this.refill,a=this,function(){return r.apply(a,arguments)}),this.context=null!=s?s:s=new n,this.deviceSampleRate=this.context.sampleRate,this.bufferSize=Math.ceil(4096/(this.deviceSampleRate/this.sampleRate)*this.channels),this.bufferSize+=this.bufferSize%this.channels,this.deviceSampleRate!==this.sampleRate&&(this.resampler=new i(this.sampleRate,this.deviceSampleRate,this.channels,this.bufferSize)),this.node=this.context[o](4096,this.channels,this.channels),this.node.onaudioprocess=this.refill,this.node.connect(this.context.destination)}(function(e,t){for(var r in t)a.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype})(u,e),r.register(u),n=t.AudioContext||t.webkitAudioContext,u.supported=n&&("function"==typeof n.prototype[o="createScriptProcessor"]||"function"==typeof n.prototype[o="createJavaScriptNode"]),s=null,u.prototype.refill=function(e){var t,r,n,i,a,o,s,u,l,f,c,d;for(t=(l=e.outputBuffer).numberOfChannels,r=new Array(t),i=a=0,f=t;a<f;i=a+=1)r[i]=l.getChannelData(i);for(n=new Float32Array(this.bufferSize),this.emit("refill",n),this.resampler&&(n=this.resampler.resampler(n)),i=o=0,c=l.length;o<c;i=o+=1)for(u=s=0,d=t;s<d;u=s+=1)r[u][i]=n[i*t+u]},u.prototype.destroy=function(){return this.node.disconnect(0)},u.prototype.getDeviceTime=function(){return this.context.currentTime*this.sampleRate}}(n)}).call(this)}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../core/events":8,"../device":20,"./resampler":22}],24:[function(e,t,r){(function(){var e;e=function(){function e(e,t){e&&t&&Object.defineProperty(this,"value",{get:function(){return e[t]}})}return e.prototype.process=function(e){},e}(),t.exports=e}).call(this)},{}],25:[function(e,t,r){(function(){var r,n={}.hasOwnProperty;r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,e),t.prototype.process=function(e){var t,r,n,i;if(0!==this.value)for(n=Math.max(-50,Math.min(50,this.value)),t=r=0,i=e.length;r<i;t=r+=2)e[t]*=Math.min(1,(50-n)/50),e[t+1]*=Math.min(1,(50+n)/50)},t}(e("../filter")),t.exports=r}).call(this)},{"../filter":24}],26:[function(e,t,r){(function(){var r,n={}.hasOwnProperty;r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,e),t.prototype.process=function(e){var t,r,n,i;if(!(this.value>=100))for(i=Math.max(0,Math.min(100,this.value))/100,t=r=0,n=e.length;r<n;t=r+=1)e[t]*=i},t}(e("../filter")),t.exports=r}).call(this)},{"../filter":24}],27:[function(e,t,r){(function(){var r,n,i,a,o,s,u,l={}.hasOwnProperty;a=e("./core/events"),r=e("./asset"),u=e("./filters/volume"),i=e("./filters/balance"),s=e("./queue"),n=e("./device"),o=function(e){function t(e){var t,r,n;this.asset=e,this.startPlaying=(t=this.startPlaying,r=this,function(){return t.apply(r,arguments)}),this.playing=!1,this.buffered=0,this.currentTime=0,this.duration=0,this.volume=100,this.pan=0,this.metadata={},this.filters=[new u(this,"volume"),new i(this,"pan")],this.asset.on("buffer",(n=this,function(e){return n.buffered=e,n.emit("buffer",n.buffered)})),this.asset.on("decodeStart",function(e){return function(){return e.queue=new s(e.asset),e.queue.once("ready",e.startPlaying)}}(this)),this.asset.on("format",function(e){return function(t){return e.format=t,e.emit("format",e.format)}}(this)),this.asset.on("metadata",function(e){return function(t){return e.metadata=t,e.emit("metadata",e.metadata)}}(this)),this.asset.on("duration",function(e){return function(t){return e.duration=t,e.emit("duration",e.duration)}}(this)),this.asset.on("error",function(e){return function(t){return e.emit("error",t)}}(this))}return function(e,t){for(var r in t)l.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,e),t.fromURL=function(e,n){return new t(r.fromURL(e,n))},t.fromFile=function(e){return new t(r.fromFile(e))},t.fromBuffer=function(e){return new t(r.fromBuffer(e))},t.prototype.preload=function(){if(this.asset)return this.startedPreloading=!0,this.asset.start(!1)},t.prototype.play=function(){var e;if(!this.playing)return this.startedPreloading||this.preload(),this.playing=!0,null!=(e=this.device)?e.start():void 0},t.prototype.pause=function(){var e;if(this.playing)return this.playing=!1,null!=(e=this.device)?e.stop():void 0},t.prototype.togglePlayback=function(){return this.playing?this.pause():this.play()},t.prototype.stop=function(){var e;return this.pause(),this.asset.stop(),null!=(e=this.device)?e.destroy():void 0},t.prototype.seek=function(e){var t,r;return null!=(t=this.device)&&t.stop(),this.queue.once("ready",(r=this,function(){var e,t;if(null!=(e=r.device)&&e.seek(r.currentTime),r.playing)return null!=(t=r.device)?t.start():void 0})),e=e/1e3*this.format.sampleRate,e=this.asset.decoder.seek(e),this.currentTime=e/this.format.sampleRate*1e3|0,this.queue.reset(),this.currentTime},t.prototype.startPlaying=function(){var e,t,r;return e=this.queue.read(),t=0,this.device=new n(this.format.sampleRate,this.format.channelsPerFrame),this.device.on("timeUpdate",(r=this,function(e){return r.currentTime=e,r.emit("progress",r.currentTime)})),this.refill=function(r){return function(n){var i,a,o,s,u,l;if(r.playing){for(e||(e=r.queue.read(),t=0),i=0;e&&i<n.length;){for(a=0,u=Math.min(e.length-t,n.length-i);a<u;a+=1)n[i++]=e[t++];t===e.length&&(e=r.queue.read(),t=0)}for(o=0,s=(l=r.filters).length;o<s;o++)l[o].process(n);e||(r.queue.ended?(r.currentTime=r.duration,r.emit("progress",r.currentTime),r.emit("end"),r.stop()):r.device.stop())}}}(this),this.device.on("refill",this.refill),this.playing&&this.device.start(),this.emit("ready")},t.prototype.destroy=function(){var e,t;return this.stop(),null!=(e=this.device)&&e.off(),null!=(t=this.asset)&&t.destroy(),this.off()},t}(a),t.exports=o}).call(this)},{"./asset":1,"./core/events":8,"./device":20,"./filters/balance":25,"./filters/volume":26,"./queue":28}],28:[function(e,t,r){(function(){var r,n={}.hasOwnProperty;r=function(e){function t(e){var t,r,n;this.asset=e,this.write=(t=this.write,r=this,function(){return t.apply(r,arguments)}),this.readyMark=64,this.finished=!1,this.buffering=!0,this.ended=!1,this.buffers=[],this.asset.on("data",this.write),this.asset.on("end",(n=this,function(){return n.ended=!0})),this.asset.decodePacket()}return function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,e),t.prototype.write=function(e){if(e&&this.buffers.push(e),this.buffering)return this.buffers.length>=this.readyMark||this.ended?(this.buffering=!1,this.emit("ready")):this.asset.decodePacket()},t.prototype.read=function(){return 0===this.buffers.length?null:(this.asset.decodePacket(),this.buffers.shift())},t.prototype.reset=function(){return this.buffers.length=0,this.buffering=!0,this.asset.decodePacket()},t}(e("./core/events")),t.exports=r}).call(this)},{"./core/events":8}],29:[function(e,t,r){var n,i,a,o={}.hasOwnProperty;i=e("../../core/events"),n=e("../../core/buffer"),a=function(e){function t(e){if(this.file=e,"undefined"==typeof FileReader||null===FileReader)return this.emit("error","This browser does not have FileReader support.");this.offset=0,this.length=this.file.size,this.chunkSize=1<<20,this.file[this.slice="slice"]||this.file[this.slice="webkitSlice"]||this.file[this.slice="mozSlice"]}return function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,e),t.prototype.start=function(){return this.reader&&!this.active||(this.reader=new FileReader,this.active=!0,this.reader.onload=(e=this,function(t){var r;if(r=new n(new Uint8Array(t.target.result)),e.offset+=r.length,e.emit("data",r),e.active=!1,e.offset<e.length)return e.loop()}),this.reader.onloadend=function(e){return function(){if(e.offset===e.length)return e.emit("end"),e.reader=null}}(this),this.reader.onerror=function(e){return function(t){return e.emit("error",t)}}(this),this.reader.onprogress=function(e){return function(t){return e.emit("progress",(e.offset+t.loaded)/e.length*100)}}(this)),this.loop();var e},t.prototype.loop=function(){var e,t;return this.active=!0,t=Math.min(this.offset+this.chunkSize,this.length),e=this.file[this.slice](this.offset,t),this.reader.readAsArrayBuffer(e)},t.prototype.pause=function(){var e;this.active=!1;try{return null!=(e=this.reader)?e.abort():void 0}catch(e){}},t.prototype.reset=function(){return this.pause(),this.offset=0},t}(i),t.exports=a},{"../../core/buffer":6,"../../core/events":8}],30:[function(e,t,r){var n,i,a,o={}.hasOwnProperty;i=e("../../core/events"),n=e("../../core/buffer"),a=function(e){function t(e,t){this.url=e,this.opts=null!=t?t:{},this.chunkSize=1<<20,this.inflight=!1,this.opts.length&&(this.length=this.opts.length),this.reset()}return function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,e),t.prototype.start=function(){return this.length&&!this.inflight?this.loop():(this.inflight=!0,this.xhr=new XMLHttpRequest,this.xhr.onload=(e=this,function(t){return e.length=parseInt(e.xhr.getResponseHeader("Content-Length")),e.inflight=!1,e.loop()}),this.xhr.onerror=function(e){return function(t){return e.pause(),e.emit("error",t)}}(this),this.xhr.onabort=function(e){return function(t){return e.inflight=!1}}(this),this.xhr.open("HEAD",this.url,!0),this.xhr.send(null));var e},t.prototype.loop=function(){var e,t;return this.inflight||!this.length?this.emit("error","Something is wrong in HTTPSource.loop"):(this.inflight=!0,this.xhr=new XMLHttpRequest,this.xhr.onload=(t=this,function(e){var r,i,a,o,s,u;if(t.xhr.response)r=new Uint8Array(t.xhr.response);else for(o=t.xhr.responseText,r=new Uint8Array(o.length),a=s=0,u=o.length;0<=u?s<u:s>u;a=0<=u?++s:--s)r[a]=255&o.charCodeAt(a);if(i=new n(r),t.offset+=i.length,t.emit("data",i),t.offset>=t.length&&t.emit("end"),t.inflight=!1,!(t.offset>=t.length))return t.loop()}),this.xhr.onprogress=function(e){return function(t){return e.emit("progress",(e.offset+t.loaded)/e.length*100)}}(this),this.xhr.onerror=function(e){return function(t){return e.emit("error",t),e.pause()}}(this),this.xhr.onabort=function(e){return function(t){return e.inflight=!1}}(this),this.xhr.open("GET",this.url,!0),this.xhr.responseType="arraybuffer",e=Math.min(this.offset+this.chunkSize,this.length-1),this.xhr.setRequestHeader("If-None-Match","webkit-no-cache"),this.xhr.setRequestHeader("Range","bytes="+this.offset+"-"+e),this.xhr.overrideMimeType("text/plain; charset=x-user-defined"),this.xhr.send(null))},t.prototype.pause=function(){var e;return this.inflight=!1,null!=(e=this.xhr)?e.abort():void 0},t.prototype.reset=function(){return this.pause(),this.offset=0},t}(i),t.exports=a},{"../../core/buffer":6,"../../core/events":8}],31:[function(e,t,n){(function(r){(function(){var n,i,a,o,s={}.hasOwnProperty;o=e("../core/events"),i=e("../core/bufferlist"),n=e("../core/buffer"),a=function(e){var t,a;function o(e){var t,r;this.loop=(t=this.loop,r=this,function(){return t.apply(r,arguments)}),e instanceof i?this.list=e:(this.list=new i,this.list.append(new n(e))),this.paused=!0}return function(e,t){for(var r in t)s.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(o,e),a=r.setImmediate||function(e){return r.setTimeout(e,0)},t=r.clearImmediate||function(e){return r.clearTimeout(e)},o.prototype.start=function(){return this.paused=!1,this._timer=a(this.loop)},o.prototype.loop=function(){return this.emit("progress",(this.list.numBuffers-this.list.availableBuffers+1)/this.list.numBuffers*100|0),this.emit("data",this.list.first),this.list.advance()?a(this.loop):this.emit("end")},o.prototype.pause=function(){return t(this._timer),this.paused=!0},o.prototype.reset=function(){return this.pause(),this.list.rewind()},o}(o),t.exports=a}).call(this)}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../core/buffer":6,"../core/bufferlist":7,"../core/events":8}],32:[function(e,t,r){var n,i,a;for(n in a=e("./src/aurora"))i=a[n],r[n]=i;e("./src/devices/webaudio"),e("./src/devices/mozilla")},{"./src/aurora":2,"./src/devices/mozilla":21,"./src/devices/webaudio":23}]},{},[32])(32)}))}).call(this,r(76))},function(e,t,r){var n;"undefined"!=typeof window&&(n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":
/*!*********************************************!*\
  !*** ./node_modules/eventemitter3/index.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function a(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,r,n,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new o(r,n||e,a),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function l(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(i=!1)),l.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},l.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,a=r.length,o=new Array(a);n<a;n++)o[n]=r[n].fn;return o},l.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},l.prototype.emit=function(e,t,r,n,a,o){var s=i?i+e:e;if(!this._events[s])return!1;var u,l,f=this._events[s],c=arguments.length;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),c){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,r),!0;case 4:return f.fn.call(f.context,t,r,n),!0;case 5:return f.fn.call(f.context,t,r,n,a),!0;case 6:return f.fn.call(f.context,t,r,n,a,o),!0}for(l=1,u=new Array(c-1);l<c;l++)u[l-1]=arguments[l];f.fn.apply(f.context,u)}else{var d,h=f.length;for(l=0;l<h;l++)switch(f[l].once&&this.removeListener(e,f[l].fn,void 0,!0),c){case 1:f[l].fn.call(f[l].context);break;case 2:f[l].fn.call(f[l].context,t);break;case 3:f[l].fn.call(f[l].context,t,r);break;case 4:f[l].fn.call(f[l].context,t,r,n);break;default:if(!u)for(d=1,u=new Array(c-1);d<c;d++)u[d-1]=arguments[d];f[l].fn.apply(f[l].context,u)}}return!0},l.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},l.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},l.prototype.removeListener=function(e,t,r,n){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return u(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||u(this,a);else{for(var s=0,l=[],f=o.length;s<f;s++)(o[s].fn!==t||n&&!o[s].once||r&&o[s].context!==r)&&l.push(o[s]);l.length?this._events[a]=1===l.length?l[0]:l:u(this,a)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,e.exports=l},"./node_modules/url-toolkit/src/url-toolkit.js":
/*!*****************************************************!*\
  !*** ./node_modules/url-toolkit/src/url-toolkit.js ***!
  \*****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){var n,i,a,o,s;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/,i=/^([^\/?#]*)(.*)$/,a=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var n=s.parseURL(e);if(!n)throw new Error("Error trying to parse base URL.");return n.path=s.normalizePath(n.path),s.buildURLFromParts(n)}var a=s.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return r.alwaysNormalize?(a.path=s.normalizePath(a.path),s.buildURLFromParts(a)):t;var o=s.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var u=i.exec(o.path);o.netLoc=u[1],o.path=u[2]}o.netLoc&&!o.path&&(o.path="/");var l={scheme:o.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(l.netLoc=o.netLoc,"/"!==a.path[0]))if(a.path){var f=o.path,c=f.substring(0,f.lastIndexOf("/")+1)+a.path;l.path=s.normalizePath(c)}else l.path=o.path,a.params||(l.params=o.params,a.query||(l.query=o.query));return null===l.path&&(l.path=r.alwaysNormalize?s.normalizePath(a.path):a.path),s.buildURLFromParts(l)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(a,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s},"./node_modules/webworkify-webpack/index.js":
/*!**************************************************!*\
  !*** ./node_modules/webworkify-webpack/index.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){function n(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var n=r(r.s=ENTRY_MODULE);return n.default||n}function i(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function a(e,t,n){var a={};a[n]=[];var o=t.toString(),s=o.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return a;for(var u,l=s[1],f=new RegExp("(\\\\n|\\W)"+i(l)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");u=f.exec(o);)"dll-reference"!==u[3]&&a[n].push(u[3]);for(f=new RegExp("\\("+i(l)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");u=f.exec(o);)e[u[2]]||(a[n].push(u[1]),e[u[2]]=r(u[1]).m),a[u[2]]=a[u[2]]||[],a[u[2]].push(u[4]);for(var c,d=Object.keys(a),h=0;h<d.length;h++)for(var p=0;p<a[d[h]].length;p++)c=a[d[h]][p],isNaN(1*c)||(a[d[h]][p]=1*a[d[h]][p]);return a}function o(e){return Object.keys(e).reduce((function(t,r){return t||e[r].length>0}),!1)}e.exports=function(e,t){t=t||{};var i={main:r.m},s=t.all?{main:Object.keys(i.main)}:function(e,t){for(var r={main:[t]},n={main:[]},i={main:{}};o(r);)for(var s=Object.keys(r),u=0;u<s.length;u++){var l=s[u],f=r[l].pop();if(i[l]=i[l]||{},!i[l][f]&&e[l][f]){i[l][f]=!0,n[l]=n[l]||[],n[l].push(f);for(var c=a(e,e[l][f],l),d=Object.keys(c),h=0;h<d.length;h++)r[d[h]]=r[d[h]]||[],r[d[h]]=r[d[h]].concat(c[d[h]])}}return n}(i,e),u="";Object.keys(s).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;s[e][t];)t++;s[e].push(t),i[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",u=u+"var "+e+" = ("+n.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+s[e].map((function(t){return JSON.stringify(t)+": "+i[e][t].toString()})).join(",")+"});\n"})),u=u+"new (("+n.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+s.main.map((function(e){return JSON.stringify(e)+": "+i.main[e].toString()})).join(",")+"}))(self);";var l=new window.Blob([u],{type:"text/javascript"});if(t.bare)return l;var f=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(l),c=new window.Worker(f);return c.objectURL=f,c}},"./src/demux/demuxer-inline.js":
/*!**************************************************!*\
  !*** ./src/demux/demuxer-inline.js + 16 modules ***!
  \**************************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/id3.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/mp4demuxer.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/errors.ts because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/events.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/polyfills/number.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/get-self-scope.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/logger.js because of ./src/hls.ts */function(e,t,r){"use strict";r.r(t);var n=r("./src/events.js"),i=r("./src/errors.ts"),a=function(){function e(e,t){this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}(),o=function(){function e(e,t){this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}(),s=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}var t=e.prototype;return t.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),r=new Uint32Array(4),n=0;n<4;n++)r[n]=t.getUint32(4*n);return r},t.initTable=function(){var e=this.sBox,t=this.invSBox,r=this.subMix,n=r[0],i=r[1],a=r[2],o=r[3],s=this.invSubMix,u=s[0],l=s[1],f=s[2],c=s[3],d=new Uint32Array(256),h=0,p=0,v=0;for(v=0;v<256;v++)d[v]=v<128?v<<1:v<<1^283;for(v=0;v<256;v++){var m=p^p<<1^p<<2^p<<3^p<<4;m=m>>>8^255&m^99,e[h]=m,t[m]=h;var g=d[h],y=d[g],b=d[y],_=257*d[m]^16843008*m;n[h]=_<<24|_>>>8,i[h]=_<<16|_>>>16,a[h]=_<<8|_>>>24,o[h]=_,_=16843009*b^65537*y^257*g^16843008*h,u[m]=_<<24|_>>>8,l[m]=_<<16|_>>>16,f[m]=_<<8|_>>>24,c[m]=_,h?(h=g^d[d[d[b^g]]],p^=d[d[p]]):h=p=1}},t.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),r=!0,n=0;n<t.length&&r;)r=t[n]===this.key[n],n++;if(!r){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var a,o,s,u,l=this.ksRows=4*(i+6+1),f=this.keySchedule=new Uint32Array(l),c=this.invKeySchedule=new Uint32Array(l),d=this.sBox,h=this.rcon,p=this.invSubMix,v=p[0],m=p[1],g=p[2],y=p[3];for(a=0;a<l;a++)a<i?s=f[a]=t[a]:(u=s,a%i==0?(u=d[(u=u<<8|u>>>24)>>>24]<<24|d[u>>>16&255]<<16|d[u>>>8&255]<<8|d[255&u],u^=h[a/i|0]<<24):i>6&&a%i==4&&(u=d[u>>>24]<<24|d[u>>>16&255]<<16|d[u>>>8&255]<<8|d[255&u]),f[a]=s=(f[a-i]^u)>>>0);for(o=0;o<l;o++)a=l-o,u=3&o?f[a]:f[a-4],c[o]=o<4||a<=4?u:v[d[u>>>24]]^m[d[u>>>16&255]]^g[d[u>>>8&255]]^y[d[255&u]],c[o]=c[o]>>>0}},t.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},t.decrypt=function(e,t,r,n){for(var i,a,o,s,u,l,f,c,d,h,p,v,m,g,y,b,_,w=this.keySize+6,T=this.invKeySchedule,E=this.invSBox,S=this.invSubMix,A=S[0],x=S[1],k=S[2],L=S[3],R=this.uint8ArrayToUint32Array_(r),C=R[0],I=R[1],O=R[2],D=R[3],P=new Int32Array(e),F=new Int32Array(P.length),U=this.networkToHostOrderSwap;t<P.length;){for(d=U(P[t]),h=U(P[t+1]),p=U(P[t+2]),v=U(P[t+3]),u=d^T[0],l=v^T[1],f=p^T[2],c=h^T[3],m=4,g=1;g<w;g++)i=A[u>>>24]^x[l>>16&255]^k[f>>8&255]^L[255&c]^T[m],a=A[l>>>24]^x[f>>16&255]^k[c>>8&255]^L[255&u]^T[m+1],o=A[f>>>24]^x[c>>16&255]^k[u>>8&255]^L[255&l]^T[m+2],s=A[c>>>24]^x[u>>16&255]^k[l>>8&255]^L[255&f]^T[m+3],u=i,l=a,f=o,c=s,m+=4;i=E[u>>>24]<<24^E[l>>16&255]<<16^E[f>>8&255]<<8^E[255&c]^T[m],a=E[l>>>24]<<24^E[f>>16&255]<<16^E[c>>8&255]<<8^E[255&u]^T[m+1],o=E[f>>>24]<<24^E[c>>16&255]<<16^E[u>>8&255]<<8^E[255&l]^T[m+2],s=E[c>>>24]<<24^E[u>>16&255]<<16^E[l>>8&255]<<8^E[255&f]^T[m+3],m+=3,F[t]=U(i^C),F[t+1]=U(s^I),F[t+2]=U(o^O),F[t+3]=U(a^D),C=d,I=h,O=p,D=v,t+=4}return n?(y=F.buffer,b=y.byteLength,(_=b&&new DataView(y).getUint8(b-1))?y.slice(0,b-_):y):F.buffer},t.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},e}(),u=r("./src/utils/logger.js"),l=r("./src/utils/get-self-scope.js"),f=Object(l.getSelfScope)(),c=function(){function e(e,t,r){var n=(void 0===r?{}:r).removePKCS7Padding,i=void 0===n||n;if(this.logEnabled=!0,this.observer=e,this.config=t,this.removePKCS7Padding=i,i)try{var a=f.crypto;a&&(this.subtle=a.subtle||a.webkitSubtle)}catch(e){}this.disableWebCrypto=!this.subtle}var t=e.prototype;return t.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},t.decrypt=function(e,t,r,n){var i=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(u.logger.log("JS AES decrypt"),this.logEnabled=!1);var l=this.decryptor;l||(this.decryptor=l=new s),l.expandKey(t),n(l.decrypt(e,0,r,this.removePKCS7Padding))}else{this.logEnabled&&(u.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var f=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new o(f,t)),this.fastAesKey.expandKey().then((function(o){new a(f,r).decrypt(e,o).catch((function(a){i.onWebCryptoError(a,e,t,r,n)})).then((function(e){n(e)}))})).catch((function(a){i.onWebCryptoError(a,e,t,r,n)}))}},t.onWebCryptoError=function(e,t,r,a,o){this.config.enableSoftwareAES?(u.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,r,a,o)):(u.logger.error("decrypting error : "+e.message),this.observer.trigger(n.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},t.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},e}(),d=r("./src/polyfills/number.js");function h(e,t){return 255===e[t]&&240==(246&e[t+1])}function p(e,t){return 1&e[t+1]?7:9}function v(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function m(e,t){return!!(t+1<e.length&&h(e,t))}function g(e,t){if(m(e,t)){var r=p(e,t);if(t+r>=e.length)return!1;var n=v(e,t);if(n<=r)return!1;var i=t+n;if(i===e.length||i+1<e.length&&h(e,i))return!0}return!1}function y(e,t,r,a,o){if(!e.samplerate){var s=function(e,t,r,a){var o,s,l,f,c,d=navigator.userAgent.toLowerCase(),h=a,p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(o=1+((192&t[r+2])>>>6),!((s=(60&t[r+2])>>>2)>p.length-1))return f=(1&t[r+2])<<2,f|=(192&t[r+3])>>>6,u.logger.log("manifest codec:"+a+",ADTS data:type:"+o+",sampleingIndex:"+s+"["+p[s]+"Hz],channelConfig:"+f),/firefox/i.test(d)?s>=6?(o=5,c=new Array(4),l=s-3):(o=2,c=new Array(2),l=s):-1!==d.indexOf("android")?(o=2,c=new Array(2),l=s):(o=5,c=new Array(4),a&&(-1!==a.indexOf("mp4a.40.29")||-1!==a.indexOf("mp4a.40.5"))||!a&&s>=6?l=s-3:((a&&-1!==a.indexOf("mp4a.40.2")&&(s>=6&&1===f||/vivaldi/i.test(d))||!a&&1===f)&&(o=2,c=new Array(2)),l=s)),c[0]=o<<3,c[0]|=(14&s)>>1,c[1]|=(1&s)<<7,c[1]|=f<<3,5===o&&(c[1]|=(14&l)>>1,c[2]=(1&l)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:p[s],channelCount:f,codec:"mp4a.40."+o,manifestCodec:h};e.trigger(n.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+s})}(t,r,a,o);e.config=s.config,e.samplerate=s.samplerate,e.channelCount=s.channelCount,e.codec=s.codec,e.manifestCodec=s.manifestCodec,u.logger.log("parsed codec:"+e.codec+",rate:"+s.samplerate+",nb channel:"+s.channelCount)}}function b(e){return 9216e4/e}function _(e,t,r,n,i){var a=function(e,t,r,n,i){var a,o,s=e.length;if(a=p(e,t),o=v(e,t),(o-=a)>0&&t+a+o<=s)return{headerLength:a,frameLength:o,stamp:r+n*i}}(t,r,n,i,b(e.samplerate));if(a){var o=a.stamp,s=a.headerLength,u=a.frameLength,l={unit:t.subarray(r+s,r+s+u),pts:o,dts:o};return e.samples.push(l),{sample:l,length:u+s}}}var w=r("./src/demux/id3.js"),T=function(){function e(e,t,r){this.observer=e,this.config=r,this.remuxer=t}var t=e.prototype;return t.resetInitSegment=function(e,t,r,n){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:n,inputTimeScale:9e4}},t.resetTimeStamp=function(){},e.probe=function(e){if(!e)return!1;for(var t=(w.default.getID3Data(e,0)||[]).length,r=e.length;t<r;t++)if(g(e,t))return u.logger.log("ADTS sync word found !"),!0;return!1},t.append=function(e,t,r,n){for(var i=this._audioTrack,a=w.default.getID3Data(e,0)||[],o=w.default.getTimeStamp(a),s=Object(d.isFiniteNumber)(o)?90*o:9e4*t,l=0,f=s,c=e.length,h=a.length,p=[{pts:f,dts:f,data:a}];h<c-1;)if(m(e,h)&&h+5<c){y(i,this.observer,e,h,i.manifestCodec);var v=_(i,e,h,s,l);if(!v){u.logger.log("Unable to parse AAC frame");break}h+=v.length,f=v.sample.pts,l++}else w.default.isHeader(e,h)?(a=w.default.getID3Data(e,h),p.push({pts:f,dts:f,data:a}),h+=a.length):h++;this.remuxer.remux(i,{samples:[]},{samples:p,inputTimeScale:9e4},{samples:[]},t,r,n)},t.destroy=function(){},e}(),E=r("./src/demux/mp4demuxer.js"),S={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(e,t,r,n,i){if(!(r+24>t.length)){var a=this.parseHeader(t,r);if(a&&r+a.frameLength<=t.length){var o=n+i*(9e4*a.samplesPerFrame/a.sampleRate),s={unit:t.subarray(r,r+a.frameLength),pts:o,dts:o};return e.config=[],e.channelCount=a.channelCount,e.samplerate=a.sampleRate,e.samples.push(s),{sample:s,length:a.frameLength}}}},parseHeader:function(e,t){var r=e[t+1]>>3&3,n=e[t+1]>>1&3,i=e[t+2]>>4&15,a=e[t+2]>>2&3,o=e[t+2]>>1&1;if(1!==r&&0!==i&&15!==i&&3!==a){var s=3===r?3-n:3===n?3:4,u=1e3*S.BitratesMap[14*s+i-1],l=3===r?0:2===r?1:2,f=S.SamplingRateMap[3*l+a],c=e[t+3]>>6==3?1:2,d=S.SamplesCoefficients[r][n],h=S.BytesInSlot[n],p=8*d*h;return{sampleRate:f,channelCount:c,frameLength:parseInt(d*u/f+o,10)*h,samplesPerFrame:p}}},isHeaderPattern:function(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var r=this.parseHeader(e,t),n=4;r&&r.frameLength&&(n=r.frameLength);var i=t+n;if(i===e.length||i+1<e.length&&this.isHeaderPattern(e,i))return!0}return!1}},A=S,x=function(){function e(e){this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}var t=e.prototype;return t.loadWord=function(){var e=this.data,t=this.bytesAvailable,r=e.byteLength-t,n=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");n.set(e.subarray(r,r+i)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},t.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},t.readBits=function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;return e>32&&u.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?r<<t|this.readBits(t):r},t.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},t.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.skipEG=function(){this.skipBits(1+this.skipLZ())},t.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},t.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},t.readBoolean=function(){return 1===this.readBits(1)},t.readUByte=function(){return this.readBits(8)},t.readUShort=function(){return this.readBits(16)},t.readUInt=function(){return this.readBits(32)},t.skipScalingList=function(e){var t,r=8,n=8;for(t=0;t<e;t++)0!==n&&(n=(r+this.readEG()+256)%256),r=0===n?r:n},t.readSPS=function(){var e,t,r,n,i,a,o,s=0,u=0,l=0,f=0,c=this.readUByte.bind(this),d=this.readBits.bind(this),h=this.readUEG.bind(this),p=this.readBoolean.bind(this),v=this.skipBits.bind(this),m=this.skipEG.bind(this),g=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(c(),e=c(),d(5),v(3),c(),g(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var b=h();if(3===b&&v(1),g(),g(),v(1),p())for(a=3!==b?8:12,o=0;o<a;o++)p()&&y(o<6?16:64)}g();var _=h();if(0===_)h();else if(1===_)for(v(1),m(),m(),t=h(),o=0;o<t;o++)m();g(),v(1),r=h(),n=h(),0===(i=d(1))&&v(1),v(1),p()&&(s=h(),u=h(),l=h(),f=h());var w=[1,1];if(p()&&p())switch(c()){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:w=[c()<<8|c(),c()<<8|c()]}return{width:Math.ceil(16*(r+1)-2*s-2*u),height:(2-i)*(n+1)*16-(i?2:4)*(l+f),pixelRatio:w}},t.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}(),k=function(){function e(e,t,r,n){this.decryptdata=r,this.discardEPB=n,this.decrypter=new c(e,t,{removePKCS7Padding:!1})}var t=e.prototype;return t.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},t.decryptAacSample=function(e,t,r,n){var i=e[t].unit,a=i.subarray(16,i.length-i.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length),s=this;this.decryptBuffer(o,(function(a){a=new Uint8Array(a),i.set(a,16),n||s.decryptAacSamples(e,t+1,r)}))},t.decryptAacSamples=function(e,t,r){for(;;t++){if(t>=e.length)return void r();if(!(e[t].unit.length<32)){var n=this.decrypter.isSync();if(this.decryptAacSample(e,t,r,n),!n)return}}},t.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,r=new Int8Array(t),n=0,i=32;i<=e.length-16;i+=160,n+=16)r.set(e.subarray(i,i+16),n);return r},t.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var r=0,n=32;n<=e.length-16;n+=160,r+=16)e.set(t.subarray(r,r+16),n);return e},t.decryptAvcSample=function(e,t,r,n,i,a){var o=this.discardEPB(i.data),s=this.getAvcEncryptedData(o),u=this;this.decryptBuffer(s.buffer,(function(s){i.data=u.getAvcDecryptedUnit(o,s),a||u.decryptAvcSamples(e,t,r+1,n)}))},t.decryptAvcSamples=function(e,t,r,n){for(;;t++,r=0){if(t>=e.length)return void n();for(var i=e[t].units;!(r>=i.length);r++){var a=i[r];if(!(a.data.length<=48||1!==a.type&&5!==a.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(e,t,r,n,a,o),!o)return}}}},e}(),L={video:1,audio:2,id3:3,text:4},R=function(){function e(e,t,r,n){this.observer=e,this.config=r,this.typeSupported=n,this.remuxer=t,this.sampleAes=null,this.pmtUnknownTypes={}}var t=e.prototype;return t.setDecryptData=function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new k(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},e.probe=function(t){var r=e._syncOffset(t);return!(r<0||(r&&u.logger.warn("MPEG2-TS detected but first sync word found @ offset "+r+", junk ahead ?"),0))},e._syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),r=0;r<t;){if(71===e[r]&&71===e[r+188]&&71===e[r+376])return r;r++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:L[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:"video"===e?0:void 0,isAAC:"audio"===e||void 0,duration:"audio"===e?t:void 0}},t.resetInitSegment=function(t,r,n,i){this.pmtParsed=!1,this._pmtId=-1,this.pmtUnknownTypes={},this._avcTrack=e.createTrack("video",i),this._audioTrack=e.createTrack("audio",i),this._id3Track=e.createTrack("id3",i),this._txtTrack=e.createTrack("text",i),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=r,this.videoCodec=n,this._duration=i},t.resetTimeStamp=function(){},t.append=function(t,r,a,o){var s,l,f,c,d,h=t.length,p=!1;this.pmtUnknownTypes={},this.contiguous=a;var v=this.pmtParsed,m=this._avcTrack,g=this._audioTrack,y=this._id3Track,b=m.pid,_=g.pid,w=y.pid,T=this._pmtId,E=m.pesData,S=g.pesData,A=y.pesData,x=this._parsePAT,k=this._parsePMT.bind(this),L=this._parsePES,R=this._parseAVCPES.bind(this),C=this._parseAACPES.bind(this),I=this._parseMPEGPES.bind(this),O=this._parseID3PES.bind(this),D=e._syncOffset(t);for(h-=(h+D)%188,s=D;s<h;s+=188)if(71===t[s]){if(l=!!(64&t[s+1]),f=((31&t[s+1])<<8)+t[s+2],(48&t[s+3])>>4>1){if((c=s+5+t[s+4])===s+188)continue}else c=s+4;switch(f){case b:l&&(E&&(d=L(E))&&R(d,!1),E={data:[],size:0}),E&&(E.data.push(t.subarray(c,s+188)),E.size+=s+188-c);break;case _:l&&(S&&(d=L(S))&&(g.isAAC?C(d):I(d)),S={data:[],size:0}),S&&(S.data.push(t.subarray(c,s+188)),S.size+=s+188-c);break;case w:l&&(A&&(d=L(A))&&O(d),A={data:[],size:0}),A&&(A.data.push(t.subarray(c,s+188)),A.size+=s+188-c);break;case 0:l&&(c+=t[c]+1),T=this._pmtId=x(t,c);break;case T:l&&(c+=t[c]+1);var P=k(t,c,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(b=P.avc)>0&&(m.pid=b),(_=P.audio)>0&&(g.pid=_,g.isAAC=P.isAAC),(w=P.id3)>0&&(y.pid=w),p&&!v&&(u.logger.log("reparse from beginning"),p=!1,s=D-188),v=this.pmtParsed=!0;break;case 17:case 8191:break;default:p=!0}}else this.observer.trigger(n.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});E&&(d=L(E))?(R(d,!0),m.pesData=null):m.pesData=E,S&&(d=L(S))?(g.isAAC?C(d):I(d),g.pesData=null):(S&&S.size&&u.logger.log("last AAC PES packet truncated,might overlap between fragments"),g.pesData=S),A&&(d=L(A))?(O(d),y.pesData=null):y.pesData=A,null==this.sampleAes?this.remuxer.remux(g,m,y,this._txtTrack,r,a,o):this.decryptAndRemux(g,m,y,this._txtTrack,r,a,o)},t.decryptAndRemux=function(e,t,r,n,i,a,o){if(e.samples&&e.isAAC){var s=this;this.sampleAes.decryptAacSamples(e.samples,0,(function(){s.decryptAndRemuxAvc(e,t,r,n,i,a,o)}))}else this.decryptAndRemuxAvc(e,t,r,n,i,a,o)},t.decryptAndRemuxAvc=function(e,t,r,n,i,a,o){if(t.samples){var s=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,(function(){s.remuxer.remux(e,t,r,n,i,a,o)}))}else this.remuxer.remux(e,t,r,n,i,a,o)},t.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},t._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},t._trackUnknownPmt=function(e,t,r){var n=this.pmtUnknownTypes[e]||0;return 0===n&&(this.pmtUnknownTypes[e]=0,t.call(u.logger,r)),this.pmtUnknownTypes[e]++,n},t._parsePMT=function(e,t,r,n){var i,a,o={audio:-1,avc:-1,id3:-1,isAAC:!0};for(i=t+3+((15&e[t+1])<<8|e[t+2])-4,t+=12+((15&e[t+10])<<8|e[t+11]);t<i;){switch(a=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!n){this._trackUnknownPmt(e[t],u.logger.warn,"ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===o.audio&&(o.audio=a);break;case 21:-1===o.id3&&(o.id3=a);break;case 219:if(!n){this._trackUnknownPmt(e[t],u.logger.warn,"H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===o.avc&&(o.avc=a);break;case 3:case 4:r?-1===o.audio&&(o.audio=a,o.isAAC=!1):this._trackUnknownPmt(e[t],u.logger.warn,"MPEG audio found, not supported in this browser");break;case 36:this._trackUnknownPmt(e[t],u.logger.warn,"Unsupported HEVC stream type found");break;default:this._trackUnknownPmt(e[t],u.logger.log,"Unknown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return o},t._parsePES=function(e){var t,r,n,i,a,o,s,l,f=0,c=e.data;if(!e||0===e.size)return null;for(;c[0].length<19&&c.length>1;){var d=new Uint8Array(c[0].length+c[1].length);d.set(c[0]),d.set(c[1],c[0].length),c[0]=d,c.splice(1,1)}if(1===((t=c[0])[0]<<16)+(t[1]<<8)+t[2]){if((n=(t[4]<<8)+t[5])&&n>e.size-6)return null;if(192&(r=t[7])&&(o=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&r?o-(s=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>54e5&&(u.logger.warn(Math.round((o-s)/9e4)+"s delta between PTS and DTS, align them"),o=s):s=o),l=(i=t[8])+9,e.size<=l)return null;e.size-=l,a=new Uint8Array(e.size);for(var h=0,p=c.length;h<p;h++){var v=(t=c[h]).byteLength;if(l){if(l>v){l-=v;continue}t=t.subarray(l),v-=l,l=0}a.set(t,f),f+=v}return n&&(n-=i+3),{data:a,pts:o,dts:s,len:n}}return null},t.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var r=t.samples,n=r.length;if(isNaN(e.pts)){if(!n)return void t.dropped++;var i=r[n-1];e.pts=i.pts,e.dts=i.dts}!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(n||this.contiguous)?(e.id=n,r.push(e)):t.dropped++}e.debug.length&&u.logger.log(e.pts+"/"+e.dts+":"+e.debug)},t._parseAVCPES=function(e,t){var r,n,i,a=this,o=this._avcTrack,s=this._parseAVCNALu(e.data),u=this.avcSample,l=!1,f=this.pushAccesUnit.bind(this),c=function(e,t,r,n){return{key:e,pts:t,dts:r,units:[],debug:n}};e.data=null,u&&s.length&&!o.audFound&&(f(u,o),u=this.avcSample=c(!1,e.pts,e.dts,"")),s.forEach((function(t){switch(t.type){case 1:n=!0,u||(u=a.avcSample=c(!0,e.pts,e.dts,"")),u.frame=!0;var s=t.data;if(l&&s.length>4){var d=new x(s).readSliceType();2!==d&&4!==d&&7!==d&&9!==d||(u.key=!0)}break;case 5:n=!0,u||(u=a.avcSample=c(!0,e.pts,e.dts,"")),u.key=!0,u.frame=!0;break;case 6:n=!0,(r=new x(a.discardEPB(t.data))).readUByte();for(var h=0,p=0,v=!1,m=0;!v&&r.bytesAvailable>1;){h=0;do{h+=m=r.readUByte()}while(255===m);p=0;do{p+=m=r.readUByte()}while(255===m);if(4===h&&0!==r.bytesAvailable){if(v=!0,181===r.readUByte()&&49===r.readUShort()&&1195456820===r.readUInt()&&3===r.readUByte()){var g=r.readUByte(),y=31&g,b=[g,r.readUByte()];for(i=0;i<y;i++)b.push(r.readUByte()),b.push(r.readUByte()),b.push(r.readUByte());a._insertSampleInOrder(a._txtTrack.samples,{type:3,pts:e.pts,bytes:b})}}else if(5===h&&0!==r.bytesAvailable){if(v=!0,p>16){var _=[];for(i=0;i<16;i++)_.push(r.readUByte().toString(16)),3!==i&&5!==i&&7!==i&&9!==i||_.push("-");var T=p-16,E=new Uint8Array(T);for(i=0;i<T;i++)E[i]=r.readUByte();a._insertSampleInOrder(a._txtTrack.samples,{pts:e.pts,payloadType:h,uuid:_.join(""),userDataBytes:E,userData:Object(w.utf8ArrayToStr)(E.buffer)})}}else if(p<r.bytesAvailable)for(i=0;i<p;i++)r.readUByte()}break;case 7:if(n=!0,l=!0,!o.sps){var S=(r=new x(t.data)).readSPS();o.width=S.width,o.height=S.height,o.pixelRatio=S.pixelRatio,o.sps=[t.data],o.duration=a._duration;var A=t.data.subarray(1,4),k="avc1.";for(i=0;i<3;i++){var L=A[i].toString(16);L.length<2&&(L="0"+L),k+=L}o.codec=k}break;case 8:n=!0,o.pps||(o.pps=[t.data]);break;case 9:n=!1,o.audFound=!0,u&&f(u,o),u=a.avcSample=c(!1,e.pts,e.dts,"");break;case 12:n=!1;break;default:n=!1,u&&(u.debug+="unknown NAL "+t.type+" ")}u&&n&&u.units.push(t)})),t&&u&&(f(u,o),this.avcSample=null)},t._insertSampleInOrder=function(e,t){var r=e.length;if(r>0){if(t.pts>=e[r-1].pts)e.push(t);else for(var n=r-1;n>=0;n--)if(t.pts<e[n].pts){e.splice(n,0,t);break}}else e.push(t)},t._getLastNalUnit=function(){var e,t=this.avcSample;if(!t||0===t.units.length){var r=this._avcTrack.samples;t=r[r.length-1]}if(t){var n=t.units;e=n[n.length-1]}return e},t._parseAVCNALu=function(e){var t,r,n,i,a=0,o=e.byteLength,s=this._avcTrack,u=s.naluState||0,l=u,f=[],c=-1;for(-1===u&&(c=0,i=31&e[0],u=0,a=1);a<o;)if(t=e[a++],u)if(1!==u)if(t)if(1===t){if(c>=0)n={data:e.subarray(c,a-u-1),type:i},f.push(n);else{var d=this._getLastNalUnit();if(d&&(l&&a<=4-l&&d.state&&(d.data=d.data.subarray(0,d.data.byteLength-l)),(r=a-u-1)>0)){var h=new Uint8Array(d.data.byteLength+r);h.set(d.data,0),h.set(e.subarray(0,r),d.data.byteLength),d.data=h}}a<o?(c=a,i=31&e[a],u=0):u=-1}else u=0;else u=3;else u=t?0:2;else u=t?0:1;if(c>=0&&u>=0&&(n={data:e.subarray(c,o),type:i,state:u},f.push(n)),0===f.length){var p=this._getLastNalUnit();if(p){var v=new Uint8Array(p.data.byteLength+e.byteLength);v.set(p.data,0),v.set(e,p.data.byteLength),p.data=v}}return s.naluState=u,f},t.discardEPB=function(e){for(var t,r,n=e.byteLength,i=[],a=1;a<n-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return e;t=n-i.length,r=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===i[0]&&(o++,i.shift()),r[a]=e[o];return r},t._parseAACPES=function(e){var t,r,a,o,s,l,f,c=this._audioTrack,d=e.data,h=e.pts,p=this.aacOverFlow,v=this.aacLastPTS;if(p){var g=new Uint8Array(p.byteLength+d.byteLength);g.set(p,0),g.set(d,p.byteLength),d=g}for(a=0,s=d.length;a<s-1&&!m(d,a);a++);if(!a||(a<s-1?(l="AAC PES did not start with ADTS header,offset:"+a,f=!1):(l="no ADTS header found in AAC PES",f=!0),u.logger.warn("parsing error:"+l),this.observer.trigger(n.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:f,reason:l}),!f)){if(y(c,this.observer,d,a,this.audioCodec),r=0,t=b(c.samplerate),p&&v){var w=v+t;Math.abs(w-h)>1&&(u.logger.log("AAC: align PTS for overlapping frames by "+Math.round((w-h)/90)),h=w)}for(;a<s;){if(m(d,a)){if(a+5<s){var T=_(c,d,a,h,r);if(T){a+=T.length,o=T.sample.pts,r++;continue}}break}a++}p=a<s?d.subarray(a,s):null,this.aacOverFlow=p,this.aacLastPTS=o}},t._parseMPEGPES=function(e){for(var t=e.data,r=t.length,n=0,i=0,a=e.pts;i<r;)if(A.isHeader(t,i)){var o=A.appendFrame(this._audioTrack,t,i,a,n);if(!o)break;i+=o.length,n++}else i++},t._parseID3PES=function(e){this._id3Track.samples.push(e)},e}(),C=function(){function e(e,t,r){this.observer=e,this.config=r,this.remuxer=t}var t=e.prototype;return t.resetInitSegment=function(e,t,r,n){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:n,inputTimeScale:9e4}},t.resetTimeStamp=function(){},e.probe=function(e){var t,r,n=w.default.getID3Data(e,0);if(n&&void 0!==w.default.getTimeStamp(n))for(t=n.length,r=Math.min(e.length-1,t+100);t<r;t++)if(A.probe(e,t))return u.logger.log("MPEG Audio sync word found !"),!0;return!1},t.append=function(e,t,r,n){for(var i=w.default.getID3Data(e,0)||[],a=w.default.getTimeStamp(i),o=void 0!==a?90*a:9e4*t,s=i.length,u=e.length,l=0,f=0,c=this._audioTrack,d=[{pts:o,dts:o,data:i}];s<u;)if(A.isHeader(e,s)){var h=A.appendFrame(c,e,s,o,l);if(!h)break;s+=h.length,f=h.sample.pts,l++}else w.default.isHeader(e,s)?(i=w.default.getID3Data(e,s),d.push({pts:f,dts:f,data:i}),s+=i.length):s++;this.remuxer.remux(c,{samples:[]},{samples:d,inputTimeScale:9e4},{samples:[]},t,r,n)},t.destroy=function(){},e}(),I=function(){function e(){}return e.getSilentFrame=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}(),O=Math.pow(2,32)-1,D=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:n};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=a,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,o,u,o,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))},e.box=function(e){for(var t,r=Array.prototype.slice.call(arguments,1),n=8,i=r.length,a=i;i--;)n+=r[i].byteLength;for((t=new Uint8Array(n))[0]=n>>24&255,t[1]=n>>16&255,t[2]=n>>8&255,t[3]=255&n,t.set(e,4),i=0,n=8;i<a;i++)t.set(r[i],n),n+=r[i].byteLength;return t},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,r){r*=t;var n=Math.floor(r/(O+1)),i=Math.floor(r%(O+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,r,n){return e.box(e.types.moof,e.mfhd(t),e.traf(n,r))},e.moov=function(t){for(var r=t.length,n=[];r--;)n[r]=e.trak(t[r]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(e.mvex(t)))},e.mvex=function(t){for(var r=t.length,n=[];r--;)n[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(n))},e.mvhd=function(t,r){r*=t;var n=Math.floor(r/(O+1)),i=Math.floor(r%(O+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,a)},e.sdtp=function(t){var r,n,i=t.samples||[],a=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)r=i[n].flags,a[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,a)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var r,n,i,a=[],o=[];for(r=0;r<t.sps.length;r++)i=(n=t.sps[r]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(n));for(r=0;r<t.pps.length;r++)i=(n=t.pps[r]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(n));var s=e.box(e.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|t.sps.length].concat(a).concat([t.pps.length]).concat(o))),u=t.width,l=t.height,f=t.pixelRatio[0],c=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,255&u,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([f>>24,f>>16&255,f>>8&255,255&f,c>>24,c>>16&255,c>>8&255,255&c])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var r=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var r=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var r=t.id,n=t.duration*t.timescale,i=t.width,a=t.height,o=Math.floor(n/(O+1)),s=Math.floor(n%(O+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,a>>8&255,255&a,0,0]))},e.traf=function(t,r){var n=e.sdtp(t),i=t.id,a=Math.floor(r/(O+1)),o=Math.floor(r%(O+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,o>>24,o>>16&255,o>>8&255,255&o])),e.trun(t,n.length+16+20+8+16+8+8),n)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,r){var n,i,a,o,s,u,l=t.samples||[],f=l.length,c=12+16*f,d=new Uint8Array(c);for(r+=8+c,d.set([0,0,15,1,f>>>24&255,f>>>16&255,f>>>8&255,255&f,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),n=0;n<f;n++)a=(i=l[n]).duration,o=i.size,s=i.flags,u=i.cts,d.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*n);return e.box(e.types.trun,d)},e.initSegment=function(t){e.types||e.init();var r,n=e.moov(t);return(r=new Uint8Array(e.FTYP.byteLength+n.byteLength)).set(e.FTYP),r.set(n,e.FTYP.byteLength),r},e}();function P(e,t,r,n){void 0===r&&(r=1),void 0===n&&(n=!1);var i=e*t*r;return n?Math.round(i):i}function F(e,t){return void 0===t&&(t=!1),P(e,1e3,1/9e4,t)}function U(e,t){return void 0===t&&(t=1),P(e,9e4,1/t)}var M=U(10),N=U(.2),B=null;function j(e,t){var r;if(void 0===t)return e;for(r=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=r;return e}var G,z=function(){function e(e,t,r,n){if(this.observer=e,this.config=t,this.typeSupported=r,this.ISGenerated=!1,null===B){var i=navigator.userAgent.match(/Chrome\/(\d+)/i);B=i?parseInt(i[1]):0}}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},t.resetInitSegment=function(){this.ISGenerated=!1},t.getVideoStartPts=function(e){var t=!1,r=e.reduce((function(e,r){var n=r.pts-e;return n<-4294967296?(t=!0,j(e,r.pts)):n>0?e:r.pts}),e[0].pts);return t&&u.logger.debug("PTS rollover detected"),r},t.remux=function(e,t,r,i,a,o,s){if(this.ISGenerated||this.generateIS(e,t,a),this.ISGenerated){var l=e.samples.length,f=t.samples.length,c=a,d=a;if(l&&f){var h=this.getVideoStartPts(t.samples),p=(j(e.samples[0].pts,h)-h)/t.inputTimeScale;c+=Math.max(0,p),d+=Math.max(0,-p)}if(l){e.timescale||(u.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,a));var v,m=this.remuxAudio(e,c,o,s);f&&(m&&(v=m.endPTS-m.startPTS),t.timescale||(u.logger.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,a)),this.remuxVideo(t,d,o,v))}else if(f){var g=this.remuxVideo(t,d,o,0,s);g&&e.codec&&this.remuxEmptyAudio(e,c,o,g)}}r.samples.length&&this.remuxID3(r,a),i.samples.length&&this.remuxText(i,a),this.observer.trigger(n.default.FRAG_PARSED)},t.generateIS=function(e,t,r){var a,o,s=this.observer,l=e.samples,f=t.samples,c=this.typeSupported,d="audio/mp4",h={},p={tracks:h},v=void 0===this._initPTS;if(v&&(a=o=1/0),e.config&&l.length&&(e.timescale=e.samplerate,u.logger.log("audio sampling rate : "+e.samplerate),e.isAAC||(c.mpeg?(d="audio/mpeg",e.codec=""):c.mp3&&(e.codec="mp3")),h.audio={container:d,codec:e.codec,initSegment:!e.isAAC&&c.mpeg?new Uint8Array:D.initSegment([e]),metadata:{channelCount:e.channelCount}},v&&(a=o=l[0].pts-Math.round(e.inputTimeScale*r))),t.sps&&t.pps&&f.length){var m=t.inputTimeScale;if(t.timescale=m,h.video={container:"video/mp4",codec:t.codec,initSegment:D.initSegment([t]),metadata:{width:t.width,height:t.height}},v){var g=this.getVideoStartPts(f),y=Math.round(m*r);o=Math.min(o,j(f[0].dts,g)-y),a=Math.min(a,g-y),this.observer.trigger(n.default.INIT_PTS_FOUND,{initPTS:a})}}else v&&h.audio&&this.observer.trigger(n.default.INIT_PTS_FOUND,{initPTS:a});Object.keys(h).length?(s.trigger(n.default.FRAG_PARSING_INIT_SEGMENT,p),this.ISGenerated=!0,v&&(this._initPTS=a,this._initDTS=o)):s.trigger(n.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},t.remuxVideo=function(e,t,r,a){var o,s,l,f,c,d=e.timescale,h=e.samples,p=[],v=h.length,m=this._initPTS,g=8,y=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY,_=0,w=!1,T=this.nextAvcDts;if(0!==v){r||(T=t*d-(h[0].pts-j(h[0].dts,h[0].pts)));for(var E=0;E<v;E++){var S=h[E];S.pts=j(S.pts-m,T),S.dts=j(S.dts-m,T),S.dts>S.pts&&(_=Math.max(Math.min(_,S.pts-S.dts),-1*N)),S.dts<h[E>0?E-1:E].dts&&(w=!0)}w&&h.sort((function(e,t){var r=e.dts-t.dts,n=e.pts-t.pts;return r||n||e.id-t.id})),f=h[0].dts,c=h[v-1].dts;var A=Math.round((c-f)/(v-1));if(_<0){if(_<-2*A){u.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+F(-A,!0)+" ms");for(var x=_,k=0;k<v;k++)h[k].dts=x=Math.max(x,h[k].pts-A),h[k].pts=Math.max(x,h[k].pts)}else{u.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+F(_,!0)+" ms to overcome this issue");for(var L=0;L<v;L++)h[L].dts=h[L].dts+_}f=h[0].dts,c=h[v-1].dts}if(r){var R=f-T,C=R>A;if(C||R<-1){C?u.logger.warn("AVC: "+F(R,!0)+" ms ("+R+"dts) hole between fragments detected, filling it"):u.logger.warn("AVC: "+F(-R,!0)+" ms ("+R+"dts) overlapping between fragments detected"),f=T;var I=h[0].pts-R;h[0].dts=f,h[0].pts=I,u.logger.log("Video: First PTS/DTS adjusted: "+F(I,!0)+"/"+F(f,!0)+", delta: "+F(R,!0)+" ms")}}B&&B<75&&(f=Math.max(0,f));for(var O=0,P=0,U=0;U<v;U++){for(var M=h[U],G=M.units,z=G.length,W=0,H=0;H<z;H++)W+=G[H].data.length;P+=W,O+=z,M.length=W,M.dts=Math.max(M.dts,f),M.pts=Math.max(M.pts,M.dts,0),y=Math.min(M.pts,y),b=Math.max(M.pts,b)}c=h[v-1].dts;var q=P+4*O+8;try{s=new Uint8Array(q)}catch(e){return void this.observer.trigger(n.default.ERROR,{type:i.ErrorTypes.MUX_ERROR,details:i.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:q,reason:"fail allocating video mdat "+q})}var V=new DataView(s.buffer);V.setUint32(0,q),s.set(D.types.mdat,4);for(var K=0;K<v;K++){for(var X,Y=h[K],$=Y.units,J=0,Z=0,Q=$.length;Z<Q;Z++){var ee=$[Z],te=ee.data,re=ee.data.byteLength;V.setUint32(g,re),g+=4,s.set(te,g),g+=re,J+=4+re}if(K<v-1)o=h[K+1].dts-Y.dts;else{var ne=this.config,ie=Y.dts-h[K>0?K-1:K].dts;if(ne.stretchShortVideoTrack){var ae=ne.maxBufferHole,oe=Math.floor(ae*d),se=(a?y+a*d:this.nextAudioPts)-Y.pts;se>oe?((o=se-ie)<0&&(o=ie),u.logger.log("It is approximately "+F(se,!1)+" ms to the next segment; using duration "+F(o,!1)+" ms for the last video frame.")):o=ie}else o=ie}X=Math.round(Y.pts-Y.dts),p.push({size:J,duration:o,cts:X,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:Y.key?2:1,isNonSync:Y.key?0:1}})}this.nextAvcDts=c+o;var ue=e.dropped;if(e.nbNalu=0,e.dropped=0,p.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var le=p[0].flags;le.dependsOn=2,le.isNonSync=0}e.samples=p,l=D.moof(e.sequenceNumber++,f,e),e.samples=[];var fe={data1:l,data2:s,startPTS:y/d,endPTS:(b+o)/d,startDTS:f/d,endDTS:this.nextAvcDts/d,type:"video",hasAudio:!1,hasVideo:!0,nb:p.length,dropped:ue};return this.observer.trigger(n.default.FRAG_PARSING_DATA,fe),fe}},t.remuxAudio=function(e,t,r,a){var o,s,l,f,c,d,h=e.inputTimeScale,p=e.timescale,v=h/p,m=(e.isAAC?1024:1152)*v,g=this._initPTS,y=!e.isAAC&&this.typeSupported.mpeg,b=y?0:8,_=e.samples,w=[],T=this.nextAudioPts;if(r|=_.length&&T&&(a&&Math.abs(t-T/h)<.1||Math.abs(_[0].pts-T-g)<20*m),_.forEach((function(e){e.pts=e.dts=j(e.pts-g,t*h)})),0!==(_=_.filter((function(e){return e.pts>=0}))).length){if(r||(T=a?Math.max(0,t*h):_[0].pts),e.isAAC)for(var E=this.config.maxAudioFramesDrift,S=0,A=T;S<_.length;){var x=_[S],k=x.pts,L=k-A;if(L<=-E*m)r||S>0?(u.logger.warn("Dropping 1 audio frame @ "+F(A,!0)/1e3+"s due to "+F(L,!0)+" ms overlap."),_.splice(S,1)):(u.logger.warn("Audio frame @ "+F(k,!0)/1e3+"s overlaps nextAudioPts by "+F(L,!0)+" ms."),A=k+m,S++);else if(L>=E*m&&L<M&&A){var R=Math.round(L/m);u.logger.warn("Injecting "+R+" audio frames @ "+F(A,!0)/1e3+"s due to "+F(L,!0)+" ms gap.");for(var C=0;C<R;C++){var O=Math.max(A,0);(s=I.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(u.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),s=x.unit.subarray()),_.splice(S,0,{unit:s,pts:O,dts:O}),A+=m,S++}x.pts=x.dts=A,A+=m,S++}else Math.abs(L),x.pts=x.dts=A,A+=m,S++}for(var P=_.length,U=0;P--;)U+=_[P].unit.byteLength;for(var N=0,B=_.length;N<B;N++){var G=_[N],z=G.unit,W=G.pts;if(void 0!==d&&o)o.duration=Math.round((W-d)/v);else{var H=W-T,q=0;if(r&&e.isAAC&&H){if(H>0&&H<M)q=Math.round((W-T)/m),u.logger.log(F(H,!0)+" ms hole between AAC samples detected,filling it"),q>0&&((s=I.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(s=z.subarray()),U+=q*s.length);else if(H<-12){u.logger.log("drop overlapping AAC sample, expected/parsed/delta: "+F(T,!0)+" ms / "+F(W,!0)+" ms / "+F(-H,!0)+" ms"),U-=z.byteLength;continue}W=T}if(c=W,!(U>0))return;U+=b;try{l=new Uint8Array(U)}catch(e){return void this.observer.trigger(n.default.ERROR,{type:i.ErrorTypes.MUX_ERROR,details:i.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:U,reason:"fail allocating audio mdat "+U})}y||(new DataView(l.buffer).setUint32(0,U),l.set(D.types.mdat,4));for(var V=0;V<q;V++)(s=I.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(u.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),s=z.subarray()),l.set(s,b),b+=s.byteLength,o={size:s.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},w.push(o)}l.set(z,b);var K=z.byteLength;b+=K,o={size:K,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},w.push(o),d=W}var X=0;if((P=w.length)>=2&&(X=w[P-2].duration,o.duration=X),P){this.nextAudioPts=T=d+v*X,e.samples=w,f=y?new Uint8Array:D.moof(e.sequenceNumber++,c/v,e),e.samples=[];var Y=c/h,$=T/h,J={data1:f,data2:l,startPTS:Y,endPTS:$,startDTS:Y,endDTS:$,type:"audio",hasAudio:!0,hasVideo:!1,nb:P};return this.observer.trigger(n.default.FRAG_PARSING_DATA,J),J}return null}},t.remuxEmptyAudio=function(e,t,r,n){var i=e.inputTimeScale,a=i/(e.samplerate?e.samplerate:i),o=this.nextAudioPts,s=(void 0!==o?o:n.startDTS*i)+this._initDTS,l=n.endDTS*i+this._initDTS,f=1024*a,c=Math.ceil((l-s)/f),d=I.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(u.logger.warn("remux empty Audio"),d){for(var h=[],p=0;p<c;p++){var v=s+p*f;h.push({unit:d,pts:v,dts:v})}e.samples=h,this.remuxAudio(e,t,r)}else u.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},t.remuxID3=function(e,t){var r=e.samples.length;if(r){for(var i=e.inputTimeScale,a=this._initPTS,o=this._initDTS,s=0;s<r;s++){var u=e.samples[s];u.pts=j(u.pts-a,t*i)/i,u.dts=j(u.dts-o,t*i)/i}this.observer.trigger(n.default.FRAG_PARSING_METADATA,{samples:e.samples}),e.samples=[]}},t.remuxText=function(e,t){var r=e.samples.length,i=e.inputTimeScale,a=this._initPTS;if(r){for(var o=0;o<r;o++){var s=e.samples[o];s.pts=j(s.pts-a,t*i)/i}e.samples.sort((function(e,t){return e.pts-t.pts})),this.observer.trigger(n.default.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[]},e}(),W=function(){function e(e){this.observer=e}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(){},t.resetInitSegment=function(){},t.remux=function(e,t,r,i,a,o,s,u){var l=this.observer,f="";e&&(f+="audio"),t&&(f+="video"),l.trigger(n.default.FRAG_PARSING_DATA,{data1:u,startPTS:a,startDTS:a,type:f,hasAudio:!!e,hasVideo:!!t,nb:1,dropped:0}),l.trigger(n.default.FRAG_PARSED)},e}(),H=Object(l.getSelfScope)();try{G=H.performance.now.bind(H.performance)}catch(e){u.logger.debug("Unable to use Performance API on this environment"),G=H.Date.now}var q=function(){function e(e,t,r,n){this.observer=e,this.typeSupported=t,this.config=r,this.vendor=n}var t=e.prototype;return t.destroy=function(){var e=this.demuxer;e&&e.destroy()},t.push=function(e,t,r,i,a,o,s,u,l,f,d,h){var p=this;if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var v=this.decrypter;null==v&&(v=this.decrypter=new c(this.observer,this.config));var m=G();v.decrypt(e,t.key.buffer,t.iv.buffer,(function(e){var c=G();p.observer.trigger(n.default.FRAG_DECRYPTED,{stats:{tstart:m,tdecrypt:c}}),p.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),i,a,o,s,u,l,f,d,h)}))}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),i,a,o,s,u,l,f,d,h)},t.pushDecrypted=function(e,t,r,a,o,s,u,l,f,c,d,h){var p=this.demuxer,v=this.remuxer;if(!p||u||l){for(var m,g=this.observer,y=this.typeSupported,b=this.config,_=[{demux:R,remux:z},{demux:E.default,remux:W},{demux:T,remux:z},{demux:C,remux:z}],w=0,S=_.length;w<S&&!(m=_[w]).demux.probe(e);w++);if(!m)return void g.trigger(n.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});v&&v instanceof m.remux||(v=new m.remux(g,b,y,this.vendor)),p&&p instanceof m.demux||(p=new m.demux(g,v,b,y),this.probe=m.demux.probe),this.demuxer=p,this.remuxer=v}(u||l)&&(p.resetInitSegment(r,a,o,c),v.resetInitSegment()),u&&(p.resetTimeStamp(h),v.resetTimeStamp(h)),"function"==typeof p.setDecryptData&&p.setDecryptData(t),p.append(e,s,f,d)},e}();t.default=q},"./src/demux/demuxer-worker.js":
/*!*************************************!*\
  !*** ./src/demux/demuxer-worker.js ***!
  \*************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Module is referenced from these modules with unsupported syntax: ./src/demux/demuxer.js (referenced with require.resolve) */function(e,t,r){"use strict";r.r(t);var n=r(/*! ../demux/demuxer-inline */"./src/demux/demuxer-inline.js"),i=r(/*! ../events */"./src/events.js"),a=r(/*! ../utils/logger */"./src/utils/logger.js"),o=r(/*! eventemitter3 */"./node_modules/eventemitter3/index.js");t.default=function(e){var t=new o.EventEmitter;t.trigger=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];t.emit.apply(t,[e,e].concat(n))},t.off=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];t.removeListener.apply(t,[e].concat(n))};var r=function(t,r){e.postMessage({event:t,data:r})};e.addEventListener("message",(function(i){var o=i.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);e.demuxer=new n.default(t,o.typeSupported,s,o.vendor),Object(a.enableLogs)(s.debug),r("init",null);break;case"demux":e.demuxer.push(o.data,o.decryptdata,o.initSegment,o.audioCodec,o.videoCodec,o.timeOffset,o.discontinuity,o.trackSwitch,o.contiguous,o.duration,o.accurateTimeOffset,o.defaultInitPTS)}})),t.on(i.default.FRAG_DECRYPTED,r),t.on(i.default.FRAG_PARSING_INIT_SEGMENT,r),t.on(i.default.FRAG_PARSED,r),t.on(i.default.ERROR,r),t.on(i.default.FRAG_PARSING_METADATA,r),t.on(i.default.FRAG_PARSING_USERDATA,r),t.on(i.default.INIT_PTS_FOUND,r),t.on(i.default.FRAG_PARSING_DATA,(function(t,r){var n=[],i={event:t,data:r};r.data1&&(i.data1=r.data1.buffer,n.push(r.data1.buffer),delete r.data1),r.data2&&(i.data2=r.data2.buffer,n.push(r.data2.buffer),delete r.data2),e.postMessage(i,n)}))}},"./src/demux/id3.js":
/*!**************************!*\
  !*** ./src/demux/id3.js ***!
  \**************************/
/*! exports provided: default, utf8ArrayToStr */function(e,t,r){"use strict";r.r(t),r.d(t,"utf8ArrayToStr",(function(){return s}));var n,i=r(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js"),a=function(){function e(){}return e.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.getID3Data=function(t,r){for(var n=r,i=0;e.isHeader(t,r);)i+=10,i+=e._readSize(t,r+6),e.isFooter(t,r+10)&&(i+=10),r+=i;if(i>0)return t.subarray(n,n+i)},e._readSize=function(e,t){var r=0;return r=(127&e[t])<<21,r|=(127&e[t+1])<<14,r|=(127&e[t+2])<<7,r|=127&e[t+3]},e.getTimeStamp=function(t){for(var r=e.getID3Frames(t),n=0;n<r.length;n++){var i=r[n];if(e.isTimeStampFrame(i))return e._readTimeStamp(i)}},e.isTimeStampFrame=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},e._getFrameData=function(t){var r=String.fromCharCode(t[0],t[1],t[2],t[3]),n=e._readSize(t,4);return{type:r,size:n,data:t.subarray(10,10+n)}},e.getID3Frames=function(t){for(var r=0,n=[];e.isHeader(t,r);){for(var i=e._readSize(t,r+6),a=(r+=10)+i;r+8<a;){var o=e._getFrameData(t.subarray(r)),s=e._decodeFrame(o);s&&n.push(s),r+=o.size+10}e.isFooter(t,r)&&(r+=10)}return n},e._decodeFrame=function(t){return"PRIV"===t.type?e._decodePrivFrame(t):"W"===t.type[0]?e._decodeURLFrame(t):e._decodeTextFrame(t)},e._readTimeStamp=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),r=1&t[3],n=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return n/=45,r&&(n+=47721858.84),Math.round(n)}},e._decodePrivFrame=function(t){if(!(t.size<2)){var r=e._utf8ArrayToStr(t.data,!0),n=new Uint8Array(t.data.subarray(r.length+1));return{key:t.type,info:r,data:n.buffer}}},e._decodeTextFrame=function(t){if(!(t.size<2)){if("TXXX"===t.type){var r=1,n=e._utf8ArrayToStr(t.data.subarray(r),!0);r+=n.length+1;var i=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:n,data:i}}var a=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:a}}},e._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var r=1,n=e._utf8ArrayToStr(t.data.subarray(r),!0);r+=n.length+1;var i=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:n,data:i}}var a=e._utf8ArrayToStr(t.data);return{key:t.type,data:a}},e._utf8ArrayToStr=function(e,t){void 0===t&&(t=!1);var r=o();if(r){var n=r.decode(e);if(t){var i=n.indexOf("\0");return-1!==i?n.substring(0,i):n}return n.replace(/\0/g,"")}for(var a,s,u,l=e.length,f="",c=0;c<l;){if(0===(a=e[c++])&&t)return f;if(0!==a&&3!==a)switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:f+=String.fromCharCode(a);break;case 12:case 13:s=e[c++],f+=String.fromCharCode((31&a)<<6|63&s);break;case 14:s=e[c++],u=e[c++],f+=String.fromCharCode((15&a)<<12|(63&s)<<6|(63&u)<<0)}}return f},e}();function o(){var e=Object(i.getSelfScope)();return n||void 0===e.TextDecoder||(n=new e.TextDecoder("utf-8")),n}var s=a._utf8ArrayToStr;t.default=a},"./src/demux/mp4demuxer.js":
/*!*********************************!*\
  !*** ./src/demux/mp4demuxer.js ***!
  \*********************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ../utils/logger */"./src/utils/logger.js"),i=r(/*! ../events */"./src/events.js"),a=Math.pow(2,32)-1,o=function(){function e(e,t){this.observer=e,this.remuxer=t}var t=e.prototype;return t.resetTimeStamp=function(e){this.initPTS=e},t.resetInitSegment=function(t,r,n,a){if(t&&t.byteLength){var o=this.initData=e.parseInitSegment(t);null==r&&(r="mp4a.40.5"),null==n&&(n="avc1.42e01e");var s={};o.audio&&o.video?s.audiovideo={container:"video/mp4",codec:r+","+n,initSegment:a?t:null}:(o.audio&&(s.audio={container:"audio/mp4",codec:r,initSegment:a?t:null}),o.video&&(s.video={container:"video/mp4",codec:n,initSegment:a?t:null})),this.observer.trigger(i.default.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else r&&(this.audioCodec=r),n&&(this.videoCodec=n)},e.probe=function(t){return e.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length>0},e.bin2str=function(e){return String.fromCharCode.apply(null,e)},e.readUint16=function(e,t){e.data&&(t+=e.start,e=e.data);var r=e[t]<<8|e[t+1];return r<0?65536+r:r},e.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);var r=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return r<0?4294967296+r:r},e.writeUint32=function(e,t,r){e.data&&(t+=e.start,e=e.data),e[t]=r>>24,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r},e.findBox=function(t,r){var n,i,a,o,s,u,l=[];if(t.data?(s=t.start,a=t.end,t=t.data):(s=0,a=t.byteLength),!r.length)return null;for(n=s;n<a;)u=(i=e.readUint32(t,n))>1?n+i:a,e.bin2str(t.subarray(n+4,n+8))===r[0]&&(1===r.length?l.push({data:t,start:n+8,end:u}):(o=e.findBox({data:t,start:n+8,end:u},r.slice(1))).length&&(l=l.concat(o))),n=u;return l},e.parseSegmentIndex=function(t){var r,n=e.findBox(t,["moov"])[0],i=n?n.end:null,a=0,o=e.findBox(t,["sidx"]);if(!o||!o[0])return null;r=[];var s=(o=o[0]).data[0];a=0===s?8:16;var u=e.readUint32(o,a);a+=4,a+=0===s?8:16,a+=2;var l=o.end+0,f=e.readUint16(o,a);a+=2;for(var c=0;c<f;c++){var d=a,h=e.readUint32(o,d);d+=4;var p=2147483647&h;if(1==(2147483648&h)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var v=e.readUint32(o,d);d+=4,r.push({referenceSize:p,subsegmentDuration:v,info:{duration:v/u,start:l,end:l+p-1}}),l+=p,a=d+=4}return{earliestPresentationTime:0,timescale:u,version:s,referencesCount:f,references:r,moovEndOffset:i}},e.parseInitSegment=function(t){var r=[];return e.findBox(t,["moov","trak"]).forEach((function(t){var i=e.findBox(t,["tkhd"])[0];if(i){var a=i.data[i.start],o=0===a?12:20,s=e.readUint32(i,o),u=e.findBox(t,["mdia","mdhd"])[0];if(u){o=0===(a=u.data[u.start])?12:20;var l=e.readUint32(u,o),f=e.findBox(t,["mdia","hdlr"])[0];if(f){var c={soun:"audio",vide:"video"}[e.bin2str(f.data.subarray(f.start+8,f.start+12))];if(c){var d=e.findBox(t,["mdia","minf","stbl","stsd"]);if(d.length){d=d[0];var h=e.bin2str(d.data.subarray(d.start+12,d.start+16));n.logger.log("MP4Demuxer:"+c+":"+h+" found")}r[s]={timescale:l,type:c},r[c]={timescale:l,id:s}}}}}})),r},e.getStartDTS=function(t,r){var n,i,a;return n=e.findBox(r,["moof","traf"]),i=[].concat.apply([],n.map((function(r){return e.findBox(r,["tfhd"]).map((function(n){var i,a;return i=e.readUint32(n,4),a=t[i].timescale||9e4,e.findBox(r,["tfdt"]).map((function(t){var r,n;return r=t.data[t.start],n=e.readUint32(t,4),1===r&&(n*=Math.pow(2,32),n+=e.readUint32(t,8)),n}))[0]/a}))}))),a=Math.min.apply(null,i),isFinite(a)?a:0},e.offsetStartDTS=function(t,r,n){e.findBox(r,["moof","traf"]).map((function(r){return e.findBox(r,["tfhd"]).map((function(i){var o=e.readUint32(i,4),s=t[o].timescale||9e4;e.findBox(r,["tfdt"]).map((function(t){var r=t.data[t.start],i=e.readUint32(t,4);if(0===r)e.writeUint32(t,4,i-n*s);else{i*=Math.pow(2,32),i+=e.readUint32(t,8),i-=n*s,i=Math.max(i,0);var o=Math.floor(i/(a+1)),u=Math.floor(i%(a+1));e.writeUint32(t,4,o),e.writeUint32(t,8,u)}}))}))}))},t.append=function(t,r,n,a){var o=this.initData;o||(this.resetInitSegment(t,this.audioCodec,this.videoCodec,!1),o=this.initData);var s,u=this.initPTS;if(void 0===u){var l=e.getStartDTS(o,t);this.initPTS=u=l-r,this.observer.trigger(i.default.INIT_PTS_FOUND,{initPTS:u})}e.offsetStartDTS(o,t,u),s=e.getStartDTS(o,t),this.remuxer.remux(o.audio,o.video,null,null,s,n,a,t)},t.destroy=function(){},e}();t.default=o},"./src/empty.js":
/*!**********************!*\
  !*** ./src/empty.js ***!
  \**********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=void 0},"./src/errors.ts":
/*!***********************!*\
  !*** ./src/errors.ts ***!
  \***********************/
/*! exports provided: ErrorTypes, ErrorDetails */function(e,t,r){"use strict";var n,i;r.r(t),r.d(t,"ErrorTypes",(function(){return n})),r.d(t,"ErrorDetails",(function(){return i})),function(e){e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError"}(n||(n={})),function(e){e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_EMPTY_ERROR="levelEmptyError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.INTERNAL_EXCEPTION="internalException"}(i||(i={}))},"./src/events.js":
/*!***********************!*\
  !*** ./src/events.js ***!
  \***********************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t),t.default={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",LEVELS_UPDATED:"hlsLevelsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",CUES_PARSED:"hlsCuesParsed",NON_NATIVE_TEXT_TRACKS_FOUND:"hlsNonNativeTextTracksFound",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition",LIVE_BACK_BUFFER_REACHED:"hlsLiveBackBufferReached"}},"./src/hls.ts":
/*!*********************************!*\
  !*** ./src/hls.ts + 38 modules ***!
  \*********************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/demuxer-inline.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/id3.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/mp4demuxer.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/errors.ts because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/events.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/polyfills/number.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/get-self-scope.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/logger.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/eventemitter3/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/url-toolkit/src/url-toolkit.js (<- Module is not an ECMAScript module) */function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return Ze}));var n,i,a=r("./node_modules/url-toolkit/src/url-toolkit.js"),o=r("./src/errors.ts"),s=r("./src/polyfills/number.js"),u=r("./src/events.js"),l=r("./src/utils/logger.js"),f={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},c=function(){function e(e){this.hls=void 0,this.handledEvents=void 0,this.useGenericHandler=void 0,this.hls=e,this.onEvent=this.onEvent.bind(this);for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.handledEvents=r,this.useGenericHandler=!0,this.registerListeners()}var t=e.prototype;return t.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},t.onHandlerDestroying=function(){},t.onHandlerDestroyed=function(){},t.isEventHandler=function(){return"object"==typeof this.handledEvents&&this.handledEvents.length&&"function"==typeof this.onEvent},t.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(e){if(f[e])throw new Error("Forbidden event-name: "+e);this.hls.on(e,this.onEvent)}),this)},t.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(e){this.hls.off(e,this.onEvent)}),this)},t.onEvent=function(e,t){this.onEventGeneric(e,t)},t.onEventGeneric=function(e,t){try{(function(e,t){var r="on"+e.replace("hls","");if("function"!=typeof this[r])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+r+")");return this[r].bind(this,t)}).call(this,e,t).call()}catch(t){l.logger.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),this.hls.trigger(u.default.ERROR,{type:o.ErrorTypes.OTHER_ERROR,details:o.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}},e}();!function(e){e.MANIFEST="manifest",e.LEVEL="level",e.AUDIO_TRACK="audioTrack",e.SUBTITLE_TRACK="subtitleTrack"}(n||(n={})),function(e){e.MAIN="main",e.AUDIO="audio",e.SUBTITLE="subtitle"}(i||(i={}));var d=r("./src/demux/mp4demuxer.js");function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var p,v=function(){function e(e,t){this._uri=null,this.baseuri=void 0,this.reluri=void 0,this.method=null,this.key=null,this.iv=null,this.baseuri=e,this.reluri=t}var t,r,n;return t=e,(r=[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=Object(a.buildAbsoluteURL)(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}])&&h(t.prototype,r),n&&h(t,n),e}();function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}!function(e){e.AUDIO="audio",e.VIDEO="video"}(p||(p={}));var g=function(){function e(){var e;this._url=null,this._byteRange=null,this._decryptdata=null,this._elementaryStreams=((e={})[p.AUDIO]=!1,e[p.VIDEO]=!1,e),this.deltaPTS=0,this.rawProgramDateTime=null,this.programDateTime=null,this.title=null,this.tagList=[],this.cc=void 0,this.type=void 0,this.relurl=void 0,this.baseurl=void 0,this.duration=void 0,this.start=void 0,this.sn=0,this.urlId=0,this.level=0,this.levelkey=void 0,this.loader=void 0}var t,r,n,i=e.prototype;return i.setByteRange=function(e,t){var r=e.split("@",2),n=[];1===r.length?n[0]=t?t.byteRangeEndOffset:0:n[0]=parseInt(r[1]),n[1]=parseInt(r[0])+n[0],this._byteRange=n},i.addElementaryStream=function(e){this._elementaryStreams[e]=!0},i.hasElementaryStream=function(e){return!0===this._elementaryStreams[e]},i.createInitializationVector=function(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t},i.setDecryptDataFromLevelKey=function(e,t){var r=e;return(null==e?void 0:e.method)&&e.uri&&!e.iv&&((r=new v(e.baseuri,e.reluri)).method=e.method,r.iv=this.createInitializationVector(t)),r},t=e,(r=[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=Object(a.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e}},{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var e=this.sn;"number"!=typeof e&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&l.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),e=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,e)}return this._decryptdata}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(s.isFiniteNumber)(this.programDateTime))return null;var e=Object(s.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)}}])&&m(t.prototype,r),n&&m(t,n),e}();function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var b=function(){function e(e){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=e,this.version=null}var t,r,n;return t=e,(r=[{key:"hasProgramDateTime",get:function(){return!(!this.fragments[0]||!Object(s.isFiniteNumber)(this.fragments[0].programDateTime))}}])&&y(t.prototype,r),n&&y(t,n),e}(),_=/^(\d+)x(\d+)$/,w=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,T=function(){function e(t){for(var r in"string"==typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(r)&&(this[r]=t[r])}var t=e.prototype;return t.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var r=new Uint8Array(t.length/2),n=0;n<t.length/2;n++)r[n]=parseInt(t.slice(2*n,2*n+2),16);return r}return null},t.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.enumeratedString=function(e){return this[e]},t.decimalResolution=function(e){var t=_.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t,r={};for(w.lastIndex=0;null!==(t=w.exec(e));){var n=t[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),r[t[1]]=n}return r},e}(),E={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function S(e,t){return MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}var A=/(?:#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)|#EXT-X-SESSION-DATA:([^\n\r]*)[\r\n]+)/g,x=/#EXT-X-MEDIA:(.*)/g,k=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),L=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,R=/\.(mp4|m4s|m4v|m4a)$/i,C=function(){function e(){}return e.findGroup=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.id===t)return n}},e.convertAVC1ToAVCOTI=function(e){var t,r=e.split(".");return r.length>2?(t=r.shift()+".",t+=parseInt(r.shift()).toString(16),t+=("000"+parseInt(r.shift()).toString(16)).substr(-4)):t=e,t},e.resolve=function(e,t){return a.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,r){var n,i=[],a={},o=!1;function s(e,t){["video","audio"].forEach((function(r){var n=e.filter((function(e){return function(e,t){var r=E[t];return!!r&&!0===r[e.slice(0,4)]}(e,r)}));if(n.length){var i=n.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t[r+"Codec"]=i.length>0?i[0]:n[0],e=e.filter((function(e){return-1===n.indexOf(e)}))}})),t.unknownCodecs=e}for(A.lastIndex=0;null!=(n=A.exec(t));)if(n[1]){var u={},l=u.attrs=new T(n[1]);u.url=e.resolve(n[2],r);var f=l.decimalResolution("RESOLUTION");f&&(u.width=f.width,u.height=f.height),u.bitrate=l.decimalInteger("AVERAGE-BANDWIDTH")||l.decimalInteger("BANDWIDTH"),u.name=l.NAME,s([].concat((l.CODECS||"").split(/[ ,]+/)),u),u.videoCodec&&-1!==u.videoCodec.indexOf("avc1")&&(u.videoCodec=e.convertAVC1ToAVCOTI(u.videoCodec)),i.push(u)}else if(n[3]){var c=new T(n[3]);c["DATA-ID"]&&(o=!0,a[c["DATA-ID"]]=c)}return{levels:i,sessionData:o?a:null}},e.parseMasterPlaylistMedia=function(t,r,n,i){var a;void 0===i&&(i=[]);var o=[],s=0;for(x.lastIndex=0;null!==(a=x.exec(t));){var u=new T(a[1]);if(u.TYPE===n){var l={attrs:u,id:s++,groupId:u["GROUP-ID"],instreamId:u["INSTREAM-ID"],name:u.NAME||u.LANGUAGE,type:n,default:"YES"===u.DEFAULT,autoselect:"YES"===u.AUTOSELECT,forced:"YES"===u.FORCED,lang:u.LANGUAGE};if(u.URI&&(l.url=e.resolve(u.URI,r)),i.length){var f=e.findGroup(i,l.groupId);l.audioCodec=f?f.codec:i[0].codec}o.push(l)}}return o},e.parseLevelPlaylist=function(e,t,r,n,i){var a,o,u,f=0,c=0,d=new b(t),h=0,p=null,m=new g,y=null;for(k.lastIndex=0;null!==(a=k.exec(e));){var _=a[1];if(_){m.duration=parseFloat(_);var w=(" "+a[2]).slice(1);m.title=w||null,m.tagList.push(w?["INF",_,w]:["INF",_])}else if(a[3]){if(Object(s.isFiniteNumber)(m.duration)){var E=f++;m.type=n,m.start=c,u&&(m.levelkey=u),m.sn=E,m.level=r,m.cc=h,m.urlId=i,m.baseurl=t,m.relurl=(" "+a[3]).slice(1),I(m,p),d.fragments.push(m),p=m,c+=m.duration,m=new g}}else if(a[4]){var S=(" "+a[4]).slice(1);p?m.setByteRange(S,p):m.setByteRange(S)}else if(a[5])m.rawProgramDateTime=(" "+a[5]).slice(1),m.tagList.push(["PROGRAM-DATE-TIME",m.rawProgramDateTime]),null===y&&(y=d.fragments.length);else{if(!(a=a[0].match(L))){l.logger.warn("No matches on slow regex match for level playlist!");continue}for(o=1;o<a.length&&void 0===a[o];o++);var A=(" "+a[o+1]).slice(1),x=(" "+a[o+2]).slice(1);switch(a[o]){case"#":m.tagList.push(x?[A,x]:[A]);break;case"PLAYLIST-TYPE":d.type=A.toUpperCase();break;case"MEDIA-SEQUENCE":f=d.startSN=parseInt(A);break;case"TARGETDURATION":d.targetduration=parseFloat(A);break;case"VERSION":d.version=parseInt(A);break;case"EXTM3U":break;case"ENDLIST":d.live=!1;break;case"DIS":h++,m.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":h=parseInt(A);break;case"KEY":var C=new T(A),O=C.enumeratedString("METHOD"),D=C.URI,P=C.hexadecimalInteger("IV");if("com.apple.streamingkeydelivery"===(C.KEYFORMAT||"identity")){l.logger.warn("Keyformat com.apple.streamingkeydelivery is not supported");continue}O&&(u=new v(t,D),D&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(O)>=0&&(u.method=O,u.key=null,u.iv=P));break;case"START":var F=new T(A).decimalFloatingPoint("TIME-OFFSET");Object(s.isFiniteNumber)(F)&&(d.startTimeOffset=F);break;case"MAP":var U=new T(A);m.relurl=U.URI,U.BYTERANGE&&m.setByteRange(U.BYTERANGE),m.baseurl=t,m.level=r,m.type=n,m.sn="initSegment",d.initSegment=m,(m=new g).rawProgramDateTime=d.initSegment.rawProgramDateTime;break;default:l.logger.warn("line parsed but not handled: "+a)}}}return(m=p)&&!m.relurl&&(d.fragments.pop(),c-=m.duration),d.totalduration=c,d.averagetargetduration=c/d.fragments.length,d.endSN=f-1,d.startCC=d.fragments[0]?d.fragments[0].cc:0,d.endCC=h,!d.initSegment&&d.fragments.length&&d.fragments.every((function(e){return R.test(e.relurl)}))&&(l.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(m=new g).relurl=d.fragments[0].relurl,m.baseurl=t,m.level=r,m.type=n,m.sn="initSegment",d.initSegment=m,d.needSidxRanges=!0),y&&function(e,t){for(var r=e[t],n=t-1;n>=0;n--){var i=e[n];i.programDateTime=r.programDateTime-1e3*i.duration,r=i}}(d.fragments,y),d},e}();function I(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):(null==t?void 0:t.programDateTime)&&(e.programDateTime=t.endProgramDateTime),Object(s.isFiniteNumber)(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}var O=window.performance,D=function(e){var t,r;function a(t){var r;return(r=e.call(this,t,u.default.MANIFEST_LOADING,u.default.LEVEL_LOADING,u.default.AUDIO_TRACK_LOADING,u.default.SUBTITLE_TRACK_LOADING)||this).loaders={},r}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.canHaveQualityLevels=function(e){return e!==n.AUDIO_TRACK&&e!==n.SUBTITLE_TRACK},a.mapContextToLevelType=function(e){switch(e.type){case n.AUDIO_TRACK:return i.AUDIO;case n.SUBTITLE_TRACK:return i.SUBTITLE;default:return i.MAIN}},a.getResponseUrl=function(e,t){var r=e.url;return void 0!==r&&0!==r.indexOf("data:")||(r=t.url),r};var f=a.prototype;return f.createInternalLoader=function(e){var t=this.hls.config,r=t.pLoader,n=t.loader,i=new(r||n)(t);return e.loader=i,this.loaders[e.type]=i,i},f.getInternalLoader=function(e){return this.loaders[e.type]},f.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},f.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},f.destroy=function(){this.destroyInternalLoaders(),e.prototype.destroy.call(this)},f.onManifestLoading=function(e){this.load({url:e.url,type:n.MANIFEST,level:0,id:null,responseType:"text"})},f.onLevelLoading=function(e){this.load({url:e.url,type:n.LEVEL,level:e.level,id:e.id,responseType:"text"})},f.onAudioTrackLoading=function(e){this.load({url:e.url,type:n.AUDIO_TRACK,level:null,id:e.id,responseType:"text"})},f.onSubtitleTrackLoading=function(e){this.load({url:e.url,type:n.SUBTITLE_TRACK,level:null,id:e.id,responseType:"text"})},f.load=function(e){var t=this.hls.config;l.logger.debug("Loading playlist of type "+e.type+", level: "+e.level+", id: "+e.id);var r,i,a,o,s=this.getInternalLoader(e);if(s){var u=s.context;if(u&&u.url===e.url)return l.logger.trace("playlist request ongoing"),!1;l.logger.warn("aborting previous loader for type: "+e.type),s.abort()}switch(e.type){case n.MANIFEST:r=t.manifestLoadingMaxRetry,i=t.manifestLoadingTimeOut,a=t.manifestLoadingRetryDelay,o=t.manifestLoadingMaxRetryTimeout;break;case n.LEVEL:r=0,o=0,a=0,i=t.levelLoadingTimeOut;break;default:r=t.levelLoadingMaxRetry,i=t.levelLoadingTimeOut,a=t.levelLoadingRetryDelay,o=t.levelLoadingMaxRetryTimeout}s=this.createInternalLoader(e);var f={timeout:i,maxRetry:r,retryDelay:a,maxRetryDelay:o},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return l.logger.debug("Calling internal loader delegate for URL: "+e.url),s.load(e,f,c),!0},f.loadsuccess=function(e,t,r,n){if(void 0===n&&(n=null),r.isSidxRequest)return this._handleSidxRequest(e,r),void this._handlePlaylistLoaded(e,t,r,n);if(this.resetInternalLoader(r.type),"string"!=typeof e.data)throw new Error('expected responseType of "text" for PlaylistLoader');var i=e.data;t.tload=O.now(),0===i.indexOf("#EXTM3U")?i.indexOf("#EXTINF:")>0||i.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(e,t,r,n):this._handleMasterPlaylist(e,t,r,n):this._handleManifestParsingError(e,r,"no EXTM3U delimiter",n)},f.loaderror=function(e,t,r){void 0===r&&(r=null),this._handleNetworkError(t,r,!1,e)},f.loadtimeout=function(e,t,r){void 0===r&&(r=null),this._handleNetworkError(t,r,!0)},f._handleMasterPlaylist=function(e,t,r,n){var i=this.hls,o=e.data,s=a.getResponseUrl(e,r),f=C.parseMasterPlaylist(o,s),c=f.levels,d=f.sessionData;if(c.length){var h=c.map((function(e){return{id:e.attrs.AUDIO,codec:e.audioCodec}})),p=C.parseMasterPlaylistMedia(o,s,"AUDIO",h),v=C.parseMasterPlaylistMedia(o,s,"SUBTITLES"),m=C.parseMasterPlaylistMedia(o,s,"CLOSED-CAPTIONS");if(p.length){var g=!1;p.forEach((function(e){e.url||(g=!0)})),!1===g&&c[0].audioCodec&&!c[0].attrs.AUDIO&&(l.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),p.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:{},url:""}))}i.trigger(u.default.MANIFEST_LOADED,{levels:c,audioTracks:p,subtitles:v,captions:m,url:s,stats:t,networkDetails:n,sessionData:d})}else this._handleManifestParsingError(e,r,"no level found in manifest",n)},f._handleTrackOrLevelPlaylist=function(e,t,r,i){var l=this.hls,f=r.id,c=r.level,d=r.type,h=a.getResponseUrl(e,r),p=Object(s.isFiniteNumber)(f)?f:0,v=Object(s.isFiniteNumber)(c)?c:p,m=a.mapContextToLevelType(r),g=C.parseLevelPlaylist(e.data,h,v,m,p);if(g.tload=t.tload,g.fragments.length){if(d===n.MANIFEST){var y={url:h,details:g};l.trigger(u.default.MANIFEST_LOADED,{levels:[y],audioTracks:[],url:h,stats:t,networkDetails:i,sessionData:null})}if(t.tparsed=O.now(),g.needSidxRanges){var b=g.initSegment.url;this.load({url:b,isSidxRequest:!0,type:d,level:c,levelDetails:g,id:f,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else r.levelDetails=g,this._handlePlaylistLoaded(e,t,r,i)}else l.trigger(u.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:h,reason:"no fragments found in level",level:"number"==typeof r.level?r.level:void 0})},f._handleSidxRequest=function(e,t){if("string"==typeof e.data)throw new Error("sidx request must be made with responseType of array buffer");var r=d.default.parseSegmentIndex(new Uint8Array(e.data));if(r){var n=r.references,i=t.levelDetails;n.forEach((function(e,t){var r=e.info;if(i){var n=i.fragments[t];0===n.byteRange.length&&n.setByteRange(String(1+r.end-r.start)+"@"+String(r.start))}})),i&&i.initSegment.setByteRange(String(r.moovEndOffset)+"@0")}},f._handleManifestParsingError=function(e,t,r,n){this.hls.trigger(u.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:e.url,reason:r,networkDetails:n})},f._handleNetworkError=function(e,t,r,i){var a,s;void 0===r&&(r=!1),void 0===i&&(i=null),l.logger.info("A network error occured while loading a "+e.type+"-type playlist");var f=this.getInternalLoader(e);switch(e.type){case n.MANIFEST:a=r?o.ErrorDetails.MANIFEST_LOAD_TIMEOUT:o.ErrorDetails.MANIFEST_LOAD_ERROR,s=!0;break;case n.LEVEL:a=r?o.ErrorDetails.LEVEL_LOAD_TIMEOUT:o.ErrorDetails.LEVEL_LOAD_ERROR,s=!1;break;case n.AUDIO_TRACK:a=r?o.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:o.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,s=!1;break;default:s=!1}f&&(f.abort(),this.resetInternalLoader(e.type));var c={type:o.ErrorTypes.NETWORK_ERROR,details:a,fatal:s,url:e.url,loader:f,context:e,networkDetails:t};i&&(c.response=i),this.hls.trigger(u.default.ERROR,c)},f._handlePlaylistLoaded=function(e,t,r,i){var o=r.type,s=r.level,l=r.id,f=r.levelDetails;if(f&&f.targetduration)if(a.canHaveQualityLevels(r.type))this.hls.trigger(u.default.LEVEL_LOADED,{details:f,level:s||0,id:l||0,stats:t,networkDetails:i});else switch(o){case n.AUDIO_TRACK:this.hls.trigger(u.default.AUDIO_TRACK_LOADED,{details:f,id:l,stats:t,networkDetails:i});break;case n.SUBTITLE_TRACK:this.hls.trigger(u.default.SUBTITLE_TRACK_LOADED,{details:f,id:l,stats:t,networkDetails:i})}else this._handleManifestParsingError(e,r,"invalid target duration",i)},a}(c),P=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.FRAG_LOADING)||this).loaders={},r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){var t=this.loaders;for(var r in t){var n=t[r];n&&n.destroy()}this.loaders={},e.prototype.destroy.call(this)},i.onFragLoading=function(e){var t=e.frag,r=t.type,n=this.loaders,i=this.hls.config,a=i.fLoader,o=i.loader;t.loaded=0;var u,f,c,d=n[r];d&&(l.logger.warn("abort previous fragment loader for type: "+r),d.abort()),d=n[r]=t.loader=i.fLoader?new a(i):new o(i),u={url:t.url,frag:t,responseType:"arraybuffer",progressData:!1};var h=t.byteRangeStartOffset,p=t.byteRangeEndOffset;Object(s.isFiniteNumber)(h)&&Object(s.isFiniteNumber)(p)&&(u.rangeStart=h,u.rangeEnd=p),f={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},d.load(u,f,c)},i.loadsuccess=function(e,t,r,n){void 0===n&&(n=null);var i=e.data,a=r.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(u.default.FRAG_LOADED,{payload:i,frag:a,stats:t,networkDetails:n})},i.loaderror=function(e,t,r){void 0===r&&(r=null);var n=t.frag,i=n.loader;i&&i.abort(),this.loaders[n.type]=void 0,this.hls.trigger(u.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:r})},i.loadtimeout=function(e,t,r){void 0===r&&(r=null);var n=t.frag,i=n.loader;i&&i.abort(),this.loaders[n.type]=void 0,this.hls.trigger(u.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:r})},i.loadprogress=function(e,t,r,n){void 0===n&&(n=null);var i=t.frag;i.loaded=e.loaded,this.hls.trigger(u.default.FRAG_LOAD_PROGRESS,{frag:i,stats:e,networkDetails:n})},n}(c),F=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.KEY_LOADING)||this).loaders={},r.decryptkey=null,r.decrypturl=null,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){for(var t in this.loaders){var r=this.loaders[t];r&&r.destroy()}this.loaders={},e.prototype.destroy.call(this)},i.onKeyLoading=function(e){var t=e.frag,r=t.type,n=this.loaders[r];if(t.decryptdata){var i=t.decryptdata.uri;if(i!==this.decrypturl||null===this.decryptkey){var a=this.hls.config;if(n&&(l.logger.warn("abort previous key loader for type:"+r),n.abort()),!i)return void l.logger.warn("key uri is falsy");t.loader=this.loaders[r]=new a.loader(a),this.decrypturl=i,this.decryptkey=null;var o={url:i,frag:t,responseType:"arraybuffer"},s={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:a.fragLoadingRetryDelay,maxRetryDelay:a.fragLoadingMaxRetryTimeout},f={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};t.loader.load(o,s,f)}else this.decryptkey&&(t.decryptdata.key=this.decryptkey,this.hls.trigger(u.default.KEY_LOADED,{frag:t}))}else l.logger.warn("Missing decryption data on fragment in onKeyLoading")},i.loadsuccess=function(e,t,r){var n=r.frag;n.decryptdata?(this.decryptkey=n.decryptdata.key=new Uint8Array(e.data),n.loader=void 0,delete this.loaders[n.type],this.hls.trigger(u.default.KEY_LOADED,{frag:n})):l.logger.error("after key load, decryptdata unset")},i.loaderror=function(e,t){var r=t.frag,n=r.loader;n&&n.abort(),delete this.loaders[r.type],this.hls.trigger(u.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:r,response:e})},i.loadtimeout=function(e,t){var r=t.frag,n=r.loader;n&&n.abort(),delete this.loaders[r.type],this.hls.trigger(u.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})},n}(c),U="NOT_LOADED",M="APPENDING",N="PARTIAL",B="OK",j=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.BUFFER_APPENDED,u.default.FRAG_BUFFERED,u.default.FRAG_LOADED)||this).bufferPadding=.2,r.fragments=Object.create(null),r.timeRanges=Object.create(null),r.config=t.config,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,c.prototype.destroy.call(this),e.prototype.destroy.call(this)},i.getBufferedFrag=function(e,t){var r=this.fragments,n=Object.keys(r).filter((function(n){var i=r[n];if(i.body.type!==t)return!1;if(!i.buffered)return!1;var a=i.body;return a.startPTS<=e&&e<=a.endPTS}));if(0===n.length)return null;var i=n.pop();return r[i].body},i.detectEvictedFragments=function(e,t){var r=this;Object.keys(this.fragments).forEach((function(n){var i=r.fragments[n];if(i&&i.buffered){var a=i.range[e];if(a)for(var o=a.time,s=0;s<o.length;s++){var u=o[s];if(!r.isTimeBuffered(u.startPTS,u.endPTS,t)){r.removeFragment(i.body);break}}}}))},i.detectPartialFragments=function(e){var t=this,r=this.getFragmentKey(e),n=this.fragments[r];n&&(n.buffered=!0,Object.keys(this.timeRanges).forEach((function(r){if(e.hasElementaryStream(r)){var i=t.timeRanges[r];n.range[r]=t.getBufferedTimes(e.startPTS,e.endPTS,i)}})))},i.getBufferedTimes=function(e,t,r){for(var n,i,a=[],o=!1,s=0;s<r.length;s++){if(n=r.start(s)-this.bufferPadding,i=r.end(s)+this.bufferPadding,e>=n&&t<=i){a.push({startPTS:Math.max(e,r.start(s)),endPTS:Math.min(t,r.end(s))});break}if(e<i&&t>n)a.push({startPTS:Math.max(e,r.start(s)),endPTS:Math.min(t,r.end(s))}),o=!0;else if(t<=n)break}return{time:a,partial:o}},i.getFragmentKey=function(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn},i.getPartialFragment=function(e){var t,r,n,i=this,a=null,o=0;return Object.keys(this.fragments).forEach((function(s){var u=i.fragments[s];i.isPartial(u)&&(r=u.body.startPTS-i.bufferPadding,n=u.body.endPTS+i.bufferPadding,e>=r&&e<=n&&(t=Math.min(e-r,n-e),o<=t&&(a=u.body,o=t)))})),a},i.getState=function(e){var t=this.getFragmentKey(e),r=this.fragments[t],n=U;return void 0!==r&&(n=r.buffered?!0===this.isPartial(r)?N:B:M),n},i.isPartial=function(e){return!0===e.buffered&&(void 0!==e.range.video&&!0===e.range.video.partial||void 0!==e.range.audio&&!0===e.range.audio.partial)},i.isTimeBuffered=function(e,t,r){for(var n,i,a=0;a<r.length;a++){if(n=r.start(a)-this.bufferPadding,i=r.end(a)+this.bufferPadding,e>=n&&t<=i)return!0;if(t<=n)return!1}return!1},i.onFragLoaded=function(e){var t=e.frag;Object(s.isFiniteNumber)(t.sn)&&!t.bitrateTest&&(this.fragments[this.getFragmentKey(t)]={body:t,range:Object.create(null),buffered:!1})},i.onBufferAppended=function(e){var t=this;this.timeRanges=e.timeRanges,Object.keys(this.timeRanges).forEach((function(e){var r=t.timeRanges[e];t.detectEvictedFragments(e,r)}))},i.onFragBuffered=function(e){this.detectPartialFragments(e.frag)},i.hasFragment=function(e){var t=this.getFragmentKey(e);return void 0!==this.fragments[t]},i.removeFragment=function(e){var t=this.getFragmentKey(e);delete this.fragments[t]},i.removeAllFragments=function(){this.fragments=Object.create(null)},n}(c),G={search:function(e,t){for(var r=0,n=e.length-1,i=null,a=null;r<=n;){var o=t(a=e[i=(r+n)/2|0]);if(o>0)r=i+1;else{if(!(o<0))return a;n=i-1}}return null}},z=function(){function e(){}return e.isBuffered=function(e,t){try{if(e)for(var r=e.buffered,n=0;n<r.length;n++)if(t>=r.start(n)&&t<=r.end(n))return!0}catch(e){}return!1},e.bufferInfo=function(e,t,r){try{if(e){var n,i=e.buffered,a=[];for(n=0;n<i.length;n++)a.push({start:i.start(n),end:i.end(n)});return this.bufferedInfo(a,t,r)}}catch(e){}return{len:0,start:t,end:t,nextStart:void 0}},e.bufferedInfo=function(e,t,r){e.sort((function(e,t){var r=e.start-t.start;return r||t.end-e.end}));var n=[];if(r)for(var i=0;i<e.length;i++){var a=n.length;if(a){var o=n[a-1].end;e[i].start-o<r?e[i].end>o&&(n[a-1].end=e[i].end):n.push(e[i])}else n.push(e[i])}else n=e;for(var s,u=0,l=t,f=t,c=0;c<n.length;c++){var d=n[c].start,h=n[c].end;if(t+r>=d&&t<h)l=d,u=(f=h)-t;else if(t+r<d){s=d;break}}return{len:u,start:l,end:f,nextStart:s}},e}(),W=r("./node_modules/eventemitter3/index.js"),H=r("./node_modules/webworkify-webpack/index.js"),q=r("./src/demux/demuxer-inline.js");function V(){return window.MediaSource||window.WebKitMediaSource}var K=r("./src/utils/get-self-scope.js"),X=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.trigger=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.emit.apply(this,[e,e].concat(r))},n}(W.EventEmitter),Y=Object(K.getSelfScope)(),$=V()||{isTypeSupported:function(){return!1}},J=function(){function e(e,t){var r=this;this.hls=e,this.id=t;var n=this.observer=new X,i=e.config,a=function(t,n){(n=n||{}).frag=r.frag,n.id=r.id,e.trigger(t,n)};n.on(u.default.FRAG_DECRYPTED,a),n.on(u.default.FRAG_PARSING_INIT_SEGMENT,a),n.on(u.default.FRAG_PARSING_DATA,a),n.on(u.default.FRAG_PARSED,a),n.on(u.default.ERROR,a),n.on(u.default.FRAG_PARSING_METADATA,a),n.on(u.default.FRAG_PARSING_USERDATA,a),n.on(u.default.INIT_PTS_FOUND,a);var s={mp4:$.isTypeSupported("video/mp4"),mpeg:$.isTypeSupported("audio/mpeg"),mp3:$.isTypeSupported('audio/mp4; codecs="mp3"')},f=navigator.vendor;if(i.enableWorker&&"undefined"!=typeof Worker){var c;l.logger.log("demuxing in webworker");try{c=this.w=H(/*! ../demux/demuxer-worker.js */"./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),c.addEventListener("message",this.onwmsg),c.onerror=function(t){e.trigger(u.default.ERROR,{type:o.ErrorTypes.OTHER_ERROR,details:o.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},c.postMessage({cmd:"init",typeSupported:s,vendor:f,id:t,config:JSON.stringify(i)})}catch(e){l.logger.warn("Error in worker:",e),l.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),c&&Y.URL.revokeObjectURL(c.objectURL),this.demuxer=new q.default(n,s,i,f),this.w=void 0}}else this.demuxer=new q.default(n,s,i,f)}var t=e.prototype;return t.destroy=function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var r=this.observer;r&&(r.removeAllListeners(),this.observer=null)},t.push=function(e,t,r,n,i,a,o,u){var f=this.w,c=Object(s.isFiniteNumber)(i.startPTS)?i.startPTS:i.start,d=i.decryptdata,h=this.frag,p=!(h&&i.cc===h.cc),v=!(h&&i.level===h.level),m=h&&i.sn===h.sn+1,g=!v&&m;if(p&&l.logger.log(this.id+":discontinuity detected"),v&&l.logger.log(this.id+":switch detected"),this.frag=i,f)f.postMessage({cmd:"demux",data:e,decryptdata:d,initSegment:t,audioCodec:r,videoCodec:n,timeOffset:c,discontinuity:p,trackSwitch:v,contiguous:g,duration:a,accurateTimeOffset:o,defaultInitPTS:u},e instanceof ArrayBuffer?[e]:[]);else{var y=this.demuxer;y&&y.push(e,d,t,r,n,c,p,v,g,a,o,u)}},t.onWorkerMessage=function(e){var t=e.data,r=this.hls;switch(t.event){case"init":Y.URL.revokeObjectURL(this.w.objectURL);break;case u.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,r.trigger(t.event,t.data)}},e}();function Z(e,t,r){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(r);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(r)}}function Q(e,t,r){var n=e[t],i=e[r],a=i.startPTS;if(Object(s.isFiniteNumber)(a))r>t?(n.duration=a-n.start,n.duration<0&&l.logger.warn("negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!")):(i.duration=n.start-a,i.duration<0&&l.logger.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!"));else if(r>t){var o=n.cc===i.cc;i.start=n.start+(o&&n.minEndPTS?n.minEndPTS-n.start:n.duration)}else i.start=Math.max(n.start-i.duration,0)}function ee(e,t,r,n,i,a){var o=r,u=n;if(Object(s.isFiniteNumber)(t.startPTS)){var l=Math.abs(t.startPTS-r);Object(s.isFiniteNumber)(t.deltaPTS)?t.deltaPTS=Math.max(l,t.deltaPTS):t.deltaPTS=l,o=Math.max(r,t.startPTS),r=Math.min(r,t.startPTS),u=Math.min(n,t.endPTS),n=Math.max(n,t.endPTS),i=Math.min(i,t.startDTS),a=Math.max(a,t.endDTS)}var f=r-t.start;t.start=t.startPTS=r,t.maxStartPTS=o,t.endPTS=n,t.minEndPTS=u,t.startDTS=i,t.endDTS=a,t.duration=n-r;var c,d,h,p=t.sn;if(!e||p<e.startSN||p>e.endSN)return 0;for(c=p-e.startSN,(d=e.fragments)[c]=t,h=c;h>0;h--)Q(d,h,h-1);for(h=c;h<d.length-1;h++)Q(d,h,h+1);return e.PTSKnown=!0,f}function te(e,t,r){if(e&&t)for(var n=Math.max(e.startSN,t.startSN)-t.startSN,i=Math.min(e.endSN,t.endSN)-t.startSN,a=t.startSN-e.startSN,o=n;o<=i;o++){var s=e.fragments[a+o],u=t.fragments[o];if(!s||!u)break;r(s,u,o)}}var re={toString:function(e){for(var t="",r=e.length,n=0;n<r;n++)t+="["+e.start(n).toFixed(3)+","+e.end(n).toFixed(3)+"]";return t}};function ne(e,t){t.fragments.forEach((function(t){if(t){var r=t.start+e;t.start=t.startPTS=r,t.endPTS=r+t.duration}})),t.PTSKnown=!0}function ie(e,t,r){!function(e,t,r){if(function(e,t,r){var n=!1;return t&&t.details&&r&&(r.endCC>r.startCC||e&&e.cc<r.startCC)&&(n=!0),n}(e,r,t)){var n=function(e,t){var r=e.fragments,n=t.fragments;if(n.length&&r.length){var i=function(e,t){for(var r=null,n=0;n<e.length;n+=1){var i=e[n];if(i&&i.cc===t){r=i;break}}return r}(r,n[0].cc);if(i&&(!i||i.startPTS))return i;l.logger.log("No frag in previous level to align on")}else l.logger.log("No fragments to align")}(r.details,t);n&&(l.logger.log("Adjusting PTS using last level due to CC increase within current level"),ne(n.start,t))}}(e,r,t),!r.PTSKnown&&t&&function(e,t){if(t&&t.fragments.length){if(!e.hasProgramDateTime||!t.hasProgramDateTime)return;var r=t.fragments[0].programDateTime,n=(e.fragments[0].programDateTime-r)/1e3+t.fragments[0].start;Object(s.isFiniteNumber)(n)&&(l.logger.log("adjusting PTS using programDateTime delta, sliding:"+n.toFixed(3)),ne(n,e))}}(r,t.details)}function ae(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0);var n=Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=e?1:r.start-n>e&&r.start?-1:0}function oe(e,t,r){var n=1e3*Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return(r.endProgramDateTime||0)-n>e}var se=function(){function e(e,t,r,n){this.config=e,this.media=t,this.fragmentTracker=r,this.hls=n,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1}var t=e.prototype;return t.poll=function(e){var t=this.config,r=this.media,n=this.stalled,i=r.currentTime,a=r.seeking,o=this.seeking&&!a,s=!this.seeking&&a;if(this.seeking=a,i===e){if((s||o)&&(this.stalled=null),!r.paused&&!r.ended&&0!==r.playbackRate&&r.buffered.length){var u=z.bufferInfo(r,i,0),f=u.len>0,c=u.nextStart||0;if(f||c){if(a){var d=u.len>2,h=!c||c-i>2&&!this.fragmentTracker.getPartialFragment(i);if(d||h)return;this.moved=!1}if(!this.moved&&this.stalled){var p=Math.max(c,u.start||0)-i;if(p>0&&p<=2)return void this._trySkipBufferHole(null)}var v=self.performance.now();if(null!==n){var m=v-n;!a&&m>=250&&this._reportStall(u.len);var g=z.bufferInfo(r,i,t.maxBufferHole);this._tryFixBufferStall(g,m)}else this.stalled=v}}}else if(this.moved=!0,null!==n){if(this.stallReported){var y=self.performance.now()-n;l.logger.warn("playback not stuck anymore @"+i+", after "+Math.round(y)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},t._tryFixBufferStall=function(e,t){var r=this.config,n=this.fragmentTracker,i=this.media.currentTime,a=n.getPartialFragment(i);a&&this._trySkipBufferHole(a)||e.len>r.maxBufferHole&&t>1e3*r.highBufferWatchdogPeriod&&(l.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},t._reportStall=function(e){var t=this.hls,r=this.media;this.stallReported||(this.stallReported=!0,l.logger.warn("Playback stalling at @"+r.currentTime+" due to low buffer (buffer="+e+")"),t.trigger(u.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},t._trySkipBufferHole=function(e){for(var t=this.config,r=this.hls,n=this.media,i=n.currentTime,a=0,s=0;s<n.buffered.length;s++){var f=n.buffered.start(s);if(i+t.maxBufferHole>=a&&i<f){var c=Math.max(f+.05,n.currentTime+.1);return l.logger.warn("skipping hole, adjusting currentTime from "+i+" to "+c),this.moved=!0,this.stalled=null,n.currentTime=c,e&&r.trigger(u.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+i+" to "+c,frag:e}),c}a=n.buffered.end(s)}return 0},t._tryNudgeBuffer=function(){var e=this.config,t=this.hls,r=this.media,n=r.currentTime,i=(this.nudgeRetry||0)+1;if(this.nudgeRetry=i,i<e.nudgeMaxRetry){var a=n+i*e.nudgeOffset;l.logger.warn("Nudging 'currentTime' from "+n+" to "+a),r.currentTime=a,t.trigger(u.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else l.logger.error("Playhead still not moving while enough data buffered @"+n+" after "+e.nudgeMaxRetry+" nudges"),t.trigger(u.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},e}();function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var le="STOPPED",fe="IDLE",ce="KEY_LOADING",de="FRAG_LOADING",he="FRAG_LOADING_WAITING_RETRY",pe="PARSING",ve="PARSED",me="BUFFER_FLUSHING",ge="ENDED",ye="ERROR",be="WAITING_LEVEL";function _e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var we,Te=function(e){var t,r;function n(t,r){var n;return(n=e.call(this,t,u.default.MEDIA_ATTACHED,u.default.MEDIA_DETACHING,u.default.MANIFEST_LOADING,u.default.MANIFEST_PARSED,u.default.LEVEL_LOADED,u.default.LEVELS_UPDATED,u.default.KEY_LOADED,u.default.FRAG_LOADED,u.default.FRAG_LOAD_EMERGENCY_ABORTED,u.default.FRAG_PARSING_INIT_SEGMENT,u.default.FRAG_PARSING_DATA,u.default.FRAG_PARSED,u.default.ERROR,u.default.AUDIO_TRACK_SWITCHING,u.default.AUDIO_TRACK_SWITCHED,u.default.BUFFER_CREATED,u.default.BUFFER_APPENDED,u.default.BUFFER_FLUSHED)||this).fragmentTracker=r,n.config=t.config,n.audioCodecSwap=!1,n._state=le,n.stallReported=!1,n.gapController=null,n.altAudio=!1,n.audioOnly=!1,n.bitrateTest=!1,n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a,f,c,d=n.prototype;return d.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=r.startLevel;-1===n&&(r.config.testBandwidth?(n=0,this.bitrateTest=!0):n=r.nextAutoLevel),this.level=r.nextLoadLevel=n,this.loadedmetadata=!1}t>0&&-1===e&&(l.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=fe,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=le},d.stopLoad=function(){this.forceStartLoad=!1,e.prototype.stopLoad.call(this)},d.doTick=function(){switch(this.state){case me:this.fragLoadError=0;break;case fe:this._doTickIdle();break;case be:var e=this.levels[this.level];e&&e.details&&(this.state=fe);break;case he:var t=window.performance.now(),r=this.retryDate;(!r||t>=r||this.media&&this.media.seeking)&&(l.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=fe)}this._checkBuffer(),this._checkFragmentChanged()},d._doTickIdle=function(){var e=this.hls,t=e.config,r=this.media;if(void 0!==this.levelLastLoaded&&(r||!this.startFragRequested&&t.startFragPrefetch))if(this.altAudio&&this.audioOnly)this.demuxer.frag=null;else{var n;n=this.loadedmetadata?r.currentTime:this.nextLoadPosition;var i=e.nextLoadLevel,a=this.levels[i];if(a){var o,s=a.bitrate;o=s?Math.max(8*t.maxBufferSize/s,t.maxBufferLength):t.maxBufferLength,o=Math.min(o,t.maxMaxBufferLength);var f=n<t.maxBufferHole?Math.max(2,t.maxBufferHole):t.maxBufferHole,c=z.bufferInfo(this.mediaBuffer?this.mediaBuffer:r,n,f),d=c.len;if(!(d>=o)){l.logger.trace("buffer length of "+d.toFixed(3)+" is below max of "+o.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=i;var h=a.details;if(!h||h.live&&this.levelLastLoaded!==i)this.state=be;else{if(this._streamEnded(c,h)){var p={};return this.altAudio&&(p.type="video"),this.hls.trigger(u.default.BUFFER_EOS,p),void(this.state=ge)}this._fetchPayloadOrEos(n,c,h)}}}}},d._fetchPayloadOrEos=function(e,t,r){var n=this.fragPrevious,i=(this.level,r.fragments),a=i.length;if(0!==a){var o,s=i[0].start,u=i[a-1].start+i[a-1].duration,f=t.end;if(r.initSegment&&!r.initSegment.data)o=r.initSegment;else if(r.live){var c=this.config.initialLiveManifestSize;if(a<c)return void l.logger.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+c);if(null===(o=this._ensureFragmentAtLivePoint(r,f,s,u,n,i)))return}else f<s&&(o=i[0]);o||(o=this._findFragment(s,n,a,i,f,u,r)),o&&(o.encrypted?this._loadKey(o,r):this._loadFragment(o,r,e,f))}},d._ensureFragmentAtLivePoint=function(e,t,r,n,i,a){var o,u=this.hls.config,f=this.media,c=1/0;if(void 0!==u.liveMaxLatencyDuration?c=u.liveMaxLatencyDuration:Object(s.isFiniteNumber)(u.liveMaxLatencyDurationCount)&&(c=u.liveMaxLatencyDurationCount*e.targetduration),t<Math.max(r-u.maxFragLookUpTolerance,n-c)){var d=this.liveSyncPosition=this.computeLivePosition(r,e);t=d,f&&!f.paused&&f.readyState&&f.duration>d&&d>f.currentTime&&(l.logger.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+d.toFixed(3)),f.currentTime=d),this.nextLoadPosition=d}if(e.PTSKnown&&t>n&&f&&f.readyState)return null;if(this.startFragRequested&&!e.PTSKnown&&i)if(e.hasProgramDateTime)l.logger.log("live playlist, switching playlist, load frag with same PDT: "+i.programDateTime),o=function(e,t,r){if(null===t||!Array.isArray(e)||!e.length||!Object(s.isFiniteNumber)(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;r=r||0;for(var n=0;n<e.length;++n){var i=e[n];if(oe(t,r,i))return i}return null}(a,i.endProgramDateTime,u.maxFragLookUpTolerance);else{var h=i.sn+1;if(h>=e.startSN&&h<=e.endSN){var p=a[h-e.startSN];i.cc===p.cc&&(o=p,l.logger.log("live playlist, switching playlist, load frag with next SN: "+o.sn))}o||(o=G.search(a,(function(e){return i.cc-e.cc})))&&l.logger.log("live playlist, switching playlist, load frag with same CC: "+o.sn)}return o},d._findFragment=function(e,t,r,n,i,a,o){var s,u=this.hls.config;if(s=i<a?function(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var i=null;if(e?i=t[e.sn-t[0].sn+1]:0===r&&0===t[0].start&&(i=t[0]),i&&0===ae(r,n,i))return i;var a=G.search(t,ae.bind(null,r,n));return a||i}(t,n,i,i>a-u.maxFragLookUpTolerance?0:u.maxFragLookUpTolerance):n[r-1]){var f=s.sn-o.startSN,c=t&&s.level===t.level,d=n[f-1],h=n[f+1];if(t&&s.sn===t.sn)if(c&&!s.backtracked)if(s.sn<o.endSN){var p=t.deltaPTS;p&&p>u.maxBufferHole&&t.dropped&&f?(s=d,l.logger.warn("Previous fragment was dropped with large PTS gap between audio and video. Maybe fragment is not starting with a keyframe? Loading previous one to try to overcome this")):(s=h,this.fragmentTracker.getState(s)!==B&&l.logger.log("Re-loading fragment with SN: "+s.sn))}else s=null;else s.backtracked&&(h&&h.backtracked?(l.logger.warn("Already backtracked from fragment "+h.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+h.sn),s=h):(l.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,d?(s=d).backtracked=!0:f&&(s=null)))}return s},d._loadKey=function(e,t){l.logger.log("Loading key for "+e.sn+" of ["+t.startSN+"-"+t.endSN+"], level "+this.level),this.state=ce,this.hls.trigger(u.default.KEY_LOADING,{frag:e})},d._loadFragment=function(e,t,r,n){var i=this.fragmentTracker.getState(e);this.fragCurrent=e,"initSegment"!==e.sn&&(this.startFragRequested=!0),Object(s.isFiniteNumber)(e.sn)&&!e.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),e.backtracked||i===U||i===N?(e.autoLevel=this.hls.autoLevelEnabled,e.bitrateTest=this.bitrateTest,l.logger.log("Loading "+e.sn+" of ["+t.startSN+"-"+t.endSN+"], level "+this.level+", "+(this.loadedmetadata?"currentTime":"nextLoadPosition")+": "+parseFloat(r.toFixed(3))+", bufferEnd: "+parseFloat(n.toFixed(3))),this.hls.trigger(u.default.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new J(this.hls,"main")),this.state=de):i===M&&this._reduceMaxBufferLength(e.duration)&&this.fragmentTracker.removeFragment(e)},d.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,i.MAIN)},d.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},d._checkFragmentChanged=function(){var e,t,r=this.media;if(r&&r.readyState&&!1===r.seeking&&((t=r.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=t),z.isBuffered(r,t)?e=this.getBufferedFrag(t):z.isBuffered(r,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var n=e;if(n!==this.fragPlaying){this.hls.trigger(u.default.FRAG_CHANGED,{frag:n});var i=n.level;this.fragPlaying&&this.fragPlaying.level===i||this.hls.trigger(u.default.LEVEL_SWITCHED,{level:i}),this.fragPlaying=n}}},d.immediateLevelSwitch=function(){if(l.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e,t=this.media;t?(e=t.paused)||t.pause():e=!0,this.previouslyPaused=e}var r=this.fragCurrent;r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},d.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,e.currentTime>0&&z.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},d.nextLevelSwitch=function(){var e=this.media;if(e&&e.readyState){var t,r=this.getBufferedFrag(e.currentTime);if(r&&r.startPTS>1&&this.flushMainBuffer(0,r.startPTS-1),e.paused)t=0;else{var n=this.hls.nextLoadLevel,i=this.levels[n],a=this.fragLastKbps;t=a&&this.fragCurrent?this.fragCurrent.duration*i.bitrate/(1e3*a)+1:0}var o=this.getBufferedFrag(e.currentTime+t);if(o){var s=this.followingBufferedFrag(o);if(s){var u=this.fragCurrent;u&&u.loader&&u.loader.abort(),this.fragCurrent=null;var l=Math.max(o.endPTS,s.maxStartPTS+Math.min(this.config.maxFragLookUpTolerance,s.duration));this.flushMainBuffer(l,Number.POSITIVE_INFINITY)}}}},d.flushMainBuffer=function(e,t){this.state=me;var r={startOffset:e,endOffset:t};this.altAudio&&(r.type="video"),this.hls.trigger(u.default.BUFFER_FLUSHING,r)},d.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition),this.gapController=new se(r,t,this.fragmentTracker,this.hls)},d.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(l.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach((function(e){e.details&&e.details.fragments.forEach((function(e){e.backtracked=void 0}))})),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.fragmentTracker.removeAllFragments(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},d.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:void 0;Object(s.isFiniteNumber)(t)&&l.logger.log("media seeked to "+t.toFixed(3)),this.tick()},d.onManifestLoading=function(){l.logger.log("trigger BUFFER_RESET"),this.hls.trigger(u.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},d.onManifestParsed=function(e){var t,r=!1,n=!1;e.levels.forEach((function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(r=!0),-1!==t.indexOf("mp4a.40.5")&&(n=!0))})),this.audioCodecSwitch=r&&n,this.audioCodecSwitch&&l.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.altAudio=e.altAudio,this.levels=e.levels,this.startFragRequested=!1;var i=this.config;(i.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(i.startPosition)},d.onLevelLoaded=function(e){var t=e.details,r=e.level,n=this.levels[this.levelLastLoaded],i=this.levels[r],a=t.totalduration,o=0;if(l.logger.log("level "+r+" loaded ["+t.startSN+","+t.endSN+"],duration:"+a),t.live||i.details&&i.details.live){var f=i.details;f&&t.fragments.length>0?(function(e,t){t.initSegment&&e.initSegment&&(t.initSegment=e.initSegment);var r,n=0;if(te(e,t,(function(e,i){n=e.cc-i.cc,Object(s.isFiniteNumber)(e.startPTS)&&(i.start=i.startPTS=e.startPTS,i.endPTS=e.endPTS,i.duration=e.duration,i.backtracked=e.backtracked,i.dropped=e.dropped,r=i),t.PTSKnown=!0})),t.PTSKnown){if(n){l.logger.log("discontinuity sliding from playlist, take drift into account");for(var i=t.fragments,a=0;a<i.length;a++)i[a].cc+=n}r?ee(t,r,r.startPTS,r.endPTS,r.startDTS,r.endDTS):function(e,t){var r=t.startSN-e.startSN,n=e.fragments,i=t.fragments;if(!(r<0||r>n.length))for(var a=0;a<i.length;a++)i[a].start+=n[r].start}(e,t),t.PTSKnown=e.PTSKnown}}(f,t),o=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(o,f),t.PTSKnown&&Object(s.isFiniteNumber)(o)?l.logger.log("live playlist sliding:"+o.toFixed(3)):(l.logger.log("live playlist - outdated PTS, unknown sliding"),ie(this.fragPrevious,n,t))):(l.logger.log("live playlist - first load, unknown sliding"),t.PTSKnown=!1,ie(this.fragPrevious,n,t))}else t.PTSKnown=!1;if(i.details=t,this.levelLastLoaded=r,this.hls.trigger(u.default.LEVEL_UPDATED,{details:t,level:r}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var c=t.startTimeOffset;Object(s.isFiniteNumber)(c)?(c<0&&(l.logger.log("negative start time offset "+c+", count from end of last fragment"),c=o+a+c),l.logger.log("start time offset found in playlist, adjust startPosition to "+c),this.startPosition=c):t.live?(this.startPosition=this.computeLivePosition(o,t),l.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===be&&(this.state=fe),this.tick()},d.onKeyLoaded=function(){this.state===ce&&(this.state=fe,this.tick())},d.onFragLoaded=function(e){var t=this.fragCurrent,r=this.hls,n=this.levels,i=this.media,a=e.frag;if(this.state===de&&t&&"main"===a.type&&a.level===t.level&&a.sn===t.sn){var o=e.stats,s=n[t.level],f=s.details;if(this.bitrateTest=!1,this.stats=o,l.logger.log("Loaded "+t.sn+" of ["+f.startSN+" ,"+f.endSN+"],level "+t.level),a.bitrateTest&&r.nextLoadLevel)this.state=fe,this.startFragRequested=!1,o.tparsed=o.tbuffered=window.performance.now(),r.trigger(u.default.FRAG_BUFFERED,{stats:o,frag:t,id:"main"}),this.tick();else if("initSegment"===a.sn)this.state=fe,o.tparsed=o.tbuffered=window.performance.now(),f.initSegment.data=e.payload,r.trigger(u.default.FRAG_BUFFERED,{stats:o,frag:t,id:"main"}),this.tick();else{l.logger.log("Parsing "+t.sn+" of ["+f.startSN+" ,"+f.endSN+"],level "+t.level+", cc "+t.cc),this.state=pe,this.pendingBuffering=!0,this.appended=!1,a.bitrateTest&&(a.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:a}));var c=!(i&&i.seeking)&&(f.PTSKnown||!f.live),d=f.initSegment?f.initSegment.data:[],h=this._getAudioCodec(s);(this.demuxer=this.demuxer||new J(this.hls,"main")).push(e.payload,d,h,s.videoCodec,t,f.totalduration,c)}}this.fragLoadError=0},d.onFragParsingInitSegment=function(e){var t=this.fragCurrent,r=e.frag;if(t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===pe){var n,i,a=e.tracks;if(this.audioOnly=a.audio&&!a.video,this.altAudio&&!this.audioOnly&&delete a.audio,i=a.audio){var o=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(l.logger.log("swapping playlist audio codec"),o=-1!==o.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==i.metadata.channelCount&&-1===s.indexOf("firefox")&&(o="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==i.container&&(o="mp4a.40.2",l.logger.log("Android: force audio codec to "+o)),i.levelCodec=o,i.id=e.id}for(n in(i=a.video)&&(i.levelCodec=this.levels[this.level].videoCodec,i.id=e.id),this.hls.trigger(u.default.BUFFER_CODECS,a),a){i=a[n],l.logger.log("main track:"+n+",container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var f=i.initSegment;f&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(u.default.BUFFER_APPENDING,{type:n,data:f,parent:"main",content:"initSegment"}))}this.tick()}},d.onFragParsingData=function(e){var t=this,r=this.fragCurrent,n=e.frag;if(r&&"main"===e.id&&n.sn===r.sn&&n.level===r.level&&("audio"!==e.type||!this.altAudio)&&this.state===pe){var i=this.levels[this.level],a=r;if(Object(s.isFiniteNumber)(e.endPTS)||(e.endPTS=e.startPTS+r.duration,e.endDTS=e.startDTS+r.duration),!0===e.hasAudio&&a.addElementaryStream(p.AUDIO),!0===e.hasVideo&&a.addElementaryStream(p.VIDEO),l.logger.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(a.dropped=e.dropped,a.dropped)if(a.backtracked)l.logger.warn("Already backtracked on this fragment, appending with the gap",a.sn);else{var o=i.details;if(!o||a.sn!==o.startSN)return l.logger.warn("missing video frame(s), backtracking fragment",a.sn),this.fragmentTracker.removeFragment(a),a.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=fe,this.fragPrevious=a,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),void this.tick();l.logger.warn("missing video frame(s) on first frag, appending with gap",a.sn)}else a.backtracked=!1;var f=ee(i.details,a,e.startPTS,e.endPTS,e.startDTS,e.endDTS),c=this.hls;c.trigger(u.default.LEVEL_PTS_UPDATED,{details:i.details,level:this.level,drift:f,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach((function(r){r&&r.length&&t.state===pe&&(t.appended=!0,t.pendingBuffering=!0,c.trigger(u.default.BUFFER_APPENDING,{type:e.type,data:r,parent:"main",content:"data"}))})),this.tick()}},d.onFragParsed=function(e){var t=this.fragCurrent,r=e.frag;t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===pe&&(this.stats.tparsed=window.performance.now(),this.state=ve,this._checkAppendedParsed())},d.onAudioTrackSwitching=function(e){var t=this.altAudio,r=!!e.url,n=e.id;if(!r){if(this.mediaBuffer!==this.media){l.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;i.loader&&(l.logger.log("switching to main audio track, cancel main fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=fe}var a=this.hls;t&&a.trigger(u.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),a.trigger(u.default.AUDIO_TRACK_SWITCHED,{id:n})}},d.onAudioTrackSwitched=function(e){var t=e.id,r=!!this.hls.audioTracks[t].url;if(r){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(l.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=r,this.tick()},d.onBufferCreated=function(e){var t,r,n=e.tracks,i=!1;for(var a in n){var o=n[a];"main"===o.id?(r=a,t=o,"video"===a&&(this.videoBuffer=n[a].buffer)):i=!0}i&&t?(l.logger.log("alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=t.buffer):this.mediaBuffer=this.media},d.onBufferAppended=function(e){if("main"===e.parent){var t=this.state;t!==pe&&t!==ve||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},d._checkAppendedParsed=function(){if(!(this.state!==ve||this.appended&&this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;l.logger.log("main buffered : "+re.toString(t.buffered)),this.fragPrevious=e;var r=this.stats;r.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*r.total/(r.tbuffered-r.tfirst)),this.hls.trigger(u.default.FRAG_BUFFERED,{stats:r,frag:e,id:"main"}),this.state=fe}(this.loadedmetadata||this.startPosition<=0)&&this.tick()}},d.onError=function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var r=!!this.media&&z.isBuffered(this.media,this.media.currentTime)&&z.isBuffered(this.media,this.media.currentTime+.5);switch(e.details){case o.ErrorDetails.FRAG_LOAD_ERROR:case o.ErrorDetails.FRAG_LOAD_TIMEOUT:case o.ErrorDetails.KEY_LOAD_ERROR:case o.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var n=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);l.logger.warn("mediaController: frag loading failed, retry in "+n+" ms"),this.retryDate=window.performance.now()+n,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=he}else l.logger.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=ye;break;case o.ErrorDetails.LEVEL_LOAD_ERROR:case o.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==ye&&(e.fatal?(this.state=ye,l.logger.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==be||(this.state=fe));break;case o.ErrorDetails.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==pe&&this.state!==ve||(r?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=fe):(l.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},d._reduceMaxBufferLength=function(e){var t=this.config;return t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,l.logger.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},d._checkBuffer=function(){var e=this.media;if(e&&0!==e.readyState){var t=(this.mediaBuffer?this.mediaBuffer:e).buffered;!this.loadedmetadata&&t.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,t)}},d.onFragLoadEmergencyAborted=function(){this.state=fe,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},d.onBufferFlushed=function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;if(e){var t=this.audioOnly?p.AUDIO:p.VIDEO;this.fragmentTracker.detectEvictedFragments(t,e.buffered)}this.state=fe,this.fragPrevious=null},d.onLevelsUpdated=function(e){this.levels=e.levels},d.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},d._seekToStartPos=function(){var e=this.media,t=e.currentTime,r=this.startPosition;if(t!==r&&r>=0){if(e.seeking)return void l.logger.log("could not seek to "+r+", already seeking at "+t);var n=(e.buffered.length?e.buffered.start(0):0)-r;n>0&&n<this.config.maxBufferHole&&(l.logger.log("adjusting start position by "+n+" to match buffer start"),r+=n,this.startPosition=r),l.logger.log("seek to target start position "+r+" from current time "+t+". ready state "+e.readyState),e.currentTime=r}},d._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&(l.logger.log("swapping playlist audio codec"),t&&(t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),t},a=n,(f=[{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,l.logger.log("main stream-controller: "+t+"->"+e),this.hls.trigger(u.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}])&&_e(a.prototype,f),c&&_e(a,c),n}(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.doTick=function(){},i.startLoad=function(){},i.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=le},i._streamEnded=function(e,t){var r=this.fragCurrent,n=this.fragmentTracker;if(!t.live&&r&&!r.backtracked&&r.sn===t.endSN&&!e.nextStart){var i=n.getState(r);return i===N||i===B}return!1},i.onMediaSeeking=function(){var e=this.config,t=this.media,r=this.mediaBuffer,n=this.state,i=t?t.currentTime:null,a=z.bufferInfo(r||t,i,this.config.maxBufferHole);if(l.logger.log("media seeking to "+(Object(s.isFiniteNumber)(i)?i.toFixed(3):i)),n===de){var o=this.fragCurrent;if(0===a.len&&o){var u=e.maxFragLookUpTolerance,f=o.start-u,c=o.start+o.duration+u;i<f||i>c?(o.loader&&(l.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),o.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=fe):l.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else n===ge&&(0===a.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=fe);t&&(this.lastCurrentTime=i),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=i),this.tick()},i.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},i.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},i.onHandlerDestroyed=function(){this.state=le,this.fragmentTracker=null},i.computeLivePosition=function(e,t){var r=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-r)},n}(function(e){var t,r;function n(t){for(var r,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return(r=e.call.apply(e,[this,t].concat(i))||this)._boundTick=void 0,r._tickTimer=null,r._tickInterval=null,r._tickCallCount=0,r._boundTick=r.tick.bind(ue(r)),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},i.hasInterval=function(){return!!this._tickInterval},i.hasNextTick=function(){return!!this._tickTimer},i.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,e),!0)},i.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},i.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},i.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)),this._tickCallCount=0)},i.doTick=function(){},n}(c)));function Ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Se=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.MANIFEST_LOADED,u.default.LEVEL_LOADED,u.default.AUDIO_TRACK_SWITCHED,u.default.FRAG_LOADED,u.default.ERROR)||this).canload=!1,r.currentLevelIndex=null,r.manualLevelIndex=-1,r.timer=null,we=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i,a,s,f=n.prototype;return f.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},f.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},f.startLoad=function(){var e=this._levels;this.canload=!0,this.levelRetryCount=0,e&&e.forEach((function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)})),null!==this.timer&&this.loadLevel()},f.stopLoad=function(){this.canload=!1},f.onManifestLoaded=function(e){var t,r=[],n=[],i={},a=null,s=!1,f=!1;if(e.levels.forEach((function(e){var t=e.attrs;e.loadError=0,e.fragmentError=!1,s=s||!!e.videoCodec,f=f||!!e.audioCodec,we&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(a=i[e.bitrate])?a.url.push(e.url):(e.url=[e.url],e.urlId=0,i[e.bitrate]=e,r.push(e)),t&&(t.AUDIO&&Z(a||e,"audio",t.AUDIO),t.SUBTITLES&&Z(a||e,"text",t.SUBTITLES))})),s&&f&&(r=r.filter((function(e){return!!e.videoCodec}))),r=r.filter((function(e){var t=e.audioCodec,r=e.videoCodec;return(!t||S(t,"audio"))&&(!r||S(r,"video"))})),e.audioTracks&&(n=e.audioTracks.filter((function(e){return!e.audioCodec||S(e.audioCodec,"audio")}))).forEach((function(e,t){e.id=t})),r.length>0){t=r[0].bitrate,r.sort((function(e,t){return e.bitrate-t.bitrate})),this._levels=r;for(var c=0;c<r.length;c++)if(r[c].bitrate===t){this._firstLevel=c,l.logger.log("manifest loaded,"+r.length+" level(s) found, first bitrate:"+t);break}var d=f&&!s;this.hls.trigger(u.default.MANIFEST_PARSED,{levels:r,audioTracks:n,firstLevel:this._firstLevel,stats:e.stats,audio:f,video:s,altAudio:!d&&n.some((function(e){return!!e.url}))})}else this.hls.trigger(u.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},f.setLevelInternal=function(e){var t=this._levels,r=this.hls;if(e>=0&&e<t.length){if(this.clearTimer(),this.currentLevelIndex!==e){l.logger.log("switching to level "+e),this.currentLevelIndex=e;var n=t[e];n.level=e,r.trigger(u.default.LEVEL_SWITCHING,n)}var i=t[e],a=i.details;if(!a||a.live){var s=i.urlId;r.trigger(u.default.LEVEL_LOADING,{url:i.url[s],level:e,id:s})}}else r.trigger(u.default.ERROR,{type:o.ErrorTypes.OTHER_ERROR,details:o.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})},f.onError=function(e){if(e.fatal)e.type===o.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var t,r=!1,n=!1;switch(e.details){case o.ErrorDetails.FRAG_LOAD_ERROR:case o.ErrorDetails.FRAG_LOAD_TIMEOUT:case o.ErrorDetails.KEY_LOAD_ERROR:case o.ErrorDetails.KEY_LOAD_TIMEOUT:t=e.frag.level,n=!0;break;case o.ErrorDetails.LEVEL_LOAD_ERROR:case o.ErrorDetails.LEVEL_LOAD_TIMEOUT:t=e.context.level,r=!0;break;case o.ErrorDetails.REMUX_ALLOC_ERROR:t=e.level,r=!0}void 0!==t&&this.recoverLevel(e,t,r,n)}},f.recoverLevel=function(e,t,r,n){var i,a,o,s=this,u=this.hls.config,f=e.details,c=this._levels[t];if(c.loadError++,c.fragmentError=n,r){if(!(this.levelRetryCount+1<=u.levelLoadingMaxRetry))return l.logger.error("level controller, cannot recover from "+f+" error"),this.currentLevelIndex=null,this.clearTimer(),void(e.fatal=!0);a=Math.min(Math.pow(2,this.levelRetryCount)*u.levelLoadingRetryDelay,u.levelLoadingMaxRetryTimeout),this.timer=setTimeout((function(){return s.loadLevel()}),a),e.levelRetry=!0,this.levelRetryCount++,l.logger.warn("level controller, "+f+", retry in "+a+" ms, current retry count is "+this.levelRetryCount)}(r||n)&&((i=c.url.length)>1&&c.loadError<i?(c.urlId=(c.urlId+1)%i,c.details=void 0,l.logger.warn("level controller, "+f+" for level "+t+": switching to redundant URL-id "+c.urlId)):-1===this.manualLevelIndex?(o=0===t?this._levels.length-1:t-1,l.logger.warn("level controller, "+f+": switch to "+o),this.hls.nextAutoLevel=this.currentLevelIndex=o):n&&(l.logger.warn("level controller, "+f+": reload a fragment"),this.currentLevelIndex=null))},f.onFragLoaded=function(e){var t=e.frag;if(void 0!==t&&"main"===t.type){var r=this._levels[t.level];void 0!==r&&(r.fragmentError=!1,r.loadError=0,this.levelRetryCount=0)}},f.onLevelLoaded=function(e){var t=this,r=e.level,n=e.details;if(r===this.currentLevelIndex){var i=this._levels[r];if(i.fragmentError||(i.loadError=0,this.levelRetryCount=0),n.live){var a=function(e,t,r){var n=1e3*(t.averagetargetduration?t.averagetargetduration:t.targetduration),i=n/2;return e&&t.endSN===e.endSN&&(n=i),r&&(n=Math.max(i,n-(window.performance.now()-r))),Math.round(n)}(i.details,n,e.stats.trequest);l.logger.log("live playlist, reload in "+Math.round(a)+" ms"),this.timer=setTimeout((function(){return t.loadLevel()}),a)}else this.clearTimer()}},f.onAudioTrackSwitched=function(e){var t=this.hls.audioTracks[e.id].groupId,r=this.hls.levels[this.currentLevelIndex];if(r&&r.audioGroupIds){for(var n=-1,i=0;i<r.audioGroupIds.length;i++)if(r.audioGroupIds[i]===t){n=i;break}n!==r.urlId&&(r.urlId=n,this.startLoad())}},f.loadLevel=function(){if(l.logger.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var e=this._levels[this.currentLevelIndex];if("object"==typeof e&&e.url.length>0){var t=this.currentLevelIndex,r=e.urlId,n=e.url[r];l.logger.log("Attempt loading level index "+t+" with URL-id "+r),this.hls.trigger(u.default.LEVEL_LOADING,{url:n,level:t,id:r})}}},f.removeLevel=function(e,t){var r=this.levels.filter((function(r,n){return n!==e||r.url.length>1&&void 0!==t&&(r.url=r.url.filter((function(e,r){return r!==t})),r.urlId=0,!0)})).map((function(e,t){var r=e.details;return r&&r.fragments&&r.fragments.forEach((function(e){e.level=t})),e}));this._levels=r,this.hls.trigger(u.default.LEVELS_UPDATED,{levels:r})},i=n,(a=[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;t&&(e=Math.min(e,t.length-1),this.currentLevelIndex===e&&t[e].details||this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}])&&Ee(i.prototype,a),s&&Ee(i,s),n}(c),Ae=r("./src/demux/id3.js");function xe(e,t){var r;try{r=new Event("addtrack")}catch(e){(r=document.createEvent("Event")).initEvent("addtrack",!1,!1)}r.track=e,t.dispatchEvent(r)}var ke=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.MEDIA_ATTACHED,u.default.MEDIA_DETACHING,u.default.FRAG_PARSING_METADATA,u.default.LIVE_BACK_BUFFER_REACHED)||this).id3Track=void 0,r.media=void 0,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){c.prototype.destroy.call(this)},i.onMediaAttached=function(e){this.media=e.media,this.media},i.onMediaDetaching=function(){!function(e){if(null==e?void 0:e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}(this.id3Track),this.id3Track=void 0,this.media=void 0},i.getID3Track=function(e){for(var t=0;t<e.length;t++){var r=e[t];if("metadata"===r.kind&&"id3"===r.label)return xe(r,this.media),r}return this.media.addTextTrack("metadata","id3")},i.onFragParsingMetadata=function(e){var t=e.frag,r=e.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var n=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,i=0;i<r.length;i++){var a=Ae.default.getID3Frames(r[i].data);if(a){var o=Math.max(r[i].pts,0),s=i<r.length-1?r[i+1].pts:t.endPTS;s||(s=t.start+t.duration),s-o<=0&&(s=o+.25);for(var u=0;u<a.length;u++){var l=a[u];if(!Ae.default.isTimeStampFrame(l)){var f=new n(o,s,"");f.value=l,this.id3Track.addCue(f)}}}}},i.onLiveBackBufferReached=function(e){var t=e.bufferEnd,r=this.id3Track;if(r&&r.cues&&r.cues.length){var n=function(e,t){if(t<e[0].endTime)return e[0];if(t>e[e.length-1].endTime)return e[e.length-1];for(var r=0,n=e.length-1;r<=n;){var i=Math.floor((n+r)/2);if(t<e[i].endTime)n=i-1;else{if(!(t>e[i].endTime))return e[i];r=i+1}}return e[r].endTime-t<t-e[n].endTime?e[r]:e[n]}(r.cues,t);if(n)for(;r.cues[0]!==n;)r.removeCue(r.cues[0])}},n}(c),Le=function(){function e(e){this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}var t=e.prototype;return t.sample=function(e,t){var r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e},t.getTotalWeight=function(){return this.totalWeight_},t.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_},e}(),Re=function(){function e(e,t,r,n){this.hls=void 0,this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.hls=e,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Le(t),this.fast_=new Le(r)}var t=e.prototype;return t.sample=function(e,t){var r=(e=Math.max(e,this.minDelayMs_))/1e3,n=8*t/r;this.fast_.sample(r,n),this.slow_.sample(r,n)},t.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},t.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.destroy=function(){},e}();function Ce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ie=window.performance,Oe=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.FRAG_LOADING,u.default.FRAG_LOADED,u.default.FRAG_BUFFERED,u.default.ERROR)||this).lastLoadedFragLevel=0,r._nextAutoLevel=-1,r.hls=t,r.timer=null,r._bwEstimator=null,r.onCheck=r._abandonRulesCheck.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r)),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i,a,f,d=n.prototype;return d.destroy=function(){this.clearTimer(),c.prototype.destroy.call(this)},d.onFragLoading=function(e){var t=e.frag;if("main"===t.type&&(this.timer||(this.fragCurrent=t,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var r,n,i=this.hls,a=i.config,o=t.level;i.levels[o].details.live?(r=a.abrEwmaFastLive,n=a.abrEwmaSlowLive):(r=a.abrEwmaFastVoD,n=a.abrEwmaSlowVoD),this._bwEstimator=new Re(i,n,r,a.abrEwmaDefaultEstimate)}},d._abandonRulesCheck=function(){var e=this.hls,t=e.media,r=this.fragCurrent;if(r){var n=r.loader;if(!n||n.stats&&n.stats.aborted)return l.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var i=n.stats;if(t&&i&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&r.autoLevel&&r.level){var a=Ie.now()-i.trequest,o=Math.abs(t.playbackRate);if(a>500*r.duration/o){var s=e.levels,f=Math.max(1,i.bw?i.bw/8:1e3*i.loaded/a),c=s[r.level];if(!c)return;var d=c.realBitrate?Math.max(c.realBitrate,c.bitrate):c.bitrate,h=i.total?i.total:Math.max(i.loaded,Math.round(r.duration*d/8)),p=t.currentTime,v=(h-i.loaded)/f,m=(z.bufferInfo(t,p,e.config.maxBufferHole).end-p)/o;if(m<2*r.duration/o&&v>m){var g,y=e.minAutoLevel;for(g=r.level-1;g>y;g--){var b=s[g].realBitrate?Math.max(s[g].realBitrate,s[g].bitrate):s[g].bitrate;if(r.duration*b/(6.4*f)<m)break}void 0<v&&(l.logger.warn("loading too slow, abort fragment loading and switch to level "+g+":fragLoadedDelay["+g+"]<fragLoadedDelay["+(r.level-1)+"];bufferStarvationDelay:"+(void 0).toFixed(1)+"<"+v.toFixed(1)+":"+m.toFixed(1)),e.nextLoadLevel=g,this._bwEstimator.sample(a,i.loaded),n.abort(),this.clearTimer(),e.trigger(u.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,stats:i}))}}}}},d.onFragLoaded=function(e){var t=e.frag;if("main"===t.type&&Object(s.isFiniteNumber)(t.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var r=this.hls.levels[t.level],n=(r.loaded?r.loaded.bytes:0)+e.stats.loaded,i=(r.loaded?r.loaded.duration:0)+e.frag.duration;r.loaded={bytes:n,duration:i},r.realBitrate=Math.round(8*n/i)}if(e.frag.bitrateTest){var a=e.stats;a.tparsed=a.tbuffered=a.tload,this.onFragBuffered(e)}}},d.onFragBuffered=function(e){var t=e.stats,r=e.frag;if(!0!==t.aborted&&"main"===r.type&&Object(s.isFiniteNumber)(r.sn)&&(!r.bitrateTest||t.tload===t.tbuffered)){var n=t.tparsed-t.trequest;l.logger.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this._bwEstimator.sample(n,t.loaded),t.bwEstimate=this._bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=n/1e3:this.bitrateTestDelay=0}},d.onError=function(e){switch(e.details){case o.ErrorDetails.FRAG_LOAD_ERROR:case o.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},d.clearTimer=function(){clearInterval(this.timer),this.timer=null},d._findBestLevel=function(e,t,r,n,i,a,o,s,u){for(var f=i;f>=n;f--){var c=u[f];if(c){var d=c.details,h=d?d.totalduration/d.fragments.length:t,p=!!d&&d.live,v=void 0;v=f<=e?o*r:s*r;var m=u[f].realBitrate?Math.max(u[f].realBitrate,u[f].bitrate):u[f].bitrate,g=m*h/v;if(l.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+f+"/"+Math.round(v)+"/"+m+"/"+h+"/"+a+"/"+g),v>m&&(!g||p&&!this.bitrateTestDelay||g<a))return f}}return-1},i=n,(a=[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var r=this._nextABRAutoLevel;return-1!==e&&(r=Math.min(e,r)),r},set:function(e){this._nextAutoLevel=e}},{key:"_nextABRAutoLevel",get:function(){var e=this.hls,t=e.maxAutoLevel,r=e.levels,n=e.config,i=e.minAutoLevel,a=e.media,o=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,u=a?a.currentTime:0,f=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,c=this._bwEstimator?this._bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,d=(z.bufferInfo(a,u,n.maxBufferHole).end-u)/f,h=this._findBestLevel(o,s,c,i,t,d,n.abrBandWidthFactor,n.abrBandWidthUpFactor,r);if(h>=0)return h;l.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var p=s?Math.min(s,n.maxStarvationDelay):n.maxStarvationDelay,v=n.abrBandWidthFactor,m=n.abrBandWidthUpFactor;if(0===d){var g=this.bitrateTestDelay;g&&(p=(s?Math.min(s,n.maxLoadingDelay):n.maxLoadingDelay)-g,l.logger.trace("bitrate test took "+Math.round(1e3*g)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),v=m=1)}return h=this._findBestLevel(o,s,c,i,t,d+p,v,m,r),Math.max(h,0)}}])&&Ce(i.prototype,a),f&&Ce(i,f),n}(c),De=V(),Pe=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.MEDIA_ATTACHING,u.default.MEDIA_DETACHING,u.default.MANIFEST_PARSED,u.default.BUFFER_RESET,u.default.BUFFER_APPENDING,u.default.BUFFER_CODECS,u.default.BUFFER_EOS,u.default.BUFFER_FLUSHING,u.default.LEVEL_PTS_UPDATED,u.default.LEVEL_UPDATED)||this)._msDuration=null,r._levelDuration=null,r._levelTargetDuration=10,r._live=null,r._objectUrl=null,r._needsFlush=!1,r._needsEos=!1,r.config=void 0,r.audioTimestampOffset=void 0,r.bufferCodecEventsExpected=0,r._bufferCodecEventsTotal=0,r.media=null,r.mediaSource=null,r.segments=[],r.parent=void 0,r.appending=!1,r.appended=0,r.appendError=0,r.flushBufferCounter=0,r.tracks={},r.pendingTracks={},r.sourceBuffer={},r.flushRange=[],r._onMediaSourceOpen=function(){l.logger.log("media source opened"),r.hls.trigger(u.default.MEDIA_ATTACHED,{media:r.media});var e=r.mediaSource;e&&e.removeEventListener("sourceopen",r._onMediaSourceOpen),r.checkPendingTracks()},r._onMediaSourceClose=function(){l.logger.log("media source closed")},r._onMediaSourceEnded=function(){l.logger.log("media source ended")},r._onSBUpdateEnd=function(){if(r.audioTimestampOffset&&r.sourceBuffer.audio){var e=r.sourceBuffer.audio;l.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+r.audioTimestampOffset),e.timestampOffset=r.audioTimestampOffset,delete r.audioTimestampOffset}r._needsFlush&&r.doFlush(),r._needsEos&&r.checkEos(),r.appending=!1;var t=r.parent,n=r.segments.reduce((function(e,r){return r.parent===t?e+1:e}),0),i={},a=r.sourceBuffer;for(var o in a){var s=a[o];if(!s)throw Error("handling source buffer update end error: source buffer for "+o+" uninitilized and unable to update buffered TimeRanges.");i[o]=s.buffered}r.hls.trigger(u.default.BUFFER_APPENDED,{parent:t,pending:n,timeRanges:i}),r._needsFlush||r.doAppending(),r.updateMediaElementDuration(),0===n&&r.flushLiveBackBuffer()},r._onSBUpdateError=function(e){l.logger.error("sourceBuffer error:",e),r.hls.trigger(u.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},r.config=t.config,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){c.prototype.destroy.call(this)},i.onLevelPtsUpdated=function(e){var t=e.type,r=this.tracks.audio;if("audio"===t&&r&&"audio/mpeg"===r.container){var n=this.sourceBuffer.audio;if(!n)throw Error("Level PTS Updated and source buffer for audio uninitalized");if(Math.abs(n.timestampOffset-e.start)>.1){var i=n.updating;try{n.abort()}catch(e){l.logger.warn("can not abort audio buffer: "+e)}i?this.audioTimestampOffset=e.start:(l.logger.warn("change mpeg audio timestamp offset from "+n.timestampOffset+" to "+e.start),n.timestampOffset=e.start)}}},i.onManifestParsed=function(e){var t=2;(e.audio&&!e.video||!e.altAudio)&&(t=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=t,l.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},i.onMediaAttaching=function(e){var t=this.media=e.media;if(t&&De){var r=this.mediaSource=new De;r.addEventListener("sourceopen",this._onMediaSourceOpen),r.addEventListener("sourceended",this._onMediaSourceEnded),r.addEventListener("sourceclose",this._onMediaSourceClose),t.src=window.URL.createObjectURL(r),this._objectUrl=t.src}},i.onMediaDetaching=function(){l.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){l.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),this.media&&(this._objectUrl&&window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):l.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.hls.trigger(u.default.MEDIA_DETACHED)},i.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.pendingTracks,r=Object.keys(t).length;(r&&!e||2===r)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},i.onBufferReset=function(){var e=this.sourceBuffer;for(var t in e){var r=e[t];try{r&&(this.mediaSource&&this.mediaSource.removeSourceBuffer(r),r.removeEventListener("updateend",this._onSBUpdateEnd),r.removeEventListener("error",this._onSBUpdateError))}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},i.onBufferCodecs=function(e){var t=this;Object.keys(this.sourceBuffer).length||(Object.keys(e).forEach((function(r){t.pendingTracks[r]=e[r]})),this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},i.createSourceBuffers=function(e){var t=this.sourceBuffer,r=this.mediaSource;if(!r)throw Error("createSourceBuffers called when mediaSource was null");for(var n in e)if(!t[n]){var i=e[n];if(!i)throw Error("source buffer exists for track "+n+", however track does not");var a=i.levelCodec||i.codec,s=i.container+";codecs="+a;l.logger.log("creating sourceBuffer("+s+")");try{var f=t[n]=r.addSourceBuffer(s);f.addEventListener("updateend",this._onSBUpdateEnd),f.addEventListener("error",this._onSBUpdateError),this.tracks[n]={buffer:f,codec:a,id:i.id,container:i.container,levelCodec:i.levelCodec}}catch(e){l.logger.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(u.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:s})}}this.hls.trigger(u.default.BUFFER_CREATED,{tracks:this.tracks})},i.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},i.onBufferEos=function(e){for(var t in this.sourceBuffer)if(!e.type||e.type===t){var r=this.sourceBuffer[t];r&&!r.ended&&(r.ended=!0,l.logger.log(t+" sourceBuffer now EOS"))}this.checkEos()},i.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(t&&"open"===t.readyState){for(var r in e){var n=e[r];if(n){if(!n.ended)return;if(n.updating)return void(this._needsEos=!0)}}l.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){l.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},i.onBufferFlushing=function(e){e.type?this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}):(this.flushRange.push({start:e.startOffset,end:e.endOffset,type:"video"}),this.flushRange.push({start:e.startOffset,end:e.endOffset,type:"audio"})),this.flushBufferCounter=0,this.doFlush()},i.flushLiveBackBuffer=function(){if(this._live){var e=this.config.liveBackBufferLength;if(isFinite(e)&&!(e<0))if(this.media)for(var t=this.media.currentTime,r=this.sourceBuffer,n=Object.keys(r),i=t-Math.max(e,this._levelTargetDuration),a=n.length-1;a>=0;a--){var o=n[a],s=r[o];if(s){var f=s.buffered;f.length>0&&i>f.start(0)&&this.removeBufferRange(o,s,0,i)&&this.hls.trigger(u.default.LIVE_BACK_BUFFER_REACHED,{bufferEnd:i})}}else l.logger.error("flushLiveBackBuffer called without attaching media")}},i.onLevelUpdated=function(e){var t=e.details;t.fragments.length>0&&(this._levelDuration=t.totalduration+t.fragments[0].start,this._levelTargetDuration=t.averagetargetduration||t.targetduration||10,this._live=t.live,this.updateMediaElementDuration())},i.updateMediaElementDuration=function(){var e,t=this.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var r in this.sourceBuffer){var n=this.sourceBuffer[r];if(n&&!0===n.updating)return}e=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===t.liveDurationInfinity?(l.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>e||!Object(s.isFiniteNumber)(e))&&(l.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},i.doFlush=function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,r=this.sourceBuffer;try{for(var n in r){var i=r[n];i&&(t+=i.buffered.length)}}catch(e){l.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(u.default.BUFFER_FLUSHED)}},i.doAppending=function(){var e=this.config,t=this.hls,r=this.segments,n=this.sourceBuffer;if(Object.keys(n).length){if(!this.media||this.media.error)return this.segments=[],void l.logger.error("trying to append although a media error occured, flush segment and abort");if(!this.appending){var i=r.shift();if(i)try{var a=n[i.type];if(!a)return void this._onSBUpdateEnd();if(a.updating)return void r.unshift(i);a.ended=!1,this.parent=i.parent,a.appendBuffer(i.data),this.appendError=0,this.appended++,this.appending=!0}catch(n){l.logger.error("error while trying to append buffer:"+n.message),r.unshift(i);var s={type:o.ErrorTypes.MEDIA_ERROR,parent:i.parent,details:"",fatal:!1};22===n.code?(this.segments=[],s.details=o.ErrorDetails.BUFFER_FULL_ERROR):(this.appendError++,s.details=o.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>e.appendErrorMaxRetry&&(l.logger.log("fail "+e.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],s.fatal=!0)),t.trigger(u.default.ERROR,s)}}}},i.flushBuffer=function(e,t,r){var n=this.sourceBuffer;if(!Object.keys(n).length)return!0;var i="null";if(this.media&&(i=this.media.currentTime.toFixed(3)),l.logger.log("flushBuffer,pos/start/end: "+i+"/"+e+"/"+t),this.flushBufferCounter>=this.appended)return l.logger.warn("abort flushing too many retries"),!0;var a=n[r];if(a){if(a.ended=!1,a.updating)return l.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(r,a,e,t))return this.flushBufferCounter++,!1}return l.logger.log("buffer flushed"),!0},i.removeBufferRange=function(e,t,r,n){try{for(var i=0;i<t.buffered.length;i++){var a=t.buffered.start(i),o=t.buffered.end(i),s=Math.max(a,r),u=Math.min(o,n);if(Math.min(u,o)-s>.5){var f="null";return this.media&&(f=this.media.currentTime.toString()),l.logger.log("sb remove "+e+" ["+s+","+u+"], of ["+a+","+o+"], pos:"+f),t.remove(s,u),!0}}}catch(e){l.logger.warn("removeBufferRange failed",e)}return!1},n}(c);function Fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ue,Me=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,u.default.FPS_DROP_LEVEL_CAPPING,u.default.MEDIA_ATTACHING,u.default.MANIFEST_PARSED,u.default.LEVELS_UPDATED,u.default.BUFFER_CODECS,u.default.MEDIA_DETACHING)||this).autoLevelCapping=Number.POSITIVE_INFINITY,r.firstLevel=null,r.levels=[],r.media=null,r.restrictedLevels=[],r.timer=null,r.clientRect=null,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i,a,o,s=n.prototype;return s.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this.clientRect=null,this.stopCapping())},s.onFpsDropLevelCapping=function(e){n.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},s.onMediaAttaching=function(e){this.media=e.media instanceof window.HTMLVideoElement?e.media:null},s.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],this.levels=e.levels,this.firstLevel=e.firstLevel,t.config.capLevelToPlayerSize&&e.video&&this.startCapping()},s.onBufferCodecs=function(e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()},s.onLevelsUpdated=function(e){this.levels=e.levels},s.onMediaDetaching=function(){this.stopCapping()},s.detectPlayerSize=function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},s.getMaxLevel=function(e){var t=this;if(!this.levels)return-1;var r=this.levels.filter((function(r,i){return n.isLevelAllowed(i,t.restrictedLevels)&&i<=e}));return this.clientRect=null,n.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)},s.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},s.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},s.getDimensions=function(){if(this.clientRect)return this.clientRect;var e=this.media,t={width:0,height:0};if(e){var r=e.getBoundingClientRect();t.width=r.width,t.height=r.height,t.width||t.height||(t.width=r.right-r.left||e.width||0,t.height=r.bottom-r.top||e.height||0)}return this.clientRect=t,t},n.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},n.getMaxLevelByMediaSize=function(e,t,r){if(!e||e&&!e.length)return-1;for(var n,i,a=e.length-1,o=0;o<e.length;o+=1){var s=e[o];if((s.width>=t||s.height>=r)&&(n=s,!(i=e[o+1])||n.width!==i.width||n.height!==i.height)){a=o;break}}return a},i=n,o=[{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e}}],(a=[{key:"mediaWidth",get:function(){return this.getDimensions().width*n.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*n.contentScaleFactor}}])&&Fe(i.prototype,a),o&&Fe(i,o),n}(c),Ne=window.performance,Be=function(e){var t,r;function n(t){return e.call(this,t,u.default.MEDIA_ATTACHING)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},i.onMediaAttaching=function(e){var t=this.hls.config;t.capLevelOnFPSDrop&&("function"==typeof(this.video=e.media instanceof window.HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod))},i.checkFPS=function(e,t,r){var n=Ne.now();if(t){if(this.lastTime){var i=n-this.lastTime,a=r-this.lastDroppedFrames,o=t-this.lastDecodedFrames,s=1e3*a/i,f=this.hls;if(f.trigger(u.default.FPS_DROP,{currentDropped:a,currentDecoded:o,totalDroppedFrames:r}),s>0&&a>f.config.fpsDroppedMonitoringThreshold*o){var c=f.currentLevel;l.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+c),c>0&&(-1===f.autoLevelCapping||f.autoLevelCapping>=c)&&(c-=1,f.trigger(u.default.FPS_DROP_LEVEL_CAPPING,{level:c,droppedLevel:f.currentLevel}),f.autoLevelCapping=c,f.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=r,this.lastDecodedFrames=t}},i.checkFPSInterval=function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},n}(c),je=function(){function e(e){e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}var t=e.prototype;return t.destroy=function(){this.abort(),this.loader=null},t.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},t.load=function(e,t,r){this.context=e,this.config=t,this.callbacks=r,this.stats={trequest:window.performance.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},t.loadInternal=function(){var e,t=this.context;e=this.loader=new window.XMLHttpRequest;var r=this.stats;r.tfirst=0,r.loaded=0;var n=this.xhrSetup;try{if(n)try{n(e,t.url)}catch(r){e.open("GET",t.url,!0),n(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(r){return void this.callbacks.onError({code:e.status,text:r.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},t.readystatechange=function(e){var t=e.currentTarget,r=t.readyState,n=this.stats,i=this.context,a=this.config;if(!n.aborted&&r>=2)if(window.clearTimeout(this.requestTimeout),0===n.tfirst&&(n.tfirst=Math.max(window.performance.now(),n.trequest)),4===r){var o=t.status;if(o>=200&&o<300){var s,u;n.tload=Math.max(n.tfirst,window.performance.now()),u="arraybuffer"===i.responseType?(s=t.response).byteLength:(s=t.responseText).length,n.loaded=n.total=u;var f={url:t.responseURL,data:s};this.callbacks.onSuccess(f,n,i,t)}else n.retry>=a.maxRetry||o>=400&&o<499?(l.logger.error(o+" while loading "+i.url),this.callbacks.onError({code:o,text:t.statusText},i,t)):(l.logger.warn(o+" while loading "+i.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),n.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),a.timeout)},t.loadtimeout=function(){l.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},t.loadprogress=function(e){var t=e.currentTarget,r=this.stats;r.loaded=e.loaded,e.lengthComputable&&(r.total=e.total);var n=this.callbacks.onProgress;n&&n(r,this.context,null,t)},e}(),Ge=r("./src/empty.js");function ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(r),!0).forEach((function(t){He(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function He(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){e.WIDEVINE="com.widevine.alpha",e.PLAYREADY="com.microsoft.playready"}(Ue||(Ue={}));var qe=We(We({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:je,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:Oe,bufferController:Pe,capLevelController:Me,fpsController:Be,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:"undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null,testBandwidth:!0},{cueHandler:Ge,enableCEA708Captions:!1,enableWebVTT:!1,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:void 0,subtitleTrackController:void 0,timelineController:void 0,audioStreamController:void 0,audioTrackController:void 0,emeController:void 0});function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(r),!0).forEach((function(t){Xe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Je(e,t,r){return t&&$e(e.prototype,t),r&&$e(e,r),e}var Ze=function(e){var t,r;function n(t){var r;void 0===t&&(t={}),(r=e.call(this)||this).config=void 0,r._autoLevelCapping=void 0,r.abrController=void 0,r.capLevelController=void 0,r.levelController=void 0,r.streamController=void 0,r.networkControllers=void 0,r.audioTrackController=void 0,r.subtitleTrackController=void 0,r.emeController=void 0,r.coreComponents=void 0,r.media=null,r.url=null;var i=n.DefaultConfig;if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");r.config=Ke(Ke({},i),t);var a=Ye(r).config;if(void 0!==a.liveMaxLatencyDurationCount&&a.liveMaxLatencyDurationCount<=a.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==a.liveMaxLatencyDuration&&(void 0===a.liveSyncDuration||a.liveMaxLatencyDuration<=a.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(l.enableLogs)(a.debug),r._autoLevelCapping=-1;var o=r.abrController=new a.abrController(Ye(r)),s=new a.bufferController(Ye(r)),u=r.capLevelController=new a.capLevelController(Ye(r)),f=new a.fpsController(Ye(r)),c=new D(Ye(r)),d=new P(Ye(r)),h=new F(Ye(r)),p=new ke(Ye(r)),v=r.levelController=new Se(Ye(r)),m=new j(Ye(r)),g=[v,r.streamController=new Te(Ye(r),m)],y=a.audioStreamController;y&&g.push(new y(Ye(r),m)),r.networkControllers=g;var b=[c,d,h,o,s,u,f,p,m];if(y=a.audioTrackController){var _=new y(Ye(r));r.audioTrackController=_,b.push(_)}if(y=a.subtitleTrackController){var w=new y(Ye(r));r.subtitleTrackController=w,g.push(w)}if(y=a.emeController){var T=new y(Ye(r));r.emeController=T,b.push(T)}return(y=a.subtitleStreamController)&&g.push(new y(Ye(r),m)),(y=a.timelineController)&&b.push(new y(Ye(r))),r.coreComponents=b,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.isSupported=function(){return function(){var e=V();if(!e)return!1;var t=self.SourceBuffer||self.WebKitSourceBuffer,r=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!r&&!!n}()},Je(n,null,[{key:"version",get:function(){return"0.14.17"}},{key:"Events",get:function(){return u.default}},{key:"ErrorTypes",get:function(){return o.ErrorTypes}},{key:"ErrorDetails",get:function(){return o.ErrorDetails}},{key:"DefaultConfig",get:function(){return n.defaultConfig?n.defaultConfig:qe},set:function(e){n.defaultConfig=e}}]);var i=n.prototype;return i.destroy=function(){l.logger.log("destroy"),this.trigger(u.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach((function(e){e.destroy()})),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},i.attachMedia=function(e){l.logger.log("attachMedia"),this.media=e,this.trigger(u.default.MEDIA_ATTACHING,{media:e})},i.detachMedia=function(){l.logger.log("detachMedia"),this.trigger(u.default.MEDIA_DETACHING),this.media=null},i.loadSource=function(e){e=a.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),l.logger.log("loadSource:"+e),this.url=e,this.trigger(u.default.MANIFEST_LOADING,{url:e})},i.startLoad=function(e){void 0===e&&(e=-1),l.logger.log("startLoad("+e+")"),this.networkControllers.forEach((function(t){t.startLoad(e)}))},i.stopLoad=function(){l.logger.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))},i.swapAudioCodec=function(){l.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},i.recoverMediaError=function(){l.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),e&&this.attachMedia(e)},i.removeLevel=function(e,t){void 0===t&&(t=0),this.levelController.removeLevel(e,t)},Je(n,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){l.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){l.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){l.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){l.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){l.logger.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){l.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e}},{key:"bandwidthEstimate",get:function(){var e=this.abrController._bwEstimator;return e?e.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var e=this.levels,t=this.config.minAutoBitrate,r=e?e.length:0,n=0;n<r;n++)if((e[n].realBitrate?Math.max(e[n].realBitrate,e[n].bitrate):e[n].bitrate)>t)return n;return 0}},{key:"maxAutoLevel",get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}}]),n}(X);Ze.defaultConfig=void 0},"./src/polyfills/number.js":
/*!*********************************!*\
  !*** ./src/polyfills/number.js ***!
  \*********************************/
/*! exports provided: isFiniteNumber, MAX_SAFE_INTEGER */function(e,t,r){"use strict";r.r(t),r.d(t,"isFiniteNumber",(function(){return n})),r.d(t,"MAX_SAFE_INTEGER",(function(){return i}));var n=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},i=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/utils/get-self-scope.js":
/*!*************************************!*\
  !*** ./src/utils/get-self-scope.js ***!
  \*************************************/
/*! exports provided: getSelfScope */function(e,t,r){"use strict";function n(){return"undefined"==typeof window?self:window}r.r(t),r.d(t,"getSelfScope",(function(){return n}))},"./src/utils/logger.js":
/*!*****************************!*\
  !*** ./src/utils/logger.js ***!
  \*****************************/
/*! exports provided: enableLogs, logger */function(e,t,r){"use strict";r.r(t),r.d(t,"enableLogs",(function(){return f})),r.d(t,"logger",(function(){return c}));var n=r(/*! ./get-self-scope */"./src/utils/get-self-scope.js");function i(){}var a={trace:i,debug:i,log:i,warn:i,info:i,error:i},o=a;function s(e,t){return t="["+e+"] > "+t}var u=Object(n.getSelfScope)();function l(e){var t=u.console[e];return t?function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];n[0]&&(n[0]=s(e,n[0])),t.apply(u.console,n)}:i}var f=function(e){if(u.console&&!0===e||"object"==typeof e){!function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];r.forEach((function(t){o[t]=e[t]?e[t].bind(e):l(t)}))}(e,"debug","log","info","warn","error");try{o.log()}catch(e){o=a}}else o=a},c=o}}).default},e.exports=n())},function(e,t,r){"use strict";r.r(t),t.default=r.p+"img/117f50314eb3b39b9448ead488f1df25.svg"},function(e,t,r){var n;void 0===(n=function(){"use strict";return Object.getPrototypeOf}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n,i;n=[r(17)],void 0===(i=function(e){"use strict";return e.flat?function(t){return e.flat.call(t)}:function(t){return e.concat.apply([],t)}}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(17)],void 0===(i=function(e){"use strict";return e.push}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(22)],void 0===(i=function(e){"use strict";return e.toString}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(29)],void 0===(i=function(e){"use strict";return e.toString}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(3)],void 0===(i=function(e){"use strict";var t={type:!0,src:!0,nonce:!0,noModule:!0};return function(r,n,i){var a,o,s=(i=i||e).createElement("script");if(s.text=r,n)for(a in t)(o=n[a]||n.getAttribute&&n.getAttribute(a))&&s.setAttribute(a,o);i.head.appendChild(s).parentNode.removeChild(s)}}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(4)],void 0===(i=function(e){"use strict";return e.expr.match.needsContext}.apply(t,n))||(e.exports=i)},function(e,t,r){var n;void 0===(n=function(){"use strict";return/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n,i;n=[r(0),r(28),r(2),r(50),r(4)],void 0===(i=function(e,t,r,n){"use strict";function i(n,i,a){return r(i)?e.grep(n,(function(e,t){return!!i.call(e,t,e)!==a})):i.nodeType?e.grep(n,(function(e){return e===i!==a})):"string"!=typeof i?e.grep(n,(function(e){return t.call(i,e)>-1!==a})):e.filter(i,n,a)}e.filter=function(t,r,n){var i=r[0];return n&&(t=":not("+t+")"),1===r.length&&1===i.nodeType?e.find.matchesSelector(i,t)?[i]:[]:e.find.matches(t,e.grep(r,(function(e){return 1===e.nodeType})))},e.fn.extend({find:function(t){var r,n,i=this.length,a=this;if("string"!=typeof t)return this.pushStack(e(t).filter((function(){for(r=0;r<i;r++)if(e.contains(a[r],this))return!0})));for(n=this.pushStack([]),r=0;r<i;r++)e.find(t,a[r],n);return i>1?e.uniqueSort(n):n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&n.test(t)?e(t):t||[],!1).length}})}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(3),r(94),r(15)],void 0===(i=function(e,t){"use strict";var r=e.Deferred();function n(){t.removeEventListener("DOMContentLoaded",n),window.removeEventListener("load",n),e.ready()}e.fn.ready=function(t){return r.then(t).catch((function(t){e.readyException(t)})),this},e.extend({isReady:!1,readyWait:1,ready:function(n){(!0===n?--e.readyWait:e.isReady)||(e.isReady=!0,!0!==n&&--e.readyWait>0||r.resolveWith(t,[e]))}}),e.ready.then=r.then,"complete"===t.readyState||"loading"!==t.readyState&&!t.documentElement.doScroll?window.setTimeout(e.ready):(t.addEventListener("DOMContentLoaded",n),window.addEventListener("load",n))}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(19),r(9),r(23)],void 0===(i=function(e,t,r,n){"use strict";function i(){this.expando=e.expando+i.uid++}return i.uid=1,i.prototype={cache:function(e){var t=e[this.expando];return t||(t={},n(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,r,n){var i,a=this.cache(e);if("string"==typeof r)a[t(r)]=n;else for(i in r)a[t(i)]=r[i];return a},get:function(e,r){return void 0===r?this.cache(e):e[this.expando]&&e[this.expando][t(r)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(n,i){var a,o=n[this.expando];if(void 0!==o){if(void 0!==i){a=(i=Array.isArray(i)?i.map(t):(i=t(i))in o?[i]:i.match(r)||[]).length;for(;a--;)delete o[i[a]]}(void 0===i||e.isEmptyObject(o))&&(n.nodeType?n[this.expando]=void 0:delete n[this.expando])}},hasData:function(t){var r=t[this.expando];return void 0!==r&&!e.isEmptyObject(r)}},i}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(54)],void 0===(i=function(e){"use strict";return new e}.apply(t,n))||(e.exports=i)},function(e,t,r){var n;void 0===(n=function(){"use strict";return/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n,i;n=[r(0),r(24)],void 0===(i=function(e,t){"use strict";return function(r,n){return"none"===(r=n||r).style.display||""===r.style.display&&t(r)&&"none"===e.css(r,"display")}}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(33)],void 0===(i=function(e,t){"use strict";return function(r,n,i,a){var o,s,u=20,l=a?function(){return a.cur()}:function(){return e.css(r,n,"")},f=l(),c=i&&i[3]||(e.cssNumber[n]?"":"px"),d=r.nodeType&&(e.cssNumber[n]||"px"!==c&&+f)&&t.exec(e.css(r,n));if(d&&d[3]!==c){for(f/=2,c=c||d[3],d=+f||1;u--;)e.style(r,n,d+c),(1-s)*(1-(s=l()/f||.5))<=0&&(u=0),d/=s;d*=2,e.style(r,n,d+c),i=i||[]}return i&&(d=+d||+f||0,o=i[1]?d+(i[1]+1)*i[2]:+i[2],a&&(a.unit=c,a.start=d,a.end=o)),o}}.apply(t,n))||(e.exports=i)},function(e,t,r){var n;void 0===(n=function(){"use strict";return/<([a-z][^\/\0>\x20\t\r\n\f]*)/i}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(){"use strict";return/^$|^module$|\/(?:java|ecma)script/i}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n,i;n=[r(62)],void 0===(i=function(e){"use strict";var t={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};return t.tbody=t.tfoot=t.colgroup=t.caption=t.thead,t.th=t.td,e.option||(t.optgroup=t.option=[1,"<select multiple='multiple'>","</select>"]),t}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(3),r(10)],void 0===(i=function(e,t){"use strict";var r,n;return r=e.createDocumentFragment().appendChild(e.createElement("div")),(n=e.createElement("input")).setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),r.appendChild(n),t.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,r.innerHTML="<textarea>x</textarea>",t.noCloneChecked=!!r.cloneNode(!0).lastChild.defaultValue,r.innerHTML="<option></option>",t.option=!!r.lastChild,t}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(8)],void 0===(i=function(e,t){"use strict";return function(r,n){var i;return i=void 0!==r.getElementsByTagName?r.getElementsByTagName(n||"*"):void 0!==r.querySelectorAll?r.querySelectorAll(n||"*"):[],void 0===n||n&&t(r,n)?e.merge([r],i):i}}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(7)],void 0===(i=function(e){"use strict";return function(t,r){for(var n=0,i=t.length;n<i;n++)e.set(t[n],"globalEval",!r||e.get(r[n],"globalEval"))}}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(13),r(24),r(59),r(60),r(61),r(63),r(64)],void 0===(i=function(e,t,r,n,i,a,o,s){"use strict";var u=/<|&#?\w+;/;return function(l,f,c,d,h){for(var p,v,m,g,y,b,_=f.createDocumentFragment(),w=[],T=0,E=l.length;T<E;T++)if((p=l[T])||0===p)if("object"===t(p))e.merge(w,p.nodeType?[p]:p);else if(u.test(p)){for(v=v||_.appendChild(f.createElement("div")),m=(n.exec(p)||["",""])[1].toLowerCase(),g=a[m]||a._default,v.innerHTML=g[1]+e.htmlPrefilter(p)+g[2],b=g[0];b--;)v=v.lastChild;e.merge(w,v.childNodes),(v=_.firstChild).textContent=""}else w.push(f.createTextNode(p));for(_.textContent="",T=0;p=w[T++];)if(d&&e.inArray(p,d)>-1)h&&h.push(p);else if(y=r(p),v=o(_.appendChild(p),"script"),y&&s(v),c)for(b=0;p=v[b++];)i.test(p.type||"")&&c.push(p);return _}}.apply(t,n))||(e.exports=i)},function(e,t,r){var n;void 0===(n=function(){"use strict";return function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=window),t.getComputedStyle(e)}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n,i;n=[r(0),r(24),r(99),r(36),r(66),r(37)],void 0===(i=function(e,t,r,n,i,a){"use strict";return function(o,s,u){var l,f,c,d,h=o.style;return(u=u||i(o))&&(""!==(d=u.getPropertyValue(s)||u[s])||t(o)||(d=e.style(o,s)),!a.pixelBoxStyles()&&n.test(d)&&r.test(s)&&(l=h.width,f=h.minWidth,c=h.maxWidth,h.minWidth=h.maxWidth=h.width=d,d=u.width,h.width=l,h.minWidth=f,h.maxWidth=c)),void 0!==d?d+"":d}}.apply(t,n))||(e.exports=i)},function(e,t,r){var n;void 0===(n=function(){"use strict";return function(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n,i;n=[r(3),r(0)],void 0===(i=function(e,t){"use strict";var r=["Webkit","Moz","ms"],n=e.createElement("div").style,i={};return function(e){var a=t.cssProps[e]||i[e];return a||(e in n?e:i[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),i=r.length;i--;)if((e=r[i]+t)in n)return e}(e)||e)}}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(11),r(38),r(4)],void 0===(i=function(e,t,r){"use strict";var n=/^(?:input|select|textarea|button)$/i,i=/^(?:a|area)$/i;e.fn.extend({prop:function(r,n){return t(this,e.prop,r,n,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[e.propFix[t]||t]}))}}),e.extend({prop:function(t,r,n){var i,a,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&e.isXMLDoc(t)||(r=e.propFix[r]||r,a=e.propHooks[r]),void 0!==n?a&&"set"in a&&void 0!==(i=a.set(t,n,r))?i:t[r]=n:a&&"get"in a&&null!==(i=a.get(t,r))?i:t[r]},propHooks:{tabIndex:{get:function(t){var r=e.find.attr(t,"tabindex");return r?parseInt(r,10):n.test(t.nodeName)||i.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),r.optSelected||(e.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),e.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){e.propFix[this.toLowerCase()]=this}))}.apply(t,n))||(e.exports=i)},function(e,t,r){var n;void 0===(n=function(){"use strict";return{guid:Date.now()}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(){"use strict";return/\?/}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n,i;n=[r(0)],void 0===(i=function(e){"use strict";return e.parseXML=function(t){var r,n;if(!t||"string"!=typeof t)return null;try{r=(new window.DOMParser).parseFromString(t,"text/xml")}catch(e){}return n=r&&r.getElementsByTagName("parsererror")[0],r&&!n||e.error("Invalid XML: "+(n?e.map(n.childNodes,(function(e){return e.textContent})).join("\n"):t)),r},e.parseXML}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(13),r(35),r(2),r(6),r(14),r(70)],void 0===(i=function(e,t,r,n){"use strict";var i=/\[\]$/,a=/\r?\n/g,o=/^(?:submit|button|image|reset|file)$/i,s=/^(?:input|select|textarea|keygen)/i;function u(r,n,a,o){var s;if(Array.isArray(n))e.each(n,(function(e,t){a||i.test(r)?o(r,t):u(r+"["+("object"==typeof t&&null!=t?e:"")+"]",t,a,o)}));else if(a||"object"!==t(n))o(r,n);else for(s in n)u(r+"["+s+"]",n[s],a,o)}return e.param=function(t,r){var i,a=[],o=function(e,t){var r=n(t)?t():t;a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!e.isPlainObject(t))e.each(t,(function(){o(this.name,this.value)}));else for(i in t)u(i,t[i],r,o);return a.join("&")},e.fn.extend({serialize:function(){return e.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=e.prop(this,"elements");return t?e.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!e(this).is(":disabled")&&s.test(this.nodeName)&&!o.test(t)&&(this.checked||!r.test(t))})).map((function(t,r){var n=e(this).val();return null==n?null:Array.isArray(n)?e.map(n,(function(e){return{name:r.name,value:e.replace(a,"\r\n")}})):{name:r.name,value:n.replace(a,"\r\n")}})).get()}}),e}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(3),r(51),r(65),r(115)],void 0===(i=function(e,t,r,n,i){"use strict";return e.parseHTML=function(a,o,s){return"string"!=typeof a?[]:("boolean"==typeof o&&(s=o,o=!1),o||(i.createHTMLDocument?((u=(o=t.implementation.createHTMLDocument("")).createElement("base")).href=t.location.href,o.head.appendChild(u)):o=t),f=!s&&[],(l=r.exec(a))?[o.createElement(l[1])]:(l=n([a],o,f),f&&f.length&&e(f).remove(),e.merge([],l.childNodes)));var u,l,f},e.parseHTML}.apply(t,n))||(e.exports=i)},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";r.r(t),function(e,t,n){var i=r(42),a=r.n(i);OCA.Music=OCA.Music||{},OCA.Music.PlayerWrapper=function(){var r=null,i=null,o=null,s=null,u=0,l=0,f=100,c=!1,d=null,h=!1,p=this;function v(){c=!0,p.trigger("play")}function m(){c=!1,null!==d?p.trigger("pause"):p.trigger("stop")}function g(e){return i.canPlayType(e)||"audio/m4b"==e&&i.canPlayType("audio/mp4")}e.extend(this,OC.Backbone.Events),function(){i=document.createElement("audio"),a.a.isSupported()&&(o=new a.a({enableWorker:!1}));var e=function(){var e=i.buffered.length;return e>0?i.buffered.end(e-1):0},t=null;i.ontimeupdate=function(){t!=e()&&this.onprogress(),u=1e3*this.currentTime,p.trigger("progress",u)},i.ondurationchange=function(){l=1e3*this.duration,p.trigger("duration",l)},i.onprogress=function(){var r=e();p.trigger("buffer",r/this.duration*100),t=r},i.onsuspend=function(){this.onprogress()},i.onended=function(){p.trigger("end")},i.oncanplay=function(){p.trigger("ready")},i.onerror=function(){c=!1,d&&(console.log("HTML5 audio: sound load error"),p.trigger("error",d))},i.onplaying=v,i.onpause=m}(),this.play=function(){switch(r){case"html5":i.play();break;case"aurora":s&&(s.play(),v())}},this.pause=function(){switch(r){case"html5":i.pause();break;case"aurora":s&&s.pause(),m()}},this.stop=function(){switch(d=null,r){case"html5":i.pause(),i.src="";break;case"aurora":s&&s.stop(),m()}},this.isPlaying=function(){return c},this.seekingSupported=function(){return"html5"==r&&t.isNumeric(l)&&l>0},this.seekMsecs=function(e){if(p.seekingSupported())switch(r){case"html5":i.currentTime=e/1e3;break;case"aurora":s&&s.seek(e)}else if(0===e&&l>0){var t=d,n=c;p.stop(),p.fromURL(t),p.trigger("progress",0),n&&this.play()}else console.log("seeking is not supported for this file")},this.seek=function(e){p.seekMsecs(e*l)},this.seekForward=function(e){e=e||1e4,p.seekMsecs(u+e)},this.seekBackward=function(e){e=e||1e4,p.seekMsecs(u-e)},this.playPosition=function(){return u},this.setVolume=function(e){switch(f=e,r){case"html5":i.volume=f/100;break;case"aurora":s&&(s.volume=f)}},this.canPlayMIME=function(e){var t="audio/flac"==e||"audio/mpeg"==e;return g(e)||t},this.fromURL=function(e,t){switch(l=0,u=0,this.trigger("loading"),d=e,r=(h=null===t)||g(t)?"html5":"aurora",console.log("Using "+r+" for type "+t+" URL "+e),r){case"html5":i.pause(),h&&null!==o&&function(e){return e=e.toLowerCase(),OCA.Music.Utils.endsWith(e,"m3u8")||OCA.Music.Utils.endsWith(e,"m3u")}(e)?(o.detachMedia(),o.loadSource(e),o.attachMedia(i)):i.src=e;break;case"aurora":s&&s.stop(),(s=n.Player.fromURL(e)).asset.source.chunkSize=524288,s.on("buffer",(function(e){p.trigger("buffer",e)})),s.on("progress",(function(e){u=e,p.trigger("progress",e)})),s.on("ready",(function(){p.trigger("ready")})),s.on("end",(function(){p.trigger("end")})),s.on("duration",(function(e){l=e,p.trigger("duration",e)}))}this.setVolume(f)}}}.call(this,r(5),r(1),r(41))},function(e,t,r){(function(e){OCA.Music=OCA.Music||{},OCA.Music.Utils={newLayoutStructure:function(){return 0===e("#content-wrapper").length},darkThemeActive:function(){return Object.prototype.hasOwnProperty.call(OCA,"Accessibility")&&("themedark"==OCA.Accessibility.theme||"dark"==OCA.Accessibility.theme)},startsWith:function(e,t){return null!==e&&null!==t&&e.slice(0,t.length)===t},endsWith:function(e,t){return null!==e&&null!==t&&e.slice(-t.length)===t},capitalize:function(e){return e&&e[0].toUpperCase()+e.slice(1)},titleFromFilename:function(e){var t=e.match(/^((\d+)\s*[.-]\s+)?(.+)\.(\w{1,4})$/);return t?t[3]:e},dropFileExtension:function(e){return e.replace(/\.[^/.]+$/,"")},joinPath:function(e,t){return this.endsWith(e,"/")&&(e=e.slice(0,-1)),this.startsWith(t,"/")&&(t=t.slice(1)),e+"/"+t},formatPlayTime:function(e){var t=function(e){return(e<10?"0":"")+e},r=Math.floor(e/3600),n=Math.floor((e-3600*r)/60),i=Math.floor(e%60);return r>0?r+":"+t(n)+":"+t(i):n+":"+t(i)}}}).call(this,r(1))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){var n,i;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(a){if(void 0===(i="function"==typeof(n=a)?n.call(t,r,t,e):n)||(e.exports=i),!0,e.exports=a(),!!0){var o=window.Cookies,s=window.Cookies=a();s.noConflict=function(){return window.Cookies=o,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function i(){}function a(t,r,a){if("undefined"!=typeof document){"number"==typeof(a=e({path:"/"},i.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var o=JSON.stringify(r);/^[\{\[]/.test(o)&&(r=o)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in a)a[u]&&(s+="; "+u,!0!==a[u]&&(s+="="+a[u].split(";")[0]));return document.cookie=t+"="+r+s}}function o(e,r){if("undefined"!=typeof document){for(var i={},a=document.cookie?document.cookie.split("; "):[],o=0;o<a.length;o++){var s=a[o].split("="),u=s.slice(1).join("=");r||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var l=t(s[0]);if(u=(n.read||n)(u,l)||t(u),r)try{u=JSON.parse(u)}catch(e){}if(i[l]=u,e===l)break}catch(e){}}return e?i[e]:i}}return i.set=a,i.get=function(e){return o(e,!1)},i.getJSON=function(e){return o(e,!0)},i.remove=function(t,r){a(t,"",e(r,{expires:-1}))},i.defaults={},i.withConverter=r,i}((function(){}))}))},function(e,t,r){"use strict";r.r(t),t.default=r.p+"img/3002b85934190d593f9f8e3d9c29c540.svg"},function(e,t,r){"use strict";r.r(t),t.default=r.p+"img/5347a8f54eb01e2ae5be536a2b86ef4d.svg"},function(e,t,r){"use strict";r.r(t),t.default=r.p+"img/ed91f97fb295bf00b33195b275442296.svg"},function(e,t,r){"use strict";r.r(t),t.default=r.p+"img/cbe13473fc4736d5c6989c47925bc419.svg"},function(e,t,r){"use strict";r.r(t),t.default=r.p+"img/e2acc71c2029173c3c00f009740d591b.svg"},function(e,t,r){"use strict";r.r(t),t.default=r.p+"img/0870be038f536fc670da5db9131d0040.svg"},,function(e,t,r){var n,i;n=[r(48)],void 0===(i=function(e){"use strict";return e.call(Object)}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(90)],void 0===(i=function(e,t){"use strict";e.find=t,e.expr=t.selectors,e.expr[":"]=e.expr.pseudos,e.uniqueSort=e.unique=t.uniqueSort,e.text=t.getText,e.isXMLDoc=t.isXML,e.contains=t.contains,e.escapeSelector=t.escape}.apply(t,n))||(e.exports=i)},function(e,t,r){var n;
/*!
 * Sizzle CSS Selector Engine v2.3.6
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2021-02-16
 */!function(i){var a,o,s,u,l,f,c,d,h,p,v,m,g,y,b,_,w,T,E,S="sizzle"+1*new Date,A=i.document,x=0,k=0,L=de(),R=de(),C=de(),I=de(),O=function(e,t){return e===t&&(v=!0),0},D={}.hasOwnProperty,P=[],F=P.pop,U=P.push,M=P.push,N=P.slice,B=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",G="[\\x20\\t\\r\\n\\f]",z="(?:\\\\[\\da-fA-F]{1,6}"+G+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+G+"*("+z+")(?:"+G+"*([*^$|!~]?=)"+G+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+z+"))|)"+G+"*\\]",H=":("+z+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",q=new RegExp(G+"+","g"),V=new RegExp("^"+G+"+|((?:^|[^\\\\])(?:\\\\.)*)"+G+"+$","g"),K=new RegExp("^"+G+"*,"+G+"*"),X=new RegExp("^"+G+"*([>+~]|"+G+")"+G+"*"),Y=new RegExp(G+"|>"),$=new RegExp(H),J=new RegExp("^"+z+"$"),Z={ID:new RegExp("^#("+z+")"),CLASS:new RegExp("^\\.("+z+")"),TAG:new RegExp("^("+z+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+G+"*(even|odd|(([+-]|)(\\d*)n|)"+G+"*(?:([+-]|)"+G+"*(\\d+)|))"+G+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+G+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+G+"*((?:-\\d)?\\d*)"+G+"*\\)|)(?=[^-]|$)","i")},Q=/HTML$/i,ee=/^(?:input|select|textarea|button)$/i,te=/^h\d$/i,re=/^[^{]+\{\s*\[native \w/,ne=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ie=/[+~]/,ae=new RegExp("\\\\[\\da-fA-F]{1,6}"+G+"?|\\\\([^\\r\\n\\f])","g"),oe=function(e,t){var r="0x"+e.slice(1)-65536;return t||(r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320))},se=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ue=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},le=function(){m()},fe=Se((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{M.apply(P=N.call(A.childNodes),A.childNodes),P[A.childNodes.length].nodeType}catch(e){M={apply:P.length?function(e,t){U.apply(e,N.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}function ce(e,t,r,n){var i,a,s,u,l,c,h,p=t&&t.ownerDocument,v=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==v&&9!==v&&11!==v)return r;if(!n&&(m(t),t=t||g,b)){if(11!==v&&(l=ne.exec(e)))if(i=l[1]){if(9===v){if(!(s=t.getElementById(i)))return r;if(s.id===i)return r.push(s),r}else if(p&&(s=p.getElementById(i))&&E(t,s)&&s.id===i)return r.push(s),r}else{if(l[2])return M.apply(r,t.getElementsByTagName(e)),r;if((i=l[3])&&o.getElementsByClassName&&t.getElementsByClassName)return M.apply(r,t.getElementsByClassName(i)),r}if(o.qsa&&!I[e+" "]&&(!_||!_.test(e))&&(1!==v||"object"!==t.nodeName.toLowerCase())){if(h=e,p=t,1===v&&(Y.test(e)||X.test(e))){for((p=ie.test(e)&&we(t.parentNode)||t)===t&&o.scope||((u=t.getAttribute("id"))?u=u.replace(se,ue):t.setAttribute("id",u=S)),a=(c=f(e)).length;a--;)c[a]=(u?"#"+u:":scope")+" "+Ee(c[a]);h=c.join(",")}try{return M.apply(r,p.querySelectorAll(h)),r}catch(t){I(e,!0)}finally{u===S&&t.removeAttribute("id")}}}return d(e.replace(V,"$1"),t,r,n)}function de(){var e=[];return function t(r,n){return e.push(r+" ")>s.cacheLength&&delete t[e.shift()],t[r+" "]=n}}function he(e){return e[S]=!0,e}function pe(e){var t=g.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ve(e,t){for(var r=e.split("|"),n=r.length;n--;)s.attrHandle[r[n]]=t}function me(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function ge(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ye(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}function be(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&fe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function _e(e){return he((function(t){return t=+t,he((function(r,n){for(var i,a=e([],r.length,t),o=a.length;o--;)r[i=a[o]]&&(r[i]=!(n[i]=r[i]))}))}))}function we(e){return e&&void 0!==e.getElementsByTagName&&e}for(a in o=ce.support={},l=ce.isXML=function(e){var t=e&&e.namespaceURI,r=e&&(e.ownerDocument||e).documentElement;return!Q.test(t||r&&r.nodeName||"HTML")},m=ce.setDocument=function(e){var t,r,n=e?e.ownerDocument||e:A;return n!=g&&9===n.nodeType&&n.documentElement?(y=(g=n).documentElement,b=!l(g),A!=g&&(r=g.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",le,!1):r.attachEvent&&r.attachEvent("onunload",le)),o.scope=pe((function(e){return y.appendChild(e).appendChild(g.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),o.attributes=pe((function(e){return e.className="i",!e.getAttribute("className")})),o.getElementsByTagName=pe((function(e){return e.appendChild(g.createComment("")),!e.getElementsByTagName("*").length})),o.getElementsByClassName=re.test(g.getElementsByClassName),o.getById=pe((function(e){return y.appendChild(e).id=S,!g.getElementsByName||!g.getElementsByName(S).length})),o.getById?(s.filter.ID=function(e){var t=e.replace(ae,oe);return function(e){return e.getAttribute("id")===t}},s.find.ID=function(e,t){if(void 0!==t.getElementById&&b){var r=t.getElementById(e);return r?[r]:[]}}):(s.filter.ID=function(e){var t=e.replace(ae,oe);return function(e){var r=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}},s.find.ID=function(e,t){if(void 0!==t.getElementById&&b){var r,n,i,a=t.getElementById(e);if(a){if((r=a.getAttributeNode("id"))&&r.value===e)return[a];for(i=t.getElementsByName(e),n=0;a=i[n++];)if((r=a.getAttributeNode("id"))&&r.value===e)return[a]}return[]}}),s.find.TAG=o.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):o.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],i=0,a=t.getElementsByTagName(e);if("*"===e){for(;r=a[i++];)1===r.nodeType&&n.push(r);return n}return a},s.find.CLASS=o.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&b)return t.getElementsByClassName(e)},w=[],_=[],(o.qsa=re.test(g.querySelectorAll))&&(pe((function(e){var t;y.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&_.push("[*^$]="+G+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||_.push("\\["+G+"*(?:value|"+j+")"),e.querySelectorAll("[id~="+S+"-]").length||_.push("~="),(t=g.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||_.push("\\["+G+"*name"+G+"*="+G+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||_.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||_.push(".#.+[+~]"),e.querySelectorAll("\\\f"),_.push("[\\r\\n\\f]")})),pe((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=g.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&_.push("name"+G+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&_.push(":enabled",":disabled"),y.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&_.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),_.push(",.*:")}))),(o.matchesSelector=re.test(T=y.matches||y.webkitMatchesSelector||y.mozMatchesSelector||y.oMatchesSelector||y.msMatchesSelector))&&pe((function(e){o.disconnectedMatch=T.call(e,"*"),T.call(e,"[s!='']:x"),w.push("!=",H)})),_=_.length&&new RegExp(_.join("|")),w=w.length&&new RegExp(w.join("|")),t=re.test(y.compareDocumentPosition),E=t||re.test(y.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},O=t?function(e,t){if(e===t)return v=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!o.sortDetached&&t.compareDocumentPosition(e)===r?e==g||e.ownerDocument==A&&E(A,e)?-1:t==g||t.ownerDocument==A&&E(A,t)?1:p?B(p,e)-B(p,t):0:4&r?-1:1)}:function(e,t){if(e===t)return v=!0,0;var r,n=0,i=e.parentNode,a=t.parentNode,o=[e],s=[t];if(!i||!a)return e==g?-1:t==g?1:i?-1:a?1:p?B(p,e)-B(p,t):0;if(i===a)return me(e,t);for(r=e;r=r.parentNode;)o.unshift(r);for(r=t;r=r.parentNode;)s.unshift(r);for(;o[n]===s[n];)n++;return n?me(o[n],s[n]):o[n]==A?-1:s[n]==A?1:0},g):g},ce.matches=function(e,t){return ce(e,null,null,t)},ce.matchesSelector=function(e,t){if(m(e),o.matchesSelector&&b&&!I[t+" "]&&(!w||!w.test(t))&&(!_||!_.test(t)))try{var r=T.call(e,t);if(r||o.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){I(t,!0)}return ce(t,g,null,[e]).length>0},ce.contains=function(e,t){return(e.ownerDocument||e)!=g&&m(e),E(e,t)},ce.attr=function(e,t){(e.ownerDocument||e)!=g&&m(e);var r=s.attrHandle[t.toLowerCase()],n=r&&D.call(s.attrHandle,t.toLowerCase())?r(e,t,!b):void 0;return void 0!==n?n:o.attributes||!b?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},ce.escape=function(e){return(e+"").replace(se,ue)},ce.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ce.uniqueSort=function(e){var t,r=[],n=0,i=0;if(v=!o.detectDuplicates,p=!o.sortStable&&e.slice(0),e.sort(O),v){for(;t=e[i++];)t===e[i]&&(n=r.push(i));for(;n--;)e.splice(r[n],1)}return p=null,e},u=ce.getText=function(e){var t,r="",n=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=u(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[n++];)r+=u(t);return r},(s=ce.selectors={cacheLength:50,createPseudo:he,match:Z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ae,oe),e[3]=(e[3]||e[4]||e[5]||"").replace(ae,oe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ce.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ce.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return Z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&$.test(r)&&(t=f(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ae,oe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=L[e+" "];return t||(t=new RegExp("(^|"+G+")"+e+"("+G+"|$)"))&&L(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,r){return function(n){var i=ce.attr(n,e);return null==i?"!="===t:!t||(i+="","="===t?i===r:"!="===t?i!==r:"^="===t?r&&0===i.indexOf(r):"*="===t?r&&i.indexOf(r)>-1:"$="===t?r&&i.slice(-r.length)===r:"~="===t?(" "+i.replace(q," ")+" ").indexOf(r)>-1:"|="===t&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,r,n,i){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===i?function(e){return!!e.parentNode}:function(t,r,u){var l,f,c,d,h,p,v=a!==o?"nextSibling":"previousSibling",m=t.parentNode,g=s&&t.nodeName.toLowerCase(),y=!u&&!s,b=!1;if(m){if(a){for(;v;){for(d=t;d=d[v];)if(s?d.nodeName.toLowerCase()===g:1===d.nodeType)return!1;p=v="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?m.firstChild:m.lastChild],o&&y){for(b=(h=(l=(f=(c=(d=m)[S]||(d[S]={}))[d.uniqueID]||(c[d.uniqueID]={}))[e]||[])[0]===x&&l[1])&&l[2],d=h&&m.childNodes[h];d=++h&&d&&d[v]||(b=h=0)||p.pop();)if(1===d.nodeType&&++b&&d===t){f[e]=[x,h,b];break}}else if(y&&(b=h=(l=(f=(c=(d=t)[S]||(d[S]={}))[d.uniqueID]||(c[d.uniqueID]={}))[e]||[])[0]===x&&l[1]),!1===b)for(;(d=++h&&d&&d[v]||(b=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==g:1!==d.nodeType)||!++b||(y&&((f=(c=d[S]||(d[S]={}))[d.uniqueID]||(c[d.uniqueID]={}))[e]=[x,b]),d!==t)););return(b-=i)===n||b%n==0&&b/n>=0}}},PSEUDO:function(e,t){var r,n=s.pseudos[e]||s.setFilters[e.toLowerCase()]||ce.error("unsupported pseudo: "+e);return n[S]?n(t):n.length>1?(r=[e,e,"",t],s.setFilters.hasOwnProperty(e.toLowerCase())?he((function(e,r){for(var i,a=n(e,t),o=a.length;o--;)e[i=B(e,a[o])]=!(r[i]=a[o])})):function(e){return n(e,0,r)}):n}},pseudos:{not:he((function(e){var t=[],r=[],n=c(e.replace(V,"$1"));return n[S]?he((function(e,t,r,i){for(var a,o=n(e,null,i,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))})):function(e,i,a){return t[0]=e,n(t,null,a,r),t[0]=null,!r.pop()}})),has:he((function(e){return function(t){return ce(e,t).length>0}})),contains:he((function(e){return e=e.replace(ae,oe),function(t){return(t.textContent||u(t)).indexOf(e)>-1}})),lang:he((function(e){return J.test(e||"")||ce.error("unsupported lang: "+e),e=e.replace(ae,oe).toLowerCase(),function(t){var r;do{if(r=b?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=i.location&&i.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===y},focus:function(e){return e===g.activeElement&&(!g.hasFocus||g.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:be(!1),disabled:be(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!s.pseudos.empty(e)},header:function(e){return te.test(e.nodeName)},input:function(e){return ee.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:_e((function(){return[0]})),last:_e((function(e,t){return[t-1]})),eq:_e((function(e,t,r){return[r<0?r+t:r]})),even:_e((function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e})),odd:_e((function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e})),lt:_e((function(e,t,r){for(var n=r<0?r+t:r>t?t:r;--n>=0;)e.push(n);return e})),gt:_e((function(e,t,r){for(var n=r<0?r+t:r;++n<t;)e.push(n);return e}))}}).pseudos.nth=s.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})s.pseudos[a]=ge(a);for(a in{submit:!0,reset:!0})s.pseudos[a]=ye(a);function Te(){}function Ee(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function Se(e,t,r){var n=t.dir,i=t.next,a=i||n,o=r&&"parentNode"===a,s=k++;return t.first?function(t,r,i){for(;t=t[n];)if(1===t.nodeType||o)return e(t,r,i);return!1}:function(t,r,u){var l,f,c,d=[x,s];if(u){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,r,u))return!0}else for(;t=t[n];)if(1===t.nodeType||o)if(f=(c=t[S]||(t[S]={}))[t.uniqueID]||(c[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[n]||t;else{if((l=f[a])&&l[0]===x&&l[1]===s)return d[2]=l[2];if(f[a]=d,d[2]=e(t,r,u))return!0}return!1}}function Ae(e){return e.length>1?function(t,r,n){for(var i=e.length;i--;)if(!e[i](t,r,n))return!1;return!0}:e[0]}function xe(e,t,r,n,i){for(var a,o=[],s=0,u=e.length,l=null!=t;s<u;s++)(a=e[s])&&(r&&!r(a,n,i)||(o.push(a),l&&t.push(s)));return o}function ke(e,t,r,n,i,a){return n&&!n[S]&&(n=ke(n)),i&&!i[S]&&(i=ke(i,a)),he((function(a,o,s,u){var l,f,c,d=[],h=[],p=o.length,v=a||function(e,t,r){for(var n=0,i=t.length;n<i;n++)ce(e,t[n],r);return r}(t||"*",s.nodeType?[s]:s,[]),m=!e||!a&&t?v:xe(v,d,e,s,u),g=r?i||(a?e:p||n)?[]:o:m;if(r&&r(m,g,s,u),n)for(l=xe(g,h),n(l,[],s,u),f=l.length;f--;)(c=l[f])&&(g[h[f]]=!(m[h[f]]=c));if(a){if(i||e){if(i){for(l=[],f=g.length;f--;)(c=g[f])&&l.push(m[f]=c);i(null,g=[],l,u)}for(f=g.length;f--;)(c=g[f])&&(l=i?B(a,c):d[f])>-1&&(a[l]=!(o[l]=c))}}else g=xe(g===o?g.splice(p,g.length):g),i?i(null,o,g,u):M.apply(o,g)}))}function Le(e){for(var t,r,n,i=e.length,a=s.relative[e[0].type],o=a||s.relative[" "],u=a?1:0,l=Se((function(e){return e===t}),o,!0),f=Se((function(e){return B(t,e)>-1}),o,!0),c=[function(e,r,n){var i=!a&&(n||r!==h)||((t=r).nodeType?l(e,r,n):f(e,r,n));return t=null,i}];u<i;u++)if(r=s.relative[e[u].type])c=[Se(Ae(c),r)];else{if((r=s.filter[e[u].type].apply(null,e[u].matches))[S]){for(n=++u;n<i&&!s.relative[e[n].type];n++);return ke(u>1&&Ae(c),u>1&&Ee(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(V,"$1"),r,u<n&&Le(e.slice(u,n)),n<i&&Le(e=e.slice(n)),n<i&&Ee(e))}c.push(r)}return Ae(c)}Te.prototype=s.filters=s.pseudos,s.setFilters=new Te,f=ce.tokenize=function(e,t){var r,n,i,a,o,u,l,f=R[e+" "];if(f)return t?0:f.slice(0);for(o=e,u=[],l=s.preFilter;o;){for(a in r&&!(n=K.exec(o))||(n&&(o=o.slice(n[0].length)||o),u.push(i=[])),r=!1,(n=X.exec(o))&&(r=n.shift(),i.push({value:r,type:n[0].replace(V," ")}),o=o.slice(r.length)),s.filter)!(n=Z[a].exec(o))||l[a]&&!(n=l[a](n))||(r=n.shift(),i.push({value:r,type:a,matches:n}),o=o.slice(r.length));if(!r)break}return t?o.length:o?ce.error(e):R(e,u).slice(0)},c=ce.compile=function(e,t){var r,n=[],i=[],a=C[e+" "];if(!a){for(t||(t=f(e)),r=t.length;r--;)(a=Le(t[r]))[S]?n.push(a):i.push(a);(a=C(e,function(e,t){var r=t.length>0,n=e.length>0,i=function(i,a,o,u,l){var f,c,d,p=0,v="0",y=i&&[],_=[],w=h,T=i||n&&s.find.TAG("*",l),E=x+=null==w?1:Math.random()||.1,S=T.length;for(l&&(h=a==g||a||l);v!==S&&null!=(f=T[v]);v++){if(n&&f){for(c=0,a||f.ownerDocument==g||(m(f),o=!b);d=e[c++];)if(d(f,a||g,o)){u.push(f);break}l&&(x=E)}r&&((f=!d&&f)&&p--,i&&y.push(f))}if(p+=v,r&&v!==p){for(c=0;d=t[c++];)d(y,_,a,o);if(i){if(p>0)for(;v--;)y[v]||_[v]||(_[v]=F.call(u));_=xe(_)}M.apply(u,_),l&&!i&&_.length>0&&p+t.length>1&&ce.uniqueSort(u)}return l&&(x=E,h=w),y};return r?he(i):i}(i,n))).selector=e}return a},d=ce.select=function(e,t,r,n){var i,a,o,u,l,d="function"==typeof e&&e,h=!n&&f(e=d.selector||e);if(r=r||[],1===h.length){if((a=h[0]=h[0].slice(0)).length>2&&"ID"===(o=a[0]).type&&9===t.nodeType&&b&&s.relative[a[1].type]){if(!(t=(s.find.ID(o.matches[0].replace(ae,oe),t)||[])[0]))return r;d&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(i=Z.needsContext.test(e)?0:a.length;i--&&(o=a[i],!s.relative[u=o.type]);)if((l=s.find[u])&&(n=l(o.matches[0].replace(ae,oe),ie.test(a[0].type)&&we(t.parentNode)||t))){if(a.splice(i,1),!(e=n.length&&Ee(a)))return M.apply(r,n),r;break}}return(d||c(e,h))(n,t,!b,r,!t||ie.test(e)&&we(t.parentNode)||t),r},o.sortStable=S.split("").sort(O).join("")===S,o.detectDuplicates=!!v,m(),o.sortDetached=pe((function(e){return 1&e.compareDocumentPosition(g.createElement("fieldset"))})),pe((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ve("type|href|height|width",(function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),o.attributes&&pe((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ve("value",(function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),pe((function(e){return null==e.getAttribute("disabled")}))||ve(j,(function(e,t,r){var n;if(!r)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}));var Re=i.Sizzle;ce.noConflict=function(){return i.Sizzle===ce&&(i.Sizzle=Re),ce},void 0===(n=function(){return ce}.call(t,r,t,e))||(e.exports=n)}(window)},function(e,t,r){var n,i;n=[r(0)],void 0===(i=function(e){"use strict";return function(t,r,n){for(var i=[],a=void 0!==n;(t=t[r])&&9!==t.nodeType;)if(1===t.nodeType){if(a&&e(t).is(n))break;i.push(t)}return i}}.apply(t,n))||(e.exports=i)},function(e,t,r){var n;void 0===(n=function(){"use strict";return function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n,i;n=[r(0),r(15)],void 0===(i=function(e){"use strict";var t=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;e.Deferred.exceptionHook=function(e,r){window.console&&window.console.warn&&e&&t.test(e.name)&&window.console.warn("jQuery.Deferred exception: "+e.message,e.stack,r)}}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0)],void 0===(i=function(e){"use strict";e.readyException=function(e){window.setTimeout((function(){throw e}))}}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(11),r(19),r(7),r(55)],void 0===(i=function(e,t,r,n,i){"use strict";var a=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,o=/[A-Z]/g;function s(e,t,r){var n;if(void 0===r&&1===e.nodeType)if(n="data-"+t.replace(o,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(n))){try{r=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:a.test(e)?JSON.parse(e):e)}(r)}catch(e){}i.set(e,t,r)}else r=void 0;return r}return e.extend({hasData:function(e){return i.hasData(e)||n.hasData(e)},data:function(e,t,r){return i.access(e,t,r)},removeData:function(e,t){i.remove(e,t)},_data:function(e,t,r){return n.access(e,t,r)},_removeData:function(e,t){n.remove(e,t)}}),e.fn.extend({data:function(e,a){var o,u,l,f=this[0],c=f&&f.attributes;if(void 0===e){if(this.length&&(l=i.get(f),1===f.nodeType&&!n.get(f,"hasDataAttrs"))){for(o=c.length;o--;)c[o]&&0===(u=c[o].name).indexOf("data-")&&(u=r(u.slice(5)),s(f,u,l[u]));n.set(f,"hasDataAttrs",!0)}return l}return"object"==typeof e?this.each((function(){i.set(this,e)})):t(this,(function(t){var r;if(f&&void 0===t)return void 0!==(r=i.get(f,e))||void 0!==(r=s(f,e))?r:void 0;this.each((function(){i.set(this,e,t)}))}),null,a,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){i.remove(this,e)}))}}),e}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(31),r(32)],void 0===(i=function(e){"use strict";return e.fn.delay=function(t,r){return t=e.fx&&e.fx.speeds[t]||t,r=r||"fx",this.queue(r,(function(e,r){var n=window.setTimeout(e,t);r.stop=function(){window.clearTimeout(n)}}))},e.fn.delay}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(7),r(57)],void 0===(i=function(e,t,r){"use strict";var n={};function i(t){var r,i=t.ownerDocument,a=t.nodeName,o=n[a];return o||(r=i.body.appendChild(i.createElement(a)),o=e.css(r,"display"),r.parentNode.removeChild(r),"none"===o&&(o="block"),n[a]=o,o)}function a(e,n){for(var a,o,s=[],u=0,l=e.length;u<l;u++)(o=e[u]).style&&(a=o.style.display,n?("none"===a&&(s[u]=t.get(o,"display")||null,s[u]||(o.style.display="")),""===o.style.display&&r(o)&&(s[u]=i(o))):"none"!==a&&(s[u]="none",t.set(o,"display",a)));for(u=0;u<l;u++)null!=s[u]&&(e[u].style.display=s[u]);return e}return e.fn.extend({show:function(){return a(this,!0)},hide:function(){return a(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){r(this)?e(this).show():e(this).hide()}))}}),a}.apply(t,n))||(e.exports=i)},function(e,t,r){var n;void 0===(n=function(){"use strict";return function(e,t,r){var n,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in n=r.call(e),t)e.style[i]=a[i];return n}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n,i;n=[r(34)],void 0===(i=function(e){"use strict";return new RegExp(e.join("|"),"i")}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(69),r(20)],void 0===(i=function(e,t){"use strict";function r(e,t,n,i,a){return new r.prototype.init(e,t,n,i,a)}e.Tween=r,r.prototype={constructor:r,init:function(t,r,n,i,a,o){this.elem=t,this.prop=n,this.easing=a||e.easing._default,this.options=r,this.start=this.now=this.cur(),this.end=i,this.unit=o||(e.cssNumber[n]?"":"px")},cur:function(){var e=r.propHooks[this.prop];return e&&e.get?e.get(this):r.propHooks._default.get(this)},run:function(t){var n,i=r.propHooks[this.prop];return this.options.duration?this.pos=n=e.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=n=t,this.now=(this.end-this.start)*n+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):r.propHooks._default.set(this),this}},r.prototype.init.prototype=r.prototype,r.propHooks={_default:{get:function(t){var r;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(r=e.css(t.elem,t.prop,""))&&"auto"!==r?r:0},set:function(r){e.fx.step[r.prop]?e.fx.step[r.prop](r):1!==r.elem.nodeType||!e.cssHooks[r.prop]&&null==r.elem.style[t(r.prop)]?r.elem[r.prop]=r.now:e.style(r.elem,r.prop,r.now+r.unit)}}},r.propHooks.scrollTop=r.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},e.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},e.fx=r.prototype.init,e.fx.step={}}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(102),r(70),r(103),r(104)],void 0===(i=function(e){"use strict";return e}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(11),r(8),r(38),r(9),r(4)],void 0===(i=function(e,t,r,n,i){"use strict";var a,o=e.expr.attrHandle;e.fn.extend({attr:function(r,n){return t(this,e.attr,r,n,arguments.length>1)},removeAttr:function(t){return this.each((function(){e.removeAttr(this,t)}))}}),e.extend({attr:function(t,r,n){var i,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?e.prop(t,r,n):(1===s&&e.isXMLDoc(t)||(o=e.attrHooks[r.toLowerCase()]||(e.expr.match.bool.test(r)?a:void 0)),void 0!==n?null===n?void e.removeAttr(t,r):o&&"set"in o&&void 0!==(i=o.set(t,n,r))?i:(t.setAttribute(r,n+""),n):o&&"get"in o&&null!==(i=o.get(t,r))?i:null==(i=e.find.attr(t,r))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!n.radioValue&&"radio"===t&&r(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var r,n=0,a=t&&t.match(i);if(a&&1===e.nodeType)for(;r=a[n++];)e.removeAttribute(r)}}),a={set:function(t,r,n){return!1===r?e.removeAttr(t,n):t.setAttribute(n,n),n}},e.each(e.expr.match.bool.source.match(/\w+/g),(function(t,r){var n=o[r]||e.find.attr;o[r]=function(e,t,r){var i,a,s=t.toLowerCase();return r||(a=o[s],o[s]=i,i=null!=n(e,t,r)?s:null,o[s]=a),i}}))}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(39),r(2),r(9),r(7),r(6)],void 0===(i=function(e,t,r,n,i){"use strict";function a(e){return e.getAttribute&&e.getAttribute("class")||""}function o(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(n)||[]}e.fn.extend({addClass:function(n){var i,s,u,l,f,c,d,h=0;if(r(n))return this.each((function(t){e(this).addClass(n.call(this,t,a(this)))}));if((i=o(n)).length)for(;s=this[h++];)if(l=a(s),u=1===s.nodeType&&" "+t(l)+" "){for(c=0;f=i[c++];)u.indexOf(" "+f+" ")<0&&(u+=f+" ");l!==(d=t(u))&&s.setAttribute("class",d)}return this},removeClass:function(n){var i,s,u,l,f,c,d,h=0;if(r(n))return this.each((function(t){e(this).removeClass(n.call(this,t,a(this)))}));if(!arguments.length)return this.attr("class","");if((i=o(n)).length)for(;s=this[h++];)if(l=a(s),u=1===s.nodeType&&" "+t(l)+" "){for(c=0;f=i[c++];)for(;u.indexOf(" "+f+" ")>-1;)u=u.replace(" "+f+" "," ");l!==(d=t(u))&&s.setAttribute("class",d)}return this},toggleClass:function(t,n){var s=typeof t,u="string"===s||Array.isArray(t);return"boolean"==typeof n&&u?n?this.addClass(t):this.removeClass(t):r(t)?this.each((function(r){e(this).toggleClass(t.call(this,r,a(this),n),n)})):this.each((function(){var r,n,l,f;if(u)for(n=0,l=e(this),f=o(t);r=f[n++];)l.hasClass(r)?l.removeClass(r):l.addClass(r);else void 0!==t&&"boolean"!==s||((r=a(this))&&i.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===t?"":i.get(this,"__className__")||""))}))},hasClass:function(e){var r,n,i=0;for(r=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+t(a(n))+" ").indexOf(r)>-1)return!0;return!1}})}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(39),r(38),r(8),r(2),r(6)],void 0===(i=function(e,t,r,n,i){"use strict";var a=/\r/g;e.fn.extend({val:function(t){var r,n,o,s=this[0];return arguments.length?(o=i(t),this.each((function(n){var i;1===this.nodeType&&(null==(i=o?t.call(this,n,e(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=e.map(i,(function(e){return null==e?"":e+""}))),(r=e.valHooks[this.type]||e.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,i,"value")||(this.value=i))}))):s?(r=e.valHooks[s.type]||e.valHooks[s.nodeName.toLowerCase()])&&"get"in r&&void 0!==(n=r.get(s,"value"))?n:"string"==typeof(n=s.value)?n.replace(a,""):null==n?"":n:void 0}}),e.extend({valHooks:{option:{get:function(r){var n=e.find.attr(r,"value");return null!=n?n:t(e.text(r))}},select:{get:function(t){var r,i,a,o=t.options,s=t.selectedIndex,u="select-one"===t.type,l=u?null:[],f=u?s+1:o.length;for(a=s<0?f:u?s:0;a<f;a++)if(((i=o[a]).selected||a===s)&&!i.disabled&&(!i.parentNode.disabled||!n(i.parentNode,"optgroup"))){if(r=e(i).val(),u)return r;l.push(r)}return l},set:function(t,r){for(var n,i,a=t.options,o=e.makeArray(r),s=a.length;s--;)((i=a[s]).selected=e.inArray(e.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),e.each(["radio","checkbox"],(function(){e.valHooks[this]={set:function(t,r){if(Array.isArray(r))return t.checked=e.inArray(e(t).val(),r)>-1}},r.checkOn||(e.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}))}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(7),r(106),r(16),r(40)],void 0===(i=function(e,t,r){"use strict";return r.focusin||e.each({focus:"focusin",blur:"focusout"},(function(r,n){var i=function(t){e.event.simulate(n,t.target,e.event.fix(t))};e.event.special[n]={setup:function(){var e=this.ownerDocument||this.document||this,a=t.access(e,n);a||e.addEventListener(r,i,!0),t.access(e,n,(a||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,a=t.access(e,n)-1;a?t.access(e,n,a):(e.removeEventListener(r,i,!0),t.remove(e,n))}}})),e}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(10)],void 0===(i=function(e){"use strict";return e.focusin="onfocusin"in window,e}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(12)],void 0===(i=function(e){"use strict";return e._evalUrl=function(t,r,n){return e.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){e.globalEval(t,r,n)}})},e._evalUrl}.apply(t,n))||(e.exports=i)},function(e,t,r){var n;void 0===(n=function(){"use strict";return window.location}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n,i;n=[r(0),r(2),r(6),r(26),r(14)],void 0===(i=function(e,t){"use strict";return e.fn.extend({wrapAll:function(r){var n;return this[0]&&(t(r)&&(r=r.call(this[0])),n=e(r,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&n.insertBefore(this[0]),n.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(r){return t(r)?this.each((function(t){e(this).wrapInner(r.call(this,t))})):this.each((function(){var t=e(this),n=t.contents();n.length?n.wrapAll(r):t.append(r)}))},wrap:function(r){var n=t(r);return this.each((function(t){e(this).wrapAll(n?r.call(this,t):r)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){e(this).replaceWith(this.childNodes)})),this}}),e}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(4)],void 0===(i=function(e){"use strict";e.expr.pseudos.hidden=function(t){return!e.expr.pseudos.visible(t)},e.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(10),r(12)],void 0===(i=function(e,t){"use strict";e.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest}catch(e){}};var r={0:200,1223:204},n=e.ajaxSettings.xhr();t.cors=!!n&&"withCredentials"in n,t.ajax=n=!!n,e.ajaxTransport((function(e){var i,a;if(t.cors||n&&!e.crossDomain)return{send:function(t,n){var o,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)s[o]=e.xhrFields[o];for(o in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)s.setRequestHeader(o,t[o]);i=function(e){return function(){i&&(i=a=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?n(0,"error"):n(s.status,s.statusText):n(r[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=i(),a=s.onerror=s.ontimeout=i("error"),void 0!==s.onabort?s.onabort=a:s.onreadystatechange=function(){4===s.readyState&&window.setTimeout((function(){i&&a()}))},i=i("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}}))}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(3),r(12)],void 0===(i=function(e,t){"use strict";e.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),e.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return e.globalEval(t),t}}}),e.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),e.ajaxTransport("script",(function(r){var n,i;if(r.crossDomain||r.scriptAttrs)return{send:function(a,o){n=e("<script>").attr(r.scriptAttrs||{}).prop({charset:r.scriptCharset,src:r.url}).on("load error",i=function(e){n.remove(),i=null,e&&o("error"===e.type?404:200,e.type)}),t.head.appendChild(n[0])},abort:function(){i&&i()}}}))}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(2),r(71),r(72),r(12)],void 0===(i=function(e,t,r,n){"use strict";var i=[],a=/(=)\?(?=&|$)|\?\?/;e.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=i.pop()||e.expando+"_"+r.guid++;return this[t]=!0,t}}),e.ajaxPrefilter("json jsonp",(function(r,o,s){var u,l,f,c=!1!==r.jsonp&&(a.test(r.url)?"url":"string"==typeof r.data&&0===(r.contentType||"").indexOf("application/x-www-form-urlencoded")&&a.test(r.data)&&"data");if(c||"jsonp"===r.dataTypes[0])return u=r.jsonpCallback=t(r.jsonpCallback)?r.jsonpCallback():r.jsonpCallback,c?r[c]=r[c].replace(a,"$1"+u):!1!==r.jsonp&&(r.url+=(n.test(r.url)?"&":"?")+r.jsonp+"="+u),r.converters["script json"]=function(){return f||e.error(u+" was not called"),f[0]},r.dataTypes[0]="json",l=window[u],window[u]=function(){f=arguments},s.always((function(){void 0===l?e(window).removeProp(u):window[u]=l,r[u]&&(r.jsonpCallback=o.jsonpCallback,i.push(u)),f&&t(l)&&l(f[0]),f=l=void 0})),"script"}))}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(39),r(2),r(75),r(12),r(14),r(26),r(4)],void 0===(i=function(e,t,r){"use strict";e.fn.load=function(n,i,a){var o,s,u,l=this,f=n.indexOf(" ");return f>-1&&(o=t(n.slice(f)),n=n.slice(0,f)),r(i)?(a=i,i=void 0):i&&"object"==typeof i&&(s="POST"),l.length>0&&e.ajax({url:n,type:s||"GET",dataType:"html",data:i}).done((function(t){u=arguments,l.html(o?e("<div>").append(e.parseHTML(t)).find(o):t)})).always(a&&function(e,t){l.each((function(){a.apply(this,u||[e.responseText,t,e])}))}),this}}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(3),r(10)],void 0===(i=function(e,t){"use strict";var r;return t.createHTMLDocument=((r=e.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===r.childNodes.length),t}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(4),r(32)],void 0===(i=function(e){"use strict";e.expr.pseudos.animated=function(t){return e.grep(e.timers,(function(e){return t===e.elem})).length}}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(11),r(25),r(2),r(36),r(67),r(68),r(37),r(18),r(6),r(20),r(4)],void 0===(i=function(e,t,r,n,i,a,o,s,u){"use strict";return e.offset={setOffset:function(t,r,i){var a,o,s,u,l,f,c=e.css(t,"position"),d=e(t),h={};"static"===c&&(t.style.position="relative"),l=d.offset(),s=e.css(t,"top"),f=e.css(t,"left"),("absolute"===c||"fixed"===c)&&(s+f).indexOf("auto")>-1?(u=(a=d.position()).top,o=a.left):(u=parseFloat(s)||0,o=parseFloat(f)||0),n(r)&&(r=r.call(t,i,e.extend({},l))),null!=r.top&&(h.top=r.top-l.top+u),null!=r.left&&(h.left=r.left-l.left+o),"using"in r?r.using.call(t,h):d.css(h)}},e.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(r){e.offset.setOffset(this,t,r)}));var r,n,i=this[0];return i?i.getClientRects().length?(r=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:r.top+n.pageYOffset,left:r.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,r,n,i=this[0],a={top:0,left:0};if("fixed"===e.css(i,"position"))r=i.getBoundingClientRect();else{for(r=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===e.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((a=e(t).offset()).top+=e.css(t,"borderTopWidth",!0),a.left+=e.css(t,"borderLeftWidth",!0))}return{top:r.top-a.top-e.css(i,"marginTop",!0),left:r.left-a.left-e.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===e.css(t,"position");)t=t.offsetParent;return t||r}))}}),e.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(r,n){var i="pageYOffset"===n;e.fn[r]=function(e){return t(this,(function(e,t,r){var a;if(u(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===r)return a?a[n]:e[t];a?a.scrollTo(i?a.pageXOffset:r,i?r:a.pageYOffset):e[t]=r}),r,e,arguments.length)}})),e.each(["top","left"],(function(t,r){e.cssHooks[r]=o(s.pixelPosition,(function(t,n){if(n)return n=a(t,r),i.test(n)?e(t).position()[r]+"px":n}))})),e}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(11),r(18),r(20)],void 0===(i=function(e,t,r){"use strict";return e.each({Height:"height",Width:"width"},(function(n,i){e.each({padding:"inner"+n,content:i,"":"outer"+n},(function(a,o){e.fn[o]=function(s,u){var l=arguments.length&&(a||"boolean"!=typeof s),f=a||(!0===s||!0===u?"margin":"border");return t(this,(function(t,i,a){var s;return r(t)?0===o.indexOf("outer")?t["inner"+n]:t.document.documentElement["client"+n]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+n],s["scroll"+n],t.body["offset"+n],s["offset"+n],s["client"+n])):void 0===a?e.css(t,i,f):e.style(t,i,a,f)}),i,l?s:void 0,l)}}))})),e}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(8),r(19),r(13),r(2),r(18),r(21),r(120),r(121)],void 0===(i=function(e,t,r,n,i,a,o){"use strict";var s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;e.proxy=function(t,r){var n,a,s;if("string"==typeof r&&(n=t[r],r=t,t=n),i(t))return a=o.call(arguments,2),(s=function(){return t.apply(r||this,a.concat(o.call(arguments)))}).guid=t.guid=t.guid||e.guid++,s},e.holdReady=function(t){t?e.readyWait++:e.ready(!0)},e.isArray=Array.isArray,e.parseJSON=JSON.parse,e.nodeName=t,e.isFunction=i,e.isWindow=a,e.camelCase=r,e.type=n,e.now=Date.now,e.isNumeric=function(t){var r=e.type(t);return("number"===r||"string"===r)&&!isNaN(t-parseFloat(t))},e.trim=function(e){return null==e?"":(e+"").replace(s,"")}}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(12),r(16)],void 0===(i=function(e){"use strict";e.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,r){e.fn[r]=function(e){return this.on(r,e)}}))}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0),r(16),r(40)],void 0===(i=function(e){"use strict";e.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),e.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,r){e.fn[r]=function(e,t){return arguments.length>0?this.on(r,null,e,t):this.trigger(r)}}))}.apply(t,n))||(e.exports=i)},function(e,t,r){var n,i;n=[r(0)],void 0===(i=function(r){"use strict";void 0===(i=function(){return r}.apply(t,n=[]))||(e.exports=i)}.apply(t,n))||(e.exports=i)},function(e,t,r){(function(n,i){var a,o;a=[r(0)],void 0===(o=function(e){"use strict";var t=n,r=i;e.noConflict=function(a){return i===e&&(i=r),a&&n===e&&(n=t),e},"undefined"==typeof noGlobal&&(n=i=e)}.apply(t,a))||(e.exports=o)}).call(this,r(1),r(1))},function(e,t,r){(function(e){!function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}var u=r[o]={exports:{}};t[o][0].call(u.exports,(function(e){var r=t[o][1][e];return i(r||e)}),u,u.exports,e,t,r,n)}return r[o].exports}for(var a=!1,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){r.FLACDemuxer=e("./src/demuxer"),r.FLACDecoder=e("./src/decoder"),e("./src/ogg")},{"./src/decoder":2,"./src/demuxer":3,"./src/ogg":4}],2:[function(t,r,n){var i=e,a=i.Decoder.extend((function(){i.Decoder.register("flac",this),this.prototype.setCookie=function(e){this.cookie=e,this.decoded=[];for(var t=0;t<this.format.channelsPerFrame;t++)this.decoded[t]=new Int32Array(e.maxBlockSize);this.lpc_total=new Int32Array(2)};var e=new Int16Array([0,192,576,1152,2304,4608,0,0,256,512,1024,2048,4096,8192,16384,32768]),t=new Int32Array([0,88200,176400,192e3,8e3,16e3,22050,24e3,32e3,44100,48e3,96e3,0,0,0,0]),r=new Int8Array([0,8,12,0,16,20,24,0]);this.prototype.readChunk=function(){var n=this.bitstream;if(n.available(32)){if(32764!=(32767&n.read(15)))throw new Error("Invalid sync code");n.read(1);var i,a=n.read(4),o=n.read(4),s=n.read(4),u=n.read(3);if(n.advance(1),this.chMode=s,s<8)i=s+1,this.chMode=0;else{if(!(s<=10))throw new Error("Invalid channel mode");i=2}if(i!==this.format.channelsPerFrame)throw new Error("Switching channel layout mid-stream not supported.");if(3===u||7===u)throw new Error("Invalid sample size code");if(this.bps=r[u],this.bps!==this.format.bitsPerChannel)throw new Error("Switching bits per sample mid-stream not supported.");for(var l=0;1===n.read(1);)l++;for(var f=n.read(7-l);l>1;l--)n.advance(2),f=f<<6|n.read(6);if(0===a)throw new Error("Reserved blocksize code");if(this.blockSize=6===a?n.read(8)+1:7===a?n.read(16)+1:e[a],o<12)t[o];else if(12===o)1e3*n.read(8);else if(13===o)n.read(16);else{if(14!==o)throw new Error("Invalid sample rate code");10*n.read(16)}n.advance(8);for(var c=0;c<i;c++)this.decodeSubframe(c);n.align(),n.advance(16);var d=this.bps>16,h=new ArrayBuffer(this.blockSize*i*(d?4:2)),p=d?new Int32Array(h):new Int16Array(h),v=this.blockSize,m=this.decoded,g=0;switch(this.chMode){case 0:for(var y=0;y<v;y++)for(c=0;c<i;c++)p[g++]=m[c][y];break;case 8:for(c=0;c<v;c++){var b=m[0][c],_=m[1][c];p[g++]=b,p[g++]=b-_}break;case 9:for(c=0;c<v;c++){b=m[0][c],_=m[1][c];p[g++]=b+_,p[g++]=_}break;case 10:for(c=0;c<v;c++){b=m[0][c];b-=(_=m[1][c])>>1,p[g++]=b+_,p[g++]=b}}return p}},this.prototype.decodeSubframe=function(e){var t=0,r=this.bitstream,n=this.blockSize,i=this.decoded;if(this.curr_bps=this.bps,0===e?9===this.chMode&&this.curr_bps++:8!==this.chMode&&10!==this.chMode||this.curr_bps++,r.read(1))throw new Error("Invalid subframe padding");var a=r.read(6);if(r.read(1)){for(t=1;!r.read(1);)t++;this.curr_bps-=t}if(this.curr_bps>32)throw new Error("decorrelated bit depth > 32 ("+this.curr_bps+")");if(0===a)for(var o=r.read(this.curr_bps,!0),s=0;s<n;s++)i[e][s]=o;else if(1===a){var u=this.curr_bps;for(s=0;s<n;s++)i[e][s]=r.read(u,!0)}else if(a>=8&&a<=12)this.decode_subframe_fixed(e,-9&a);else{if(!(a>=32))throw new Error("Invalid coding type");this.decode_subframe_lpc(e,1+(-33&a))}if(t)for(s=0;s<n;s++)i[e][s]<<=t},this.prototype.decode_subframe_fixed=function(e,t){for(var r=this.decoded[e],n=this.bitstream,i=this.curr_bps,a=0;a<t;a++)r[a]=n.read(i,!0);this.decode_residuals(e,t);var o=0,s=0,u=0,l=0;switch(t>0&&(o=r[t-1]),t>1&&(s=o-r[t-2]),t>2&&(u=s-r[t-2]+r[t-3]),t>3&&(l=u-r[t-2]+2*r[t-3]-r[t-4]),t){case 0:break;case 1:case 2:case 3:case 4:var f=new Int32Array([o,s,u,l]),c=this.blockSize;for(a=t;a<c;a++){f[t-1]+=r[a];for(var d=t-2;d>=0;d--)f[d]+=f[d+1];r[a]=f[0]}break;default:throw new Error("Invalid Predictor Order "+t)}},this.prototype.decode_subframe_lpc=function(e,t){for(var r=this.bitstream,n=this.decoded[e],i=this.curr_bps,o=this.blockSize,s=0;s<t;s++)n[s]=r.read(i,!0);var u=r.read(4)+1;if(16===u)throw new Error("Invalid coefficient precision");var l=r.read(5,!0);if(l<0)throw new Error("Negative qlevel, maybe buggy stream");var f=new Int32Array(32);for(s=0;s<t;s++)f[s]=r.read(u,!0);if(this.decode_residuals(e,t),this.bps<=16){for(s=t;s<o-1;s+=2){for(var c=n[s-t],d=0,h=0,p=0,v=t-1;v>0;v--)d+=(p=f[v])*c,h+=p*(c=n[s-v]);d+=(p=f[0])*c,h+=p*(c=n[s]+=d>>l),n[s+1]+=h>>l}if(s<o){var m=0;for(v=0;v<t;v++)m+=f[v]*n[s-v-1];n[s]+=m>>l}}else{var g=this.lpc_total;for(s=t;s<o;s++){for(g[0]=0,g[1]=0,v=0;v<t;v++)a(g,f[v],n[s-v-1]);n[s]+=g[0]>>>l|g[1]<<32-l}}};var n=Math.pow(2,32);function a(e,t,r){var i=t*r,a=i<0;a&&(i=-i);var o=i%n|0,s=i/n|0;a&&(o=1+~o,s=~s);var u=e[1]>>>16,l=65535&e[1],f=e[0]>>>16,c=0,d=0,h=0,p=0;h+=(p+=(65535&e[0])+(65535&o))>>>16,p&=65535,d+=(h+=f+(o>>>16))>>>16,h&=65535,c+=(d+=l+(65535&s))>>>16,d&=65535,c+=u+(s>>>16),c&=65535,e[0]=h<<16|p,e[1]=c<<16|d}this.prototype.decode_residuals=function(e,t){var r=this.bitstream,n=r.read(2);if(n>1)throw new Error("Illegal residual coding method "+n);var i=r.read(4),a=this.blockSize>>>i;if(t>a)throw new Error("Invalid predictor order "+t+" > "+a);for(var o=this.decoded[e],s=t,u=t,l=0;l<1<<i;l++){var f=r.read(0===n?4:5);if(f===(0===n?15:31))for(f=r.read(5);u<a;u++)o[s++]=r.read(f,!0);else for(;u<a;u++)o[s++]=this.golomb(f,32767,0);u=0}};this.prototype.golomb=function(e,t,r){var n=this.bitstream,i=n.bitPosition,a=n.peek(32-i)<<i,o=0,s=31-function(e){var t=0,r=0;for(;!((r=e>>>24)||(t+=8,255&(r=e>>>16))||(t+=8,255&(r=e>>>8))||(t+=8,255&(r=e)));)return t+=8;240&r?r>>>=4:t+=4;return 8&r?t:4&r?t+1:2&r?t+2:1&r?t+3:t+4}(1|a);if(s-e>=7&&32-s<t)a>>>=s-e,a+=30-s<<e,n.advance(32+e-s),o=a;else{for(var u=0;0===n.read(1);u++)a=n.peek(32-i)<<i;o=u<t-1?(a=e?n.read(e):0)+(u<<e):u===t-1?(a=n.read(r))+1:-1}return o>>1^-(1&o)}}));r.exports=a},{}],3:[function(t,r,n){var i=e,a=i.Demuxer.extend((function(){i.Demuxer.register(this),this.probe=function(e){return"fLaC"===e.peekString(0,4)};this.prototype.readChunk=function(){var e=this.stream;if(!this.readHeader&&e.available(4)){if("fLaC"!==e.readString(4))return this.emit("error","Invalid FLAC file.");this.readHeader=!0}for(;e.available(1)&&!this.last;){if(!this.readBlockHeaders){var t=e.readUInt8();this.last=128==(128&t),this.type=127&t,this.size=e.readUInt24()}if(!this.foundStreamInfo&&0!==this.type)return this.emit("error","STREAMINFO must be the first block");if(!e.available(this.size))return;switch(this.type){case 0:if(this.foundStreamInfo)return this.emit("error","STREAMINFO can only occur once.");if(34!==this.size)return this.emit("error","STREAMINFO size is wrong.");this.foundStreamInfo=!0;var r=new i.Bitstream(e),n={minBlockSize:r.read(16),maxBlockSize:r.read(16),minFrameSize:r.read(24),maxFrameSize:r.read(24)};this.format={formatID:"flac",sampleRate:r.read(20),channelsPerFrame:r.read(3)+1,bitsPerChannel:r.read(5)+1},this.emit("format",this.format),this.emit("cookie",n);var a=r.read(36);this.emit("duration",a/this.format.sampleRate*1e3|0),e.advance(16),this.readBlockHeaders=!1;break;case 3:for(var o=0;o<this.size/18;o++)if(4294967295==e.peekUInt32(0)&&4294967295==e.peekUInt32(1))e.advance(18);else{e.readUInt32()>0&&this.emit("error","Seek points with sample number >UInt32 not supported");var s=e.readUInt32();e.readUInt32()>0&&this.emit("error","Seek points with stream offset >UInt32 not supported");var u=e.readUInt32();e.advance(2),this.addSeekPoint(u,s)}break;case 4:this.metadata||(this.metadata={});var l=e.readUInt32(!0);this.metadata.vendor=e.readString(l);for(var f=e.readUInt32(!0),c=0;c<f;c++){l=e.readUInt32(!0);var d=e.readString(l,"utf8"),h=d.indexOf("=");this.metadata[d.slice(0,h).toLowerCase()]=d.slice(h+1)}break;case 6:if(3!==e.readUInt32())e.advance(this.size-4);else{var p=e.readUInt32(),v=(e.readString(p),e.readUInt32()),m=(e.readString(v),e.readUInt32(),e.readUInt32(),e.readUInt32(),e.readUInt32(),f=e.readUInt32(),e.readBuffer(f));this.metadata||(this.metadata={}),this.metadata.coverArt=m}break;default:e.advance(this.size),this.readBlockHeaders=!1}this.last&&this.metadata&&this.emit("metadata",this.metadata)}for(;e.available(1)&&this.last;){var g=e.readSingleBuffer(e.remainingBytes());this.emit("data",g)}}}));r.exports=a},{}],4:[function(t,r,n){var i=e;try{var a=e.OggDemuxer}catch(e){}a&&a.plugins.push({magic:"FLAC",init:function(){this.list=new i.BufferList,this.stream=new i.Stream(this.list)},readHeaders:function(e){var t=this.stream;if(this.list.append(new i.Buffer(e)),t.advance(5),1!=t.readUInt8())throw new Error("Unsupported FLAC version");if(t.advance(3),"fLaC"!=t.peekString(0,4))throw new Error("Not flac");if(this.flac=i.Demuxer.find(t.peekSingleBuffer(0,t.remainingBytes())),!this.flac)throw new Error("Flac demuxer not found");return this.flac.prototype.readChunk.call(this),!0},readPacket:function(e){this.list.append(new i.Buffer(e)),this.flac.prototype.readChunk.call(this)}})},{}]},{},[1])}).call(this,r(41))},function(e,t,r){(function(e){!function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}var u=r[o]={exports:{}};t[o][0].call(u.exports,(function(e){var r=t[o][1][e];return i(r||e)}),u,u.exports,e,t,r,n)}return r[o].exports}for(var a=!1,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){r.MP3Demuxer=e("./src/demuxer"),r.MP3Decoder=e("./src/decoder")},{"./src/decoder":2,"./src/demuxer":3}],2:[function(t,r,n){(function(n){var i="undefined"!=typeof window?e:void 0!==n?n.AV:null,a=t("./header"),o=t("./stream"),s=t("./frame"),u=t("./synth"),l=(t("./layer1"),t("./layer2"),t("./layer3"),i.Decoder.extend((function(){i.Decoder.register("mp3",this),this.prototype.init=function(){this.mp3_stream=new o(this.bitstream),this.frame=new s,this.synth=new u,this.seeking=!1},this.prototype.readChunk=function(){var e=this.mp3_stream,t=this.frame,r=this.synth;if(this.seeking){for(;;)try{t.decode(e);break}catch(e){if(e instanceof i.UnderflowError)throw e}this.seeking=!1}else t.decode(e);r.frame(t);for(var n=r.pcm.samples,a=r.pcm.channels,o=r.pcm.length,s=new Float32Array(o*a),u=0,l=0;l<o;l++)for(var f=0;f<a;f++)s[u++]=n[f][l];return s},this.prototype.seek=function(e){var t;this.demuxer.seekPoints.length>0?(e=this._super(e),t=this.stream.offset):t=e*this.format.bitrate/8/this.format.sampleRate,this.mp3_stream.reset(t);for(var r=0;r<4096;r++){for(var n=t+r,i=0;i<3;i++){this.mp3_stream.reset(n);try{var o=a.decode(this.mp3_stream)}catch(e){break}var s=o.framesize();if(null==s)break;n+=s}if(3===i)break}return 3!==i&&(r=0),this.mp3_stream.reset(t+r),0===this.demuxer.seekPoints.length&&(e=this.stream.offset/(this.format.bitrate/8)*this.format.sampleRate),this.seeking=!0,e}})));r.exports=l}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./frame":4,"./header":5,"./layer1":9,"./layer2":10,"./layer3":11,"./stream":12,"./synth":13}],3:[function(t,r,n){(function(n){var i="undefined"!=typeof window?e:void 0!==n?n.AV:null,a=t("./id3").ID3v23Stream,o=t("./id3").ID3v22Stream,s=t("./header"),u=t("./stream"),l=i.Demuxer.extend((function(){i.Demuxer.register(this),this.probe=function(e){var t=e.offset,r=l.getID3v2Header(e);r&&e.advance(10+r.length);var n=new u(new i.Bitstream(e)),a=null;try{a=s.decode(n)}catch(e){}return e.seek(t),!!a},this.getID3v2Header=function(e){if("ID3"==e.peekString(0,3)){(e=i.Stream.fromBuffer(e.peekBuffer(0,10))).advance(3);var t=e.readUInt8(),r=e.readUInt8(),n=e.readUInt8(),a=e.readBuffer(4).data;return{version:"2."+t+"."+r,major:t,minor:r,flags:n,length:a[0]<<21|a[1]<<14|a[2]<<7|a[3]}}return null};var e=[[32,17],[17,9]];this.prototype.parseDuration=function(t,r){var n,a=this.stream;if(this.metadata){var o=this.metadata.MPEGLocationLookupTable;if(o){for(var u=new i.Bitstream(i.Stream.fromBuffer(o.data)),l=o.bitsForBytesDeviation+o.bitsForMillisecondsDev,f=0,c=0;u.available(l);){this.addSeekPoint(c,f);var d=u.read(o.bitsForBytesDeviation);u.advance(o.bitsForMillisecondsDev),c+=o.bytesBetweenReference+d,f+=o.framesBetweenReference*t.nbsamples()*32}this.addSeekPoint(c,f)}if(this.metadata.length)return this.emit("duration",parseInt(this.metadata.length,10)),!0}a.offset;if(!t||3!==t.layer)return!1;a.advance(e[t.flags&s.FLAGS.LSF_EXT?1:0][1===t.nchannels()?1:0]);var h=a.readString(4);if("Xing"===h||"Info"===h){var p=a.readUInt32();if(1&p&&(n=a.readUInt32()),2&p)var v=a.readUInt32();if(4&p&&n&&v&&0===this.seekPoints.length)for(var m=0;m<100;m++){var g=a.readUInt8()/256*v|0,y=m/100*(n*t.nbsamples()*32)|0;this.addSeekPoint(g,y)}8&p&&a.advance(4)}else if(a.seek(r+4+32),"VBRI"==(h=a.readString(4))&&1===a.readUInt16()&&(a.advance(4),a.advance(4),n=a.readUInt32(),0===this.seekPoints.length)){var b=a.readUInt16(),_=a.readUInt16(),w=a.readUInt16(),T=a.readUInt16(),E="readUInt"+8*w;for(g=0,m=0;m<b;m++)this.addSeekPoint(g,m*T*t.nbsamples()*32|0),g+=a[E]()*_}return!!n&&(this.emit("duration",n*t.nbsamples()*32/t.samplerate*1e3|0),!0)},this.prototype.readChunk=function(){var e=this.stream;if(!this.sentInfo){var t=l.getID3v2Header(e);if(t&&!this.metadata){if(e.advance(10),t.major>2)var r=new a(t,e);else r=new o(t,e);this.metadata=r.read(),this.emit("metadata",this.metadata),e.seek(10+t.length)}var n=e.offset,f=new u(new i.Bitstream(e)),c=s.decode(f);if(!c)return this.emit("error","Could not find first frame.");this.emit("format",{formatID:"mp3",sampleRate:c.samplerate,channelsPerFrame:c.nchannels(),bitrate:c.bitrate,floatingPoint:!0,layer:c.layer,flags:c.flags});var d=this.parseDuration(c,n);e.advance(n-e.offset),this.dataSize=0,d||this.on("end",(function(){this.emit("duration",8*this.dataSize/c.bitrate*1e3|0)})),this.sentInfo=!0}for(;e.available(1);){var h=e.readSingleBuffer(e.remainingBytes());this.dataSize+=h.length,this.emit("data",h)}}}));r.exports=l}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./header":5,"./id3":7,"./stream":12}],4:[function(e,t,r){var n=e("./header"),i=e("./utils");function a(){this.header=null,this.options=0,this.sbsample=i.makeArray([2,36,32]),this.overlap=i.makeArray([2,32,18]),this.decoders=[]}a.layers=[],a.prototype.decode=function(e){this.header&&this.header.flags&n.FLAGS.INCOMPLETE||(this.header=n.decode(e)),this.header.flags&=~n.FLAGS.INCOMPLETE;var t=this.decoders[this.header.layer-1];if(!t){var r=a.layers[this.header.layer];if(!r)throw new Error("Layer "+this.header.layer+" is not supported.");t=this.decoders[this.header.layer-1]=new r}t.decode(e,this)},t.exports=a},{"./header":5,"./utils":15}],5:[function(t,r,n){(function(t){var n="undefined"!=typeof window?e:void 0!==t?t.AV:null;function i(){this.layer=0,this.mode=0,this.mode_extension=0,this.emphasis=0,this.bitrate=0,this.samplerate=0,this.crc_check=0,this.crc_target=0,this.flags=0,this.private_bits=0}var a=[[0,32e3,64e3,96e3,128e3,16e4,192e3,224e3,256e3,288e3,32e4,352e3,384e3,416e3,448e3],[0,32e3,48e3,56e3,64e3,8e4,96e3,112e3,128e3,16e4,192e3,224e3,256e3,32e4,384e3],[0,32e3,4e4,48e3,56e3,64e3,8e4,96e3,112e3,128e3,16e4,192e3,224e3,256e3,32e4],[0,32e3,48e3,56e3,64e3,8e4,96e3,112e3,128e3,144e3,16e4,176e3,192e3,224e3,256e3],[0,8e3,16e3,24e3,32e3,4e4,48e3,56e3,64e3,8e4,96e3,112e3,128e3,144e3,16e4]],o=[44100,48e3,32e3];i.FLAGS={NPRIVATE_III:7,INCOMPLETE:8,PROTECTION:16,COPYRIGHT:32,ORIGINAL:64,PADDING:128,I_STEREO:256,MS_STEREO:512,FREEFORMAT:1024,LSF_EXT:4096,MC_EXT:8192,MPEG_2_5_EXT:16384};var s=256;i.MODE={SINGLE_CHANNEL:0,DUAL_CHANNEL:1,JOINT_STEREO:2,STEREO:3};i.BUFFER_GUARD=8,i.BUFFER_MDLEN=2559+i.BUFFER_GUARD,i.prototype.copy=function(){var e=new i,t=Object.keys(this);for(var r in t)e[r]=this[r];return e},i.prototype.nchannels=function(){return 0===this.mode?1:2},i.prototype.nbsamples=function(){return 1===this.layer?12:3===this.layer&&this.flags&i.FLAGS.LSF_EXT?18:36},i.prototype.framesize=function(){if(0===this.bitrate)return null;var e=this.flags&i.FLAGS.PADDING?1:0;switch(this.layer){case 1:return 4*((12*this.bitrate/this.samplerate|0)+e);case 2:return(144*this.bitrate/this.samplerate|0)+e;case 3:default:var t=this.flags&i.FLAGS.LSF_EXT?1:0;return(144*this.bitrate/(this.samplerate<<t)|0)+e}},i.prototype.decode=function(e){if(this.flags=0,this.private_bits=0,e.advance(11),0===e.read(1)&&(this.flags|=i.FLAGS.MPEG_2_5_EXT),0===e.read(1))this.flags|=i.FLAGS.LSF_EXT;else if(this.flags&i.FLAGS.MPEG_2_5_EXT)throw new n.UnderflowError;if(this.layer=4-e.read(2),4===this.layer)throw new Error("Invalid layer");0===e.read(1)&&(this.flags|=i.FLAGS.PROTECTION);var t=e.read(4);if(15===t)throw new Error("Invalid bitrate");if(this.flags&i.FLAGS.LSF_EXT?this.bitrate=a[3+(this.layer>>1)][t]:this.bitrate=a[this.layer-1][t],3===(t=e.read(2)))throw new Error("Invalid sampling frequency");this.samplerate=o[t],this.flags&i.FLAGS.LSF_EXT&&(this.samplerate/=2,this.flags&i.FLAGS.MPEG_2_5_EXT&&(this.samplerate/=2)),e.read(1)&&(this.flags|=i.FLAGS.PADDING),e.read(1)&&(this.private_bits|=s),this.mode=3-e.read(2),this.mode_extension=e.read(2),e.read(1)&&(this.flags|=i.FLAGS.COPYRIGHT),e.read(1)&&(this.flags|=i.FLAGS.ORIGINAL),this.emphasis=e.read(2),this.flags&i.FLAGS.PROTECTION&&(this.crc_target=e.read(16))},i.decode=function(e){for(var t=e.next_frame,r=!0,a=null;r;){if(r=!1,e.sync){if(!e.available(i.BUFFER_GUARD))throw e.next_frame=t,new n.UnderflowError;if(255!==e.getU8(t)||224!=(224&e.getU8(t+1)))throw e.this_frame=t,e.next_frame=t+1,new n.UnderflowError}else{if(e.seek(8*t),!e.doSync())throw new n.UnderflowError;t=e.nextByte()}e.this_frame=t,e.next_frame=t+1,e.seek(8*e.this_frame),(a=new i).decode(e),0===a.bitrate&&((0===e.freerate||!e.sync||3===a.layer&&e.freerate>64e4)&&i.free_bitrate(e,a),a.bitrate=e.freerate,a.flags|=i.FLAGS.FREEFORMAT);var o=a.flags&i.FLAGS.PADDING?1:0;if(1===a.layer)var s=4*((12*a.bitrate/a.samplerate<<0)+o);else s=((3===a.layer&&a.flags&i.FLAGS.LSF_EXT?72:144)*a.bitrate/a.samplerate<<0)+o;if(!e.available(s+i.BUFFER_GUARD))throw e.next_frame=e.this_frame,new n.UnderflowError;if(e.next_frame=e.this_frame+s,!e.sync){if(t=e.next_frame,255!==e.getU8(t)||224!=(224&e.getU8(t+1))){t=e.next_frame=e.this_frame+1,r=!0;continue}e.sync=!0}}return a.flags|=i.FLAGS.INCOMPLETE,a},i.free_bitrate=function(e,t){for(var r=t.flags&i.FLAGS.PADDING?1:0,a=3===t.layer&&t.flags&i.FLAGS.LSF_EXT?72:144,o=e.offset(),s=0;e.doSync();){var u=t.copy(),l=e.copy();if(u.decode(l)&&u.layer===t.layer&&u.samplerate===t.samplerate){var f=e.nextByte()-e.this_frame;if((s=1===t.layer?t.samplerate*(f-4*r+4)/48/1e3|0:t.samplerate*(f-r+1)/a/1e3|0)>=8)break}e.advance(8)}if(e.seek(o),s<8||3===t.layer&&s>640)throw new n.UnderflowError;e.freerate=1e3*s},r.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,t,r){var n=function(e,t){return{final:0,ptr:{bits:t,offset:e}}},i=function(e,t,r,n,i){return{final:1,value:{v:e,w:t,x:r,y:n,hlen:i}}},a=[n(16,2),n(20,2),n(24,1),n(26,1),i(0,0,1,0,4),i(0,0,0,1,4),i(0,1,0,0,4),i(1,0,0,0,4),i(0,0,0,0,1),i(0,0,0,0,1),i(0,0,0,0,1),i(0,0,0,0,1),i(0,0,0,0,1),i(0,0,0,0,1),i(0,0,0,0,1),i(0,0,0,0,1),i(1,0,1,1,2),i(1,1,1,1,2),i(1,1,0,1,2),i(1,1,1,0,2),i(0,1,1,1,2),i(0,1,0,1,2),i(1,0,0,1,1),i(1,0,0,1,1),i(0,1,1,0,1),i(0,0,1,1,1),i(1,0,1,0,1),i(1,1,0,0,1)],o=[i(1,1,1,1,4),i(1,1,1,0,4),i(1,1,0,1,4),i(1,1,0,0,4),i(1,0,1,1,4),i(1,0,1,0,4),i(1,0,0,1,4),i(1,0,0,0,4),i(0,1,1,1,4),i(0,1,1,0,4),i(0,1,0,1,4),i(0,1,0,0,4),i(0,0,1,1,4),i(0,0,1,0,4),i(0,0,0,1,4),i(0,0,0,0,4)],s=function(e,t,r){return{final:1,value:{x:e,y:t,hlen:r}}},u=[s(0,0,0)],l=[s(1,1,3),s(0,1,3),s(1,0,2),s(1,0,2),s(0,0,1),s(0,0,1),s(0,0,1),s(0,0,1)],f=[n(8,3),s(1,1,3),s(0,1,3),s(1,0,3),s(0,0,1),s(0,0,1),s(0,0,1),s(0,0,1),s(2,2,3),s(0,2,3),s(1,2,2),s(1,2,2),s(2,1,2),s(2,1,2),s(2,0,2),s(2,0,2)],c=[n(8,3),s(1,0,3),s(1,1,2),s(1,1,2),s(0,1,2),s(0,1,2),s(0,0,2),s(0,0,2),s(2,2,3),s(0,2,3),s(1,2,2),s(1,2,2),s(2,1,2),s(2,1,2),s(2,0,2),s(2,0,2)],d=[n(8,4),s(1,1,3),s(0,1,3),s(1,0,3),s(0,0,1),s(0,0,1),s(0,0,1),s(0,0,1),n(24,1),s(3,2,4),s(3,1,3),s(3,1,3),s(1,3,4),s(0,3,4),s(3,0,4),s(2,2,4),s(1,2,3),s(1,2,3),s(2,1,3),s(2,1,3),s(0,2,3),s(0,2,3),s(2,0,3),s(2,0,3),s(3,3,1),s(2,3,1)],h=[n(16,3),n(24,1),n(26,1),s(1,2,4),s(2,1,4),s(2,0,4),s(0,1,3),s(0,1,3),s(1,1,2),s(1,1,2),s(1,1,2),s(1,1,2),s(1,0,3),s(1,0,3),s(0,0,3),s(0,0,3),s(3,3,3),s(0,3,3),s(2,3,2),s(2,3,2),s(3,2,2),s(3,2,2),s(3,0,2),s(3,0,2),s(1,3,1),s(3,1,1),s(2,2,1),s(0,2,1)],p=[n(16,4),n(32,4),n(48,2),s(1,1,4),s(0,1,3),s(0,1,3),s(1,0,3),s(1,0,3),s(0,0,1),s(0,0,1),s(0,0,1),s(0,0,1),s(0,0,1),s(0,0,1),s(0,0,1),s(0,0,1),n(52,2),n(56,1),n(58,1),s(1,5,4),s(5,1,4),n(60,1),s(5,0,4),n(62,1),s(2,4,4),s(4,2,4),s(1,4,3),s(1,4,3),s(4,1,3),s(4,1,3),s(4,0,3),s(4,0,3),s(0,4,4),s(2,3,4),s(3,2,4),s(0,3,4),s(1,3,3),s(1,3,3),s(3,1,3),s(3,1,3),s(3,0,3),s(3,0,3),s(2,2,3),s(2,2,3),s(1,2,2),s(1,2,2),s(1,2,2),s(1,2,2),s(2,1,1),s(2,1,1),s(0,2,2),s(2,0,2),s(5,5,2),s(4,5,2),s(5,4,2),s(5,3,2),s(3,5,1),s(4,4,1),s(2,5,1),s(5,2,1),s(0,5,1),s(3,4,1),s(4,3,1),s(3,3,1)],v=[n(16,4),n(32,4),s(1,2,4),s(2,1,4),s(1,1,2),s(1,1,2),s(1,1,2),s(1,1,2),s(0,1,3),s(0,1,3),s(1,0,3),s(1,0,3),s(0,0,2),s(0,0,2),s(0,0,2),s(0,0,2),n(48,3),n(56,2),n(60,1),s(1,5,4),s(5,1,4),n(62,1),n(64,1),s(2,4,4),s(4,2,4),s(1,4,4),s(4,1,3),s(4,1,3),s(0,4,4),s(4,0,4),s(2,3,4),s(3,2,4),s(1,3,4),s(3,1,4),s(0,3,4),s(3,0,4),s(2,2,2),s(2,2,2),s(2,2,2),s(2,2,2),s(0,2,2),s(0,2,2),s(0,2,2),s(0,2,2),s(2,0,2),s(2,0,2),s(2,0,2),s(2,0,2),s(5,5,3),s(5,4,3),s(4,5,2),s(4,5,2),s(5,3,1),s(5,3,1),s(5,3,1),s(5,3,1),s(3,5,2),s(4,4,2),s(2,5,1),s(2,5,1),s(5,2,1),s(0,5,1),s(3,4,1),s(4,3,1),s(5,0,1),s(3,3,1)],m=[n(16,4),n(32,3),n(40,2),n(44,2),n(48,1),s(1,2,4),s(2,1,4),s(2,0,4),s(1,1,3),s(1,1,3),s(0,1,3),s(0,1,3),s(1,0,3),s(1,0,3),s(0,0,3),s(0,0,3),n(50,1),s(3,5,4),s(5,3,4),n(52,1),s(4,4,4),s(2,5,4),s(5,2,4),s(1,5,4),s(5,1,3),s(5,1,3),s(3,4,3),s(3,4,3),s(4,3,3),s(4,3,3),s(5,0,4),s(0,4,4),s(2,4,3),s(4,2,3),s(3,3,3),s(4,0,3),s(1,4,2),s(1,4,2),s(4,1,2),s(4,1,2),s(2,3,2),s(3,2,2),s(1,3,1),s(1,3,1),s(3,1,1),s(3,1,1),s(0,3,2),s(3,0,2),s(2,2,1),s(0,2,1),s(5,5,1),s(4,5,1),s(5,4,1),s(0,5,1)],g=[n(16,4),n(32,4),n(48,2),s(1,1,4),s(0,1,3),s(0,1,3),s(1,0,3),s(1,0,3),s(0,0,1),s(0,0,1),s(0,0,1),s(0,0,1),s(0,0,1),s(0,0,1),s(0,0,1),s(0,0,1),n(52,3),n(60,2),n(64,3),n(72,1),n(74,2),n(78,2),n(82,2),s(1,7,4),s(7,1,4),n(86,1),n(88,2),n(92,2),s(1,6,4),s(6,1,4),s(6,0,4),n(96,1),n(98,1),n(100,1),s(1,4,4),s(4,1,4),s(4,0,4),s(2,3,4),s(3,2,4),s(0,3,4),s(1,3,3),s(1,3,3),s(3,1,3),s(3,1,3),s(3,0,3),s(3,0,3),s(2,2,3),s(2,2,3),s(1,2,2),s(2,1,2),s(0,2,2),s(2,0,2),s(7,7,3),s(6,7,3),s(7,6,3),s(5,7,3),s(7,5,3),s(6,6,3),s(4,7,2),s(4,7,2),s(7,4,2),s(5,6,2),s(6,5,2),s(3,7,2),s(7,3,2),s(7,3,2),s(4,6,2),s(4,6,2),s(5,5,3),s(5,4,3),s(6,3,2),s(6,3,2),s(2,7,1),s(7,2,1),s(6,4,2),s(0,7,2),s(7,0,1),s(7,0,1),s(6,2,1),s(6,2,1),s(4,5,2),s(3,5,2),s(0,6,1),s(0,6,1),s(5,3,2),s(4,4,2),s(3,6,1),s(2,6,1),s(2,5,2),s(5,2,2),s(1,5,1),s(1,5,1),s(5,1,1),s(5,1,1),s(3,4,2),s(4,3,2),s(0,5,1),s(5,0,1),s(2,4,1),s(4,2,1),s(3,3,1),s(0,4,1)],y=[n(16,4),n(32,4),n(48,4),n(64,3),s(1,2,4),n(72,1),s(1,1,3),s(1,1,3),s(0,1,3),s(0,1,3),s(1,0,3),s(1,0,3),s(0,0,2),s(0,0,2),s(0,0,2),s(0,0,2),n(74,2),n(78,3),n(86,2),n(90,1),n(92,2),s(2,7,4),s(7,2,4),n(96,1),s(7,1,3),s(7,1,3),s(1,7,4),s(7,0,4),s(3,6,4),s(6,3,4),s(6,0,4),n(98,1),n(100,1),s(1,5,4),s(6,2,3),s(6,2,3),s(2,6,4),s(0,6,4),s(1,6,3),s(1,6,3),s(6,1,3),s(6,1,3),s(5,1,4),s(3,4,4),s(5,0,4),n(102,1),s(2,4,4),s(4,2,4),s(1,4,4),s(4,1,4),s(0,4,4),s(4,0,4),s(2,3,3),s(2,3,3),s(3,2,3),s(3,2,3),s(1,3,2),s(1,3,2),s(1,3,2),s(1,3,2),s(3,1,2),s(3,1,2),s(3,1,2),s(3,1,2),s(0,3,3),s(3,0,3),s(2,2,2),s(2,2,2),s(2,1,1),s(2,1,1),s(2,1,1),s(2,1,1),s(0,2,1),s(2,0,1),s(7,7,2),s(6,7,2),s(7,6,2),s(7,5,2),s(6,6,2),s(6,6,2),s(4,7,2),s(4,7,2),s(7,4,2),s(7,4,2),s(5,7,3),s(5,5,3),s(5,6,2),s(6,5,2),s(3,7,1),s(3,7,1),s(7,3,1),s(4,6,1),s(4,5,2),s(5,4,2),s(3,5,2),s(5,3,2),s(6,4,1),s(0,7,1),s(4,4,1),s(2,5,1),s(5,2,1),s(0,5,1),s(4,3,1),s(3,3,1)],b=[n(16,4),n(32,4),n(48,4),n(64,2),n(68,3),n(76,1),s(1,2,4),s(2,1,4),n(78,1),s(0,0,4),s(1,1,3),s(1,1,3),s(0,1,3),s(0,1,3),s(1,0,3),s(1,0,3),n(80,2),n(84,1),n(86,1),n(88,1),s(5,6,4),s(3,7,4),n(90,1),s(2,7,4),s(7,2,4),s(4,6,4),s(6,4,4),s(1,7,4),s(7,1,4),n(92,1),s(3,6,4),s(6,3,4),s(4,5,4),s(5,4,4),s(4,4,4),n(94,1),s(2,6,3),s(2,6,3),s(6,2,3),s(6,2,3),s(6,1,3),s(6,1,3),s(1,6,4),s(6,0,4),s(3,5,4),s(5,3,4),s(2,5,4),s(5,2,4),s(1,5,3),s(1,5,3),s(5,1,3),s(5,1,3),s(3,4,3),s(3,4,3),s(4,3,3),s(4,3,3),s(5,0,4),s(0,4,4),s(2,4,3),s(2,4,3),s(4,2,3),s(4,2,3),s(1,4,3),s(1,4,3),s(3,3,2),s(4,1,2),s(2,3,2),s(3,2,2),s(4,0,3),s(0,3,3),s(3,0,2),s(3,0,2),s(1,3,1),s(1,3,1),s(1,3,1),s(1,3,1),s(3,1,1),s(2,2,1),s(0,2,1),s(2,0,1),s(7,7,2),s(6,7,2),s(7,6,1),s(7,6,1),s(5,7,1),s(7,5,1),s(6,6,1),s(4,7,1),s(7,4,1),s(6,5,1),s(7,3,1),s(5,5,1),s(0,7,1),s(7,0,1),s(0,6,1),s(0,5,1)],_=[n(16,4),n(32,4),n(48,4),n(64,2),s(1,1,4),s(0,1,4),s(1,0,3),s(1,0,3),s(0,0,1),s(0,0,1),s(0,0,1),s(0,0,1),s(0,0,1),s(0,0,1),s(0,0,1),s(0,0,1),n(68,4),n(84,4),n(100,4),n(116,4),n(132,4),n(148,4),n(164,3),n(172,3),n(180,3),n(188,3),n(196,3),n(204,3),n(212,1),n(214,2),n(218,3),n(226,1),n(228,2),n(232,2),n(236,2),n(240,2),s(8,1,4),n(244,1),n(246,1),n(248,1),n(250,2),n(254,1),s(1,5,4),s(5,1,4),n(256,1),n(258,1),n(260,1),s(1,4,4),s(4,1,3),s(4,1,3),s(0,4,4),s(4,0,4),s(2,3,4),s(3,2,4),s(1,3,3),s(1,3,3),s(3,1,3),s(3,1,3),s(0,3,3),s(0,3,3),s(3,0,3),s(3,0,3),s(2,2,3),s(2,2,3),s(1,2,2),s(2,1,2),s(0,2,2),s(2,0,2),n(262,4),n(278,4),n(294,4),n(310,3),n(318,2),n(322,2),n(326,3),n(334,2),n(338,1),n(340,2),n(344,2),n(348,2),n(352,2),n(356,2),s(1,15,4),s(15,1,4),s(15,0,4),n(360,1),n(362,1),n(364,1),s(14,2,4),n(366,1),s(1,14,4),s(14,1,4),n(368,1),n(370,1),n(372,1),n(374,1),n(376,1),n(378,1),s(12,6,4),s(3,13,4),n(380,1),s(2,13,4),s(13,2,4),s(1,13,4),s(11,7,4),n(382,1),n(384,1),s(12,3,4),n(386,1),s(4,11,4),s(13,1,3),s(13,1,3),s(0,13,4),s(13,0,4),s(8,10,4),s(10,8,4),s(4,12,4),s(12,4,4),s(6,11,4),s(11,6,4),s(3,12,3),s(3,12,3),s(2,12,3),s(2,12,3),s(12,2,3),s(12,2,3),s(5,11,3),s(5,11,3),s(11,5,4),s(8,9,4),s(1,12,3),s(1,12,3),s(12,1,3),s(12,1,3),s(9,8,4),s(0,12,4),s(12,0,3),s(12,0,3),s(11,4,4),s(6,10,4),s(10,6,4),s(7,9,4),s(3,11,3),s(3,11,3),s(11,3,3),s(11,3,3),s(8,8,4),s(5,10,4),s(2,11,3),s(2,11,3),s(10,5,4),s(6,9,4),s(10,4,3),s(10,4,3),s(7,8,4),s(8,7,4),s(9,4,3),s(9,4,3),s(7,7,4),s(7,6,4),s(11,2,2),s(11,2,2),s(11,2,2),s(11,2,2),s(1,11,2),s(1,11,2),s(11,1,2),s(11,1,2),s(0,11,3),s(11,0,3),s(9,6,3),s(4,10,3),s(3,10,3),s(10,3,3),s(5,9,3),s(9,5,3),s(2,10,2),s(2,10,2),s(10,2,2),s(10,2,2),s(1,10,2),s(1,10,2),s(10,1,2),s(10,1,2),s(0,10,3),s(6,8,3),s(10,0,2),s(10,0,2),s(8,6,3),s(4,9,3),s(9,3,2),s(9,3,2),s(3,9,3),s(5,8,3),s(8,5,3),s(6,7,3),s(2,9,2),s(2,9,2),s(9,2,2),s(9,2,2),s(5,7,3),s(7,5,3),s(3,8,2),s(3,8,2),s(8,3,2),s(8,3,2),s(6,6,3),s(4,7,3),s(7,4,3),s(5,6,3),s(6,5,3),s(7,3,3),s(1,9,1),s(9,1,1),s(0,9,2),s(9,0,2),s(4,8,2),s(8,4,2),s(7,2,2),s(7,2,2),s(4,6,3),s(6,4,3),s(2,8,1),s(2,8,1),s(2,8,1),s(2,8,1),s(8,2,1),s(1,8,1),s(3,7,2),s(2,7,2),s(1,7,1),s(1,7,1),s(7,1,1),s(7,1,1),s(5,5,2),s(0,7,2),s(7,0,2),s(3,6,2),s(6,3,2),s(4,5,2),s(5,4,2),s(2,6,2),s(6,2,2),s(3,5,2),s(0,8,1),s(8,0,1),s(1,6,1),s(6,1,1),s(0,6,1),s(6,0,1),s(5,3,2),s(4,4,2),s(2,5,1),s(2,5,1),s(5,2,1),s(0,5,1),s(3,4,1),s(4,3,1),s(5,0,1),s(2,4,1),s(4,2,1),s(3,3,1),n(388,3),s(15,15,4),s(14,15,4),s(13,15,4),s(14,14,4),s(12,15,4),s(13,14,4),s(11,15,4),s(15,11,4),s(12,14,4),s(13,12,4),n(396,1),s(14,12,3),s(14,12,3),s(13,13,3),s(13,13,3),s(15,10,4),s(12,13,4),s(11,14,3),s(11,14,3),s(14,11,3),s(14,11,3),s(9,15,3),s(9,15,3),s(15,9,3),s(15,9,3),s(14,10,3),s(14,10,3),s(11,13,3),s(11,13,3),s(13,11,3),s(13,11,3),s(8,15,3),s(8,15,3),s(15,8,3),s(15,8,3),s(12,12,3),s(12,12,3),s(10,14,4),s(9,14,4),s(8,14,3),s(8,14,3),s(7,15,4),s(7,14,4),s(15,7,2),s(15,7,2),s(15,7,2),s(15,7,2),s(13,10,2),s(13,10,2),s(10,13,3),s(11,12,3),s(12,11,3),s(15,6,3),s(6,15,2),s(6,15,2),s(14,8,2),s(5,15,2),s(9,13,2),s(13,9,2),s(15,5,2),s(14,7,2),s(10,12,2),s(11,11,2),s(4,15,2),s(4,15,2),s(15,4,2),s(15,4,2),s(12,10,3),s(14,6,3),s(15,3,2),s(15,3,2),s(3,15,1),s(3,15,1),s(8,13,2),s(13,8,2),s(2,15,1),s(15,2,1),s(6,14,2),s(9,12,2),s(0,15,1),s(0,15,1),s(12,9,2),s(5,14,2),s(10,11,1),s(10,11,1),s(7,13,2),s(13,7,2),s(4,14,1),s(4,14,1),s(12,8,2),s(13,6,2),s(3,14,1),s(3,14,1),s(11,9,1),s(11,9,1),s(9,11,2),s(10,10,2),s(11,10,1),s(14,5,1),s(14,4,1),s(8,12,1),s(6,13,1),s(14,3,1),s(2,14,1),s(0,14,1),s(14,0,1),s(5,13,1),s(13,5,1),s(7,12,1),s(12,7,1),s(4,13,1),s(8,11,1),s(11,8,1),s(13,4,1),s(9,10,1),s(10,9,1),s(6,12,1),s(13,3,1),s(7,11,1),s(5,12,1),s(12,5,1),s(9,9,1),s(7,10,1),s(10,7,1),s(9,7,1),s(15,14,3),s(15,12,3),s(15,13,2),s(15,13,2),s(14,13,1),s(14,13,1),s(14,13,1),s(14,13,1),s(10,15,1),s(14,9,1)],w=[n(16,4),n(32,4),n(48,4),n(64,4),n(80,4),n(96,3),n(104,3),n(112,2),n(116,1),n(118,1),s(1,1,3),s(1,1,3),s(0,1,4),s(1,0,4),s(0,0,3),s(0,0,3),n(120,4),n(136,4),n(152,4),n(168,4),n(184,4),n(200,3),n(208,3),n(216,4),n(232,3),n(240,3),n(248,3),n(256,3),n(264,2),n(268,3),n(276,3),n(284,2),n(288,2),n(292,2),n(296,2),n(300,2),n(304,2),n(308,2),n(312,2),n(316,2),n(320,1),n(322,1),n(324,1),n(326,2),n(330,1),n(332,1),n(334,2),n(338,1),n(340,1),n(342,1),s(9,1,4),n(344,1),n(346,1),n(348,1),n(350,1),n(352,1),s(2,8,4),s(8,2,4),s(1,8,4),s(8,1,4),n(354,1),n(356,1),n(358,1),n(360,1),s(2,7,4),s(7,2,4),s(6,4,4),s(1,7,4),s(5,5,4),s(7,1,4),n(362,1),s(3,6,4),s(6,3,4),s(4,5,4),s(5,4,4),s(2,6,4),s(6,2,4),s(1,6,4),n(364,1),s(3,5,4),s(6,1,3),s(6,1,3),s(5,3,4),s(4,4,4),s(2,5,3),s(2,5,3),s(5,2,3),s(5,2,3),s(1,5,3),s(1,5,3),s(5,1,3),s(5,1,3),s(0,5,4),s(5,0,4),s(3,4,3),s(3,4,3),s(4,3,3),s(2,4,3),s(4,2,3),s(3,3,3),s(4,1,2),s(4,1,2),s(1,4,3),s(0,4,3),s(2,3,2),s(2,3,2),s(3,2,2),s(3,2,2),s(4,0,3),s(0,3,3),s(1,3,2),s(1,3,2),s(3,1,2),s(3,0,2),s(2,2,1),s(2,2,1),s(1,2,1),s(2,1,1),s(0,2,1),s(2,0,1),n(366,1),n(368,1),s(14,14,4),n(370,1),n(372,1),n(374,1),s(15,11,4),n(376,1),s(13,13,4),s(10,15,4),s(15,10,4),s(11,14,4),s(14,11,4),s(12,13,4),s(13,12,4),s(9,15,4),s(15,9,4),s(14,10,4),s(11,13,4),s(13,11,4),s(8,15,4),s(15,8,4),s(12,12,4),s(9,14,4),s(14,9,4),s(7,15,4),s(15,7,4),s(10,13,4),s(13,10,4),s(11,12,4),s(6,15,4),n(378,1),s(12,11,3),s(12,11,3),s(15,6,3),s(15,6,3),s(8,14,4),s(14,8,4),s(5,15,4),s(9,13,4),s(15,5,3),s(15,5,3),s(7,14,3),s(7,14,3),s(14,7,3),s(14,7,3),s(10,12,3),s(10,12,3),s(12,10,3),s(12,10,3),s(11,11,3),s(11,11,3),s(13,9,4),s(8,13,4),s(4,15,3),s(4,15,3),s(15,4,3),s(15,4,3),s(3,15,3),s(3,15,3),s(15,3,3),s(15,3,3),s(13,8,3),s(13,8,3),s(14,6,3),s(14,6,3),s(2,15,3),s(2,15,3),s(15,2,3),s(15,2,3),s(6,14,4),s(15,0,4),s(1,15,3),s(1,15,3),s(15,1,3),s(15,1,3),s(9,12,3),s(9,12,3),s(12,9,3),s(12,9,3),s(5,14,3),s(10,11,3),s(11,10,3),s(14,5,3),s(7,13,3),s(13,7,3),s(4,14,3),s(14,4,3),s(8,12,3),s(12,8,3),s(3,14,3),s(6,13,3),s(13,6,3),s(14,3,3),s(9,11,3),s(11,9,3),s(2,14,3),s(2,14,3),s(10,10,3),s(10,10,3),s(14,2,3),s(14,2,3),s(1,14,3),s(1,14,3),s(14,1,3),s(14,1,3),s(0,14,4),s(14,0,4),s(5,13,3),s(5,13,3),s(13,5,3),s(13,5,3),s(7,12,3),s(12,7,3),s(4,13,3),s(8,11,3),s(13,4,2),s(13,4,2),s(11,8,3),s(9,10,3),s(10,9,3),s(6,12,3),s(12,6,3),s(3,13,3),s(13,3,2),s(13,3,2),s(13,2,2),s(13,2,2),s(2,13,3),s(0,13,3),s(1,13,2),s(1,13,2),s(7,11,2),s(7,11,2),s(11,7,2),s(11,7,2),s(13,1,2),s(13,1,2),s(5,12,3),s(13,0,3),s(12,5,2),s(12,5,2),s(8,10,2),s(8,10,2),s(10,8,2),s(4,12,2),s(12,4,2),s(6,11,2),s(11,6,2),s(11,6,2),s(9,9,3),s(0,12,3),s(3,12,2),s(3,12,2),s(12,3,2),s(12,3,2),s(7,10,2),s(7,10,2),s(10,7,2),s(10,7,2),s(10,6,2),s(10,6,2),s(12,0,3),s(0,11,3),s(12,2,1),s(12,2,1),s(2,12,2),s(5,11,2),s(11,5,2),s(1,12,2),s(8,9,2),s(9,8,2),s(12,1,2),s(4,11,2),s(11,4,2),s(6,10,2),s(3,11,2),s(7,9,2),s(11,3,1),s(11,3,1),s(9,7,2),s(8,8,2),s(2,11,2),s(5,10,2),s(11,2,1),s(11,2,1),s(10,5,2),s(1,11,2),s(11,1,1),s(11,1,1),s(11,0,2),s(6,9,2),s(9,6,2),s(4,10,2),s(10,4,2),s(7,8,2),s(8,7,2),s(3,10,2),s(10,3,1),s(10,3,1),s(5,9,1),s(9,5,1),s(2,10,1),s(10,2,1),s(1,10,1),s(10,1,1),s(0,10,2),s(10,0,2),s(6,8,1),s(6,8,1),s(8,6,1),s(4,9,1),s(9,4,1),s(3,9,1),s(9,3,1),s(9,3,1),s(7,7,2),s(0,9,2),s(5,8,1),s(8,5,1),s(2,9,1),s(6,7,1),s(7,6,1),s(9,2,1),s(1,9,1),s(9,0,1),s(4,8,1),s(8,4,1),s(5,7,1),s(7,5,1),s(3,8,1),s(8,3,1),s(6,6,1),s(4,7,1),s(7,4,1),s(0,8,1),s(8,0,1),s(5,6,1),s(6,5,1),s(3,7,1),s(7,3,1),s(4,6,1),s(0,7,1),s(7,0,1),s(0,6,1),s(6,0,1),s(15,15,1),s(14,15,1),s(15,14,1),s(13,15,1),s(15,13,1),s(12,15,1),s(15,12,1),s(13,14,1),s(14,13,1),s(11,15,1),s(12,14,1),s(14,12,1),s(10,14,1),s(0,15,1)],T=[n(16,4),n(32,4),n(48,4),n(64,2),s(1,1,4),s(0,1,4),s(1,0,3),s(1,0,3),s(0,0,1),s(0,0,1),s(0,0,1),s(0,0,1),s(0,0,1),s(0,0,1),s(0,0,1),s(0,0,1),n(68,3),n(76,3),n(84,2),s(15,15,4),n(88,2),n(92,1),n(94,4),s(15,2,4),n(110,1),s(1,15,4),s(15,1,4),n(112,4),n(128,4),n(144,4),n(160,4),n(176,4),n(192,4),n(208,3),n(216,3),n(224,3),n(232,3),n(240,3),n(248,3),n(256,3),n(264,2),n(268,2),n(272,1),n(274,2),n(278,2),n(282,1),s(5,1,4),n(284,1),n(286,1),n(288,1),n(290,1),s(1,4,4),s(4,1,4),n(292,1),s(2,3,4),s(3,2,4),s(1,3,3),s(1,3,3),s(3,1,3),s(3,1,3),s(0,3,4),s(3,0,4),s(2,2,3),s(2,2,3),s(1,2,2),s(2,1,2),s(0,2,2),s(2,0,2),s(14,15,3),s(15,14,3),s(13,15,3),s(15,13,3),s(12,15,3),s(15,12,3),s(11,15,3),s(15,11,3),s(10,15,2),s(10,15,2),s(15,10,3),s(9,15,3),s(15,9,3),s(15,8,3),s(8,15,2),s(8,15,2),s(7,15,2),s(15,7,2),s(6,15,2),s(15,6,2),s(5,15,2),s(15,5,2),s(4,15,1),s(4,15,1),s(15,4,1),s(15,3,1),s(15,0,1),s(15,0,1),s(15,0,1),s(15,0,1),s(15,0,1),s(15,0,1),s(15,0,1),s(15,0,1),s(3,15,2),s(3,15,2),s(3,15,2),s(3,15,2),n(294,4),n(310,3),n(318,3),n(326,3),s(2,15,1),s(0,15,1),n(334,2),n(338,2),n(342,2),n(346,1),n(348,2),n(352,2),n(356,1),n(358,2),n(362,2),n(366,2),n(370,2),s(14,3,4),n(374,1),n(376,1),n(378,1),n(380,1),n(382,1),n(384,1),n(386,1),s(0,13,4),n(388,1),n(390,1),n(392,1),s(3,12,4),n(394,1),s(1,12,4),s(12,0,4),n(396,1),s(14,2,3),s(14,2,3),s(2,14,4),s(1,14,4),s(13,3,4),s(2,13,4),s(13,2,4),s(13,1,4),s(3,11,4),n(398,1),s(1,13,3),s(1,13,3),s(12,4,4),s(6,11,4),s(12,3,4),s(10,7,4),s(2,12,3),s(2,12,3),s(12,2,4),s(11,5,4),s(12,1,4),s(0,12,4),s(4,11,4),s(11,4,4),s(6,10,4),s(10,6,4),s(11,3,3),s(11,3,3),s(5,10,4),s(10,5,4),s(2,11,3),s(2,11,3),s(11,2,3),s(11,2,3),s(1,11,3),s(1,11,3),s(11,1,3),s(11,1,3),s(0,11,4),s(11,0,4),s(6,9,4),s(9,6,4),s(4,10,4),s(10,4,4),s(7,8,4),s(8,7,4),s(10,3,3),s(10,3,3),s(3,10,4),s(5,9,4),s(2,10,3),s(2,10,3),s(9,5,4),s(6,8,4),s(10,1,3),s(10,1,3),s(8,6,4),s(7,7,4),s(9,4,3),s(9,4,3),s(4,9,4),s(5,7,4),s(6,7,3),s(6,7,3),s(10,2,2),s(10,2,2),s(10,2,2),s(10,2,2),s(1,10,2),s(1,10,2),s(0,10,3),s(10,0,3),s(3,9,3),s(9,3,3),s(5,8,3),s(8,5,3),s(2,9,2),s(2,9,2),s(9,2,2),s(9,2,2),s(7,6,3),s(0,9,3),s(1,9,2),s(1,9,2),s(9,1,2),s(9,1,2),s(9,0,3),s(4,8,3),s(8,4,3),s(7,5,3),s(3,8,3),s(8,3,3),s(6,6,3),s(2,8,3),s(8,2,2),s(8,2,2),s(4,7,3),s(7,4,3),s(1,8,2),s(1,8,2),s(8,1,2),s(8,1,2),s(8,0,2),s(8,0,2),s(0,8,3),s(5,6,3),s(3,7,2),s(3,7,2),s(7,3,2),s(7,3,2),s(6,5,3),s(4,6,3),s(2,7,2),s(2,7,2),s(7,2,2),s(7,2,2),s(6,4,3),s(5,5,3),s(0,7,2),s(0,7,2),s(1,7,1),s(1,7,1),s(1,7,1),s(1,7,1),s(7,1,1),s(7,1,1),s(7,0,2),s(3,6,2),s(6,3,2),s(4,5,2),s(5,4,2),s(2,6,2),s(6,2,1),s(1,6,1),s(6,1,1),s(6,1,1),s(0,6,2),s(6,0,2),s(5,3,1),s(5,3,1),s(3,5,2),s(4,4,2),s(2,5,1),s(5,2,1),s(1,5,1),s(0,5,1),s(3,4,1),s(4,3,1),s(5,0,1),s(2,4,1),s(4,2,1),s(3,3,1),s(0,4,1),s(4,0,1),s(12,14,4),n(400,1),s(13,14,3),s(13,14,3),s(14,9,3),s(14,9,3),s(14,10,4),s(13,9,4),s(14,14,2),s(14,14,2),s(14,14,2),s(14,14,2),s(14,13,3),s(14,13,3),s(14,11,3),s(14,11,3),s(11,14,2),s(11,14,2),s(12,13,2),s(12,13,2),s(13,12,3),s(13,11,3),s(10,14,2),s(10,14,2),s(12,12,2),s(12,12,2),s(10,13,3),s(13,10,3),s(7,14,3),s(10,12,3),s(12,10,2),s(12,10,2),s(12,9,3),s(7,13,3),s(5,14,2),s(5,14,2),s(11,13,1),s(11,13,1),s(11,13,1),s(11,13,1),s(9,14,1),s(9,14,1),s(11,12,2),s(12,11,2),s(8,14,2),s(14,8,2),s(9,13,2),s(14,7,2),s(11,11,2),s(8,13,2),s(13,8,2),s(6,14,2),s(14,6,1),s(9,12,1),s(10,11,2),s(11,10,2),s(14,5,2),s(13,7,2),s(4,14,1),s(4,14,1),s(14,4,2),s(8,12,2),s(12,8,1),s(3,14,1),s(6,13,1),s(6,13,1),s(13,6,2),s(9,11,2),s(11,9,2),s(10,10,2),s(14,1,1),s(14,1,1),s(13,4,1),s(13,4,1),s(11,8,2),s(10,9,2),s(7,11,1),s(7,11,1),s(11,7,2),s(13,0,2),s(0,14,1),s(14,0,1),s(5,13,1),s(13,5,1),s(7,12,1),s(12,7,1),s(4,13,1),s(8,11,1),s(9,10,1),s(6,12,1),s(12,6,1),s(3,13,1),s(5,12,1),s(12,5,1),s(8,10,1),s(10,8,1),s(9,9,1),s(4,12,1),s(11,6,1),s(7,10,1),s(5,11,1),s(8,9,1),s(9,8,1),s(7,9,1),s(9,7,1),s(8,8,1),s(14,12,1),s(13,13,1)],E=[n(16,4),n(32,4),n(48,4),s(15,15,4),n(64,4),n(80,4),n(96,4),n(112,4),n(128,4),n(144,4),n(160,3),n(168,2),s(1,1,4),s(0,1,4),s(1,0,4),s(0,0,4),s(14,15,4),s(15,14,4),s(13,15,4),s(15,13,4),s(12,15,4),s(15,12,4),s(11,15,4),s(15,11,4),s(15,10,3),s(15,10,3),s(10,15,4),s(9,15,4),s(15,9,3),s(15,9,3),s(15,8,3),s(15,8,3),s(8,15,4),s(7,15,4),s(15,7,3),s(15,7,3),s(6,15,3),s(6,15,3),s(15,6,3),s(15,6,3),s(5,15,3),s(5,15,3),s(15,5,3),s(15,5,3),s(4,15,3),s(4,15,3),s(15,4,3),s(15,4,3),s(3,15,3),s(3,15,3),s(15,3,3),s(15,3,3),s(2,15,3),s(2,15,3),s(15,2,3),s(15,2,3),s(15,1,3),s(15,1,3),s(1,15,4),s(15,0,4),n(172,3),n(180,3),n(188,3),n(196,3),n(204,4),n(220,3),n(228,3),n(236,3),n(244,2),n(248,2),n(252,2),n(256,2),n(260,2),n(264,2),n(268,2),n(272,2),n(276,2),n(280,3),n(288,2),n(292,2),n(296,2),n(300,3),n(308,2),n(312,3),n(320,1),n(322,2),n(326,2),n(330,1),n(332,2),n(336,1),n(338,1),n(340,1),n(342,1),n(344,1),n(346,1),n(348,1),n(350,1),n(352,1),n(354,1),n(356,1),n(358,1),n(360,1),n(362,1),n(364,1),n(366,1),n(368,1),n(370,2),n(374,1),n(376,2),s(7,3,4),n(380,1),s(7,2,4),s(4,6,4),s(6,4,4),s(5,5,4),s(7,1,4),s(3,6,4),s(6,3,4),s(4,5,4),s(5,4,4),s(2,6,4),s(6,2,4),s(1,6,4),s(6,1,4),n(382,1),s(3,5,4),s(5,3,4),s(4,4,4),s(2,5,4),s(5,2,4),s(1,5,4),n(384,1),s(5,1,3),s(5,1,3),s(3,4,4),s(4,3,4),s(2,4,3),s(2,4,3),s(4,2,3),s(4,2,3),s(3,3,3),s(3,3,3),s(1,4,3),s(1,4,3),s(4,1,3),s(4,1,3),s(0,4,4),s(4,0,4),s(2,3,3),s(2,3,3),s(3,2,3),s(3,2,3),s(1,3,2),s(1,3,2),s(1,3,2),s(1,3,2),s(3,1,2),s(3,1,2),s(3,1,2),s(3,1,2),s(0,3,3),s(3,0,3),s(2,2,2),s(2,2,2),s(1,2,1),s(1,2,1),s(1,2,1),s(1,2,1),s(2,1,1),s(2,1,1),s(0,2,2),s(2,0,2),s(0,15,1),s(0,15,1),s(0,15,1),s(0,15,1),s(14,14,3),s(13,14,3),s(14,13,3),s(12,14,3),s(14,12,3),s(13,13,3),s(11,14,3),s(14,11,3),s(12,13,3),s(13,12,3),s(10,14,3),s(14,10,3),s(11,13,3),s(13,11,3),s(12,12,3),s(9,14,3),s(14,9,3),s(10,13,3),s(13,10,3),s(11,12,3),s(12,11,3),s(8,14,3),s(14,8,3),s(9,13,3),s(13,9,3),s(7,14,3),s(14,7,3),s(10,12,3),s(12,10,3),s(12,10,3),s(11,11,3),s(11,11,3),s(8,13,3),s(8,13,3),s(13,8,3),s(13,8,3),s(0,14,4),s(14,0,4),s(0,13,3),s(0,13,3),s(14,6,2),s(14,6,2),s(14,6,2),s(14,6,2),s(6,14,3),s(9,12,3),s(12,9,2),s(12,9,2),s(5,14,2),s(5,14,2),s(11,10,2),s(11,10,2),s(14,5,2),s(14,5,2),s(10,11,3),s(7,13,3),s(13,7,2),s(13,7,2),s(14,4,2),s(14,4,2),s(8,12,2),s(8,12,2),s(12,8,2),s(12,8,2),s(4,14,3),s(2,14,3),s(3,14,2),s(3,14,2),s(6,13,2),s(13,6,2),s(14,3,2),s(9,11,2),s(11,9,2),s(10,10,2),s(14,2,2),s(1,14,2),s(14,1,2),s(5,13,2),s(13,5,2),s(7,12,2),s(12,7,2),s(4,13,2),s(8,11,2),s(11,8,2),s(13,4,2),s(9,10,2),s(10,9,2),s(6,12,2),s(12,6,2),s(3,13,2),s(13,3,2),s(2,13,2),s(13,2,2),s(1,13,2),s(7,11,2),s(11,7,2),s(13,1,2),s(5,12,2),s(12,5,2),s(8,10,2),s(10,8,2),s(9,9,2),s(4,12,2),s(12,4,2),s(6,11,2),s(6,11,2),s(11,6,2),s(11,6,2),s(13,0,3),s(0,12,3),s(3,12,2),s(3,12,2),s(12,3,2),s(7,10,2),s(10,7,2),s(2,12,2),s(12,2,2),s(5,11,2),s(11,5,2),s(1,12,2),s(8,9,2),s(9,8,2),s(12,1,2),s(4,11,2),s(12,0,3),s(0,11,3),s(3,11,2),s(3,11,2),s(11,0,3),s(0,10,3),s(1,10,2),s(1,10,2),s(11,4,1),s(11,4,1),s(6,10,2),s(10,6,2),s(7,9,2),s(7,9,2),s(9,7,2),s(9,7,2),s(10,0,3),s(0,9,3),s(9,0,2),s(9,0,2),s(11,3,1),s(8,8,1),s(2,11,2),s(5,10,2),s(11,2,1),s(11,2,1),s(10,5,2),s(1,11,2),s(11,1,2),s(6,9,2),s(9,6,1),s(10,4,1),s(4,10,2),s(7,8,2),s(8,7,1),s(8,7,1),s(3,10,1),s(10,3,1),s(5,9,1),s(9,5,1),s(2,10,1),s(10,2,1),s(10,1,1),s(6,8,1),s(8,6,1),s(7,7,1),s(4,9,1),s(9,4,1),s(3,9,1),s(9,3,1),s(5,8,1),s(8,5,1),s(2,9,1),s(6,7,1),s(7,6,1),s(9,2,1),s(1,9,1),s(9,1,1),s(4,8,1),s(8,4,1),s(5,7,1),s(7,5,1),s(3,8,1),s(8,3,1),s(6,6,1),s(2,8,1),s(8,2,1),s(1,8,1),s(4,7,1),s(7,4,1),s(8,1,1),s(8,1,1),s(0,8,2),s(8,0,2),s(5,6,1),s(6,5,1),s(1,7,1),s(1,7,1),s(0,7,2),s(7,0,2),s(3,7,1),s(2,7,1),s(0,6,1),s(6,0,1),s(0,5,1),s(5,0,1)];function S(e,t,r){this.table=e,this.linbits=t,this.startbits=r}r.huff_quad_table=[a,o],r.huff_pair_table=[new S(u,0,0),new S(l,0,3),new S(f,0,3),new S(c,0,3),null,new S(d,0,3),new S(h,0,4),new S(p,0,4),new S(v,0,4),new S(m,0,4),new S(g,0,4),new S(y,0,4),new S(b,0,4),new S(_,0,4),null,new S(w,0,4),new S(T,1,4),new S(T,2,4),new S(T,3,4),new S(T,4,4),new S(T,6,4),new S(T,8,4),new S(T,10,4),new S(T,13,4),new S(E,4,4),new S(E,5,4),new S(E,6,4),new S(E,7,4),new S(E,8,4),new S(E,9,4),new S(E,11,4),new S(E,13,4)]},{}],7:[function(t,r,n){(function(t){var r="undefined"!=typeof window?e:void 0!==t?t.AV:null,i=["latin1","utf16-bom","utf16-be","utf8"],a=r.Base.extend({constructor:function(e,t){this.header=e,this.stream=t,this.offset=0},read:function(){var e;if(!this.data)for(this.data={};e=this.readFrame();)e.key in this.data?(Array.isArray(this.data[e.key])||(this.data[e.key]=[this.data[e.key]]),this.data[e.key].push(e.value)):this.data[e.key]=e.value;return this.data},readFrame:function(){if(this.offset>=this.header.length)return null;var e=this.readHeader(),t=e.identifier;if(0===e.identifier.charCodeAt(0))return this.offset+=this.header.length+1,null;if(!this.frameTypes[t])for(var r in this.map)if(-1!==this.map[r].indexOf(t)){t=r;break}if(this.frameTypes[t]){var n=this.decodeFrame(e,this.frameTypes[t]),i=Object.keys(n);1===i.length&&(n=n[i[0]]);var a={value:n}}else a={value:this.stream.readBuffer(Math.min(e.length,this.header.length-this.offset))};return a.key=this.names[e.identifier]?this.names[e.identifier]:e.identifier,"coverArt"===a.key&&(a.value=a.value.data),this.offset+=10+e.length,a},decodeFrame:function(e,t){var r=this.stream,n=r.offset,a=0,o={},s=Object.keys(t).length,u=0;for(var l in t){var f=t[l],c=e.length-(r.offset-n);switch(u++,l){case"encoding":a=r.readUInt8();continue;case"language":o.language=r.readString(3);continue}switch(f){case"latin1":o[l]=r.readString(u===s?c:null,"latin1");break;case"string":o[l]=r.readString(u===s?c:null,i[a]);break;case"binary":o[l]=r.readBuffer(c);break;case"int16":o[l]=r.readInt16();break;case"int8":o[l]=r.readInt8();break;case"int24":o[l]=r.readInt24();break;case"int32":o[l]=r.readInt32();break;case"int32+":if(o[l]=r.readInt32(),c>4)throw new Error("Seriously dude? Stop playing this song and get a life!");break;case"date":var d=r.readString(8);o[l]=new Date(d.slice(0,4),d.slice(4,6)-1,d.slice(6,8));break;case"frame_id":o[l]=r.readString(4);break;default:throw new Error("Unknown key type "+f)}}return(c=e.length-(r.offset-n))>0&&r.advance(c),o}});n.ID3v23Stream=a.extend({readHeader:function(){var e=this.stream.readString(4),t=0;if(4===this.header.major)for(var r=0;r<4;r++)t=(t<<7)+(127&this.stream.readUInt8());else t=this.stream.readUInt32();return{identifier:e,length:t,flags:this.stream.readUInt16()}},map:{text:["TIT1","TIT2","TIT3","TALB","TOAL","TRCK","TPOS","TSST","TSRC","TPE1","TPE2","TPE3","TPE4","TOPE","TEXT","TOLY","TCOM","TMCL","TIPL","TENC","TBPM","TLEN","TKEY","TLAN","TCON","TFLT","TMED","TMOO","TCOP","TPRO","TPUB","TOWN","TRSN","TRSO","TOFN","TDLY","TDEN","TDOR","TDRC","TDRL","TDTG","TSSE","TSOA","TSOP","TSOT","TDAT","TIME","TORY","TRDA","TSIZ","TYER","TCMP","TSO2","TSOC"],url:["WCOM","WCOP","WOAF","WOAR","WOAS","WORS","WPAY","WPUB"]},frameTypes:{text:{encoding:1,value:"string"},url:{value:"latin1"},TXXX:{encoding:1,description:"string",value:"string"},WXXX:{encoding:1,description:"string",value:"latin1"},USLT:{encoding:1,language:1,description:"string",value:"string"},COMM:{encoding:1,language:1,description:"string",value:"string"},APIC:{encoding:1,mime:"latin1",type:"int8",description:"string",data:"binary"},UFID:{owner:"latin1",identifier:"binary"},MCDI:{value:"binary"},PRIV:{owner:"latin1",value:"binary"},GEOB:{encoding:1,mime:"latin1",filename:"string",description:"string",data:"binary"},PCNT:{value:"int32+"},POPM:{email:"latin1",rating:"int8",counter:"int32+"},AENC:{owner:"latin1",previewStart:"int16",previewLength:"int16",encryptionInfo:"binary"},ETCO:{format:"int8",data:"binary"},MLLT:{framesBetweenReference:"int16",bytesBetweenReference:"int24",millisecondsBetweenReference:"int24",bitsForBytesDeviation:"int8",bitsForMillisecondsDev:"int8",data:"binary"},SYTC:{format:"int8",tempoData:"binary"},SYLT:{encoding:1,language:1,format:"int8",contentType:"int8",description:"string",data:"binary"},RVA2:{identification:"latin1",data:"binary"},EQU2:{interpolationMethod:"int8",identification:"latin1",data:"binary"},RVRB:{left:"int16",right:"int16",bouncesLeft:"int8",bouncesRight:"int8",feedbackLL:"int8",feedbackLR:"int8",feedbackRR:"int8",feedbackRL:"int8",premixLR:"int8",premixRL:"int8"},RBUF:{size:"int24",flag:"int8",offset:"int32"},LINK:{identifier:"frame_id",url:"latin1",data:"binary"},POSS:{format:"int8",position:"binary"},USER:{encoding:1,language:1,value:"string"},OWNE:{encoding:1,price:"latin1",purchaseDate:"date",seller:"string"},COMR:{encoding:1,price:"latin1",validUntil:"date",contactURL:"latin1",receivedAs:"int8",seller:"string",description:"string",logoMime:"latin1",logo:"binary"},ENCR:{owner:"latin1",methodSymbol:"int8",data:"binary"},GRID:{owner:"latin1",groupSymbol:"int8",data:"binary"},SIGN:{groupSymbol:"int8",signature:"binary"},SEEK:{value:"int32"},ASPI:{dataStart:"int32",dataLength:"int32",numPoints:"int16",bitsPerPoint:"int8",data:"binary"},IPLS:{encoding:1,value:"string"},RVAD:{adjustment:"int8",bits:"int8",data:"binary"},EQUA:{adjustmentBits:"int8",data:"binary"}},names:{TIT1:"grouping",TIT2:"title",TIT3:"subtitle",TALB:"album",TOAL:"originalAlbumTitle",TRCK:"trackNumber",TPOS:"diskNumber",TSST:"setSubtitle",TSRC:"ISRC",TPE1:"artist",TPE2:"albumArtist",TPE3:"conductor",TPE4:"modifiedBy",TOPE:"originalArtist",TEXT:"lyricist",TOLY:"originalLyricist",TCOM:"composer",TMCL:"musicianCreditsList",TIPL:"involvedPeopleList",TENC:"encodedBy",TBPM:"tempo",TLEN:"length",TKEY:"initialKey",TLAN:"language",TCON:"genre",TFLT:"fileType",TMED:"mediaType",TMOO:"mood",TCOP:"copyright",TPRO:"producedNotice",TPUB:"publisher",TOWN:"fileOwner",TRSN:"internetRadioStationName",TRSO:"internetRadioStationOwner",TOFN:"originalFilename",TDLY:"playlistDelay",TDEN:"encodingTime",TDOR:"originalReleaseTime",TDRC:"recordingTime",TDRL:"releaseTime",TDTG:"taggingTime",TSSE:"encodedWith",TSOA:"albumSortOrder",TSOP:"performerSortOrder",TSOT:"titleSortOrder",TXXX:"userText",USLT:"lyrics",APIC:"coverArt",UFID:"uniqueIdentifier",MCDI:"CDIdentifier",COMM:"comments",WCOM:"commercialInformation",WCOP:"copyrightInformation",WOAF:"officialAudioFileWebpage",WOAR:"officialArtistWebpage",WOAS:"officialAudioSourceWebpage",WORS:"officialInternetRadioStationHomepage",WPAY:"payment",WPUB:"officialPublisherWebpage",WXXX:"url",PRIV:"private",GEOB:"generalEncapsulatedObject",PCNT:"playCount",POPM:"rating",AENC:"audioEncryption",ETCO:"eventTimingCodes",MLLT:"MPEGLocationLookupTable",SYTC:"synchronisedTempoCodes",SYLT:"synchronisedLyrics",RVA2:"volumeAdjustment",EQU2:"equalization",RVRB:"reverb",RBUF:"recommendedBufferSize",LINK:"link",POSS:"positionSynchronisation",USER:"termsOfUse",OWNE:"ownership",COMR:"commercial",ENCR:"encryption",GRID:"groupIdentifier",SIGN:"signature",SEEK:"seek",ASPI:"audioSeekPointIndex",TDAT:"date",TIME:"time",TORY:"originalReleaseYear",TRDA:"recordingDates",TSIZ:"size",TYER:"year",IPLS:"involvedPeopleList",RVAD:"volumeAdjustment",EQUA:"equalization",TCMP:"compilation",TSO2:"albumArtistSortOrder",TSOC:"composerSortOrder"}}),n.ID3v22Stream=n.ID3v23Stream.extend({readHeader:function(){var e=this.stream.readString(3);return this.frameReplacements[e]&&!this.frameTypes[e]&&(this.frameTypes[e]=this.frameReplacements[e]),{identifier:this.replacements[e]||e,length:this.stream.readUInt24()}},replacements:{UFI:"UFID",TT1:"TIT1",TT2:"TIT2",TT3:"TIT3",TP1:"TPE1",TP2:"TPE2",TP3:"TPE3",TP4:"TPE4",TCM:"TCOM",TXT:"TEXT",TLA:"TLAN",TCO:"TCON",TAL:"TALB",TPA:"TPOS",TRK:"TRCK",TRC:"TSRC",TYE:"TYER",TDA:"TDAT",TIM:"TIME",TRD:"TRDA",TMT:"TMED",TFT:"TFLT",TBP:"TBPM",TCR:"TCOP",TPB:"TPUB",TEN:"TENC",TSS:"TSSE",TOF:"TOFN",TLE:"TLEN",TSI:"TSIZ",TDY:"TDLY",TKE:"TKEY",TOT:"TOAL",TOA:"TOPE",TOL:"TOLY",TOR:"TORY",TXX:"TXXX",WAF:"WOAF",WAR:"WOAR",WAS:"WOAS",WCM:"WCOM",WCP:"WCOP",WPB:"WPUB",WXX:"WXXX",IPL:"IPLS",MCI:"MCDI",ETC:"ETCO",MLL:"MLLT",STC:"SYTC",ULT:"USLT",SLT:"SYLT",COM:"COMM",RVA:"RVAD",EQU:"EQUA",REV:"RVRB",GEO:"GEOB",CNT:"PCNT",POP:"POPM",BUF:"RBUF",CRA:"AENC",LNK:"LINK",TST:"TSOT",TSP:"TSOP",TSA:"TSOA",TCP:"TCMP",TS2:"TSO2",TSC:"TSOC"},frameReplacements:{PIC:{encoding:1,format:"int24",type:"int8",description:"string",data:"binary"},CRM:{owner:"latin1",description:"latin1",data:"binary"}}})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t,r){function n(){this.tmp_imdct36=new Float64Array(18),this.tmp_dctIV=new Float64Array(18),this.tmp_sdctII=new Float64Array(9)}n.prototype.imdct36=function(e,t){var r=this.tmp_imdct36;this.dctIV(e,r);for(var n=0;n<9;++n)t[n]=r[9+n];for(n=9;n<27;++n)t[n]=-r[36-(9+n)-1];for(n=27;n<36;++n)t[n]=-r[n-27]};var i=[];for(o=0;o<18;o++)i[o]=2*Math.cos(Math.PI*(2*o+1)/72);n.prototype.dctIV=function(e,t){for(var r=this.tmp_dctIV,n=0;n<18;++n)r[n]=e[n]*i[n];this.sdctII(r,t),t[0]/=2;for(n=1;n<18;++n)t[n]=t[n]/2-t[n-1]};for(var a=[],o=0;o<9;++o)a[o]=2*Math.cos(Math.PI*(2*o+1)/36);n.prototype.sdctII=function(e,t){for(var r=this.tmp_sdctII,n=0;n<9;++n)r[n]=e[n]+e[18-n-1];p(r,t,0);for(n=0;n<9;++n)r[n]=(e[n]-e[18-n-1])*a[n];p(r,t,1);for(n=3;n<18;n+=2)t[n]-=t[n-2]};var s=2*Math.cos(1*Math.PI/18),u=2*Math.cos(3*Math.PI/18),l=2*Math.cos(4*Math.PI/18),f=2*Math.cos(5*Math.PI/18),c=2*Math.cos(7*Math.PI/18),d=2*Math.cos(8*Math.PI/18),h=2*Math.cos(16*Math.PI/18);function p(e,t,r){var n,i,a,o,p,v,m,g,y,b,_,w,T,E,S,A,x,k,L,R,C,I,O,D,P;n=e[3]+e[5],i=e[3]-e[5],a=e[6]+e[2],o=e[6]-e[2],p=e[1]+e[7],v=e[1]-e[7],m=e[8]+e[0],g=e[8]-e[0],y=n+a+m,k=(i+o)*-f,L=(i-g)*-s,R=(o+g)*-c,C=(i-o+g)*-u,I=v*-u,O=(a-m)*-h,D=(n-m)*-d,P=(n-a)*-l,b=e[4]+p,w=(_=2*e[4]-p)+O,T=_-O,E=_+D,S=I+R,A=I-R,x=I+L,t[r+0]=b+y,t[r+2]=k-x,t[r+4]=P-w,t[r+6]=C,t[r+8]=T-D,t[r+10]=A-L,t[r+12]=y-2*b,t[r+14]=S+k,t[r+16]=E+P}n.S=[[.608761429,-.923879533,-.130526192,.991444861,-.382683432,-.79335334],[-.79335334,.382683432,.991444861,.130526192,-.923879533,-.608761429],[.382683432,-.923879533,.923879533,-.382683432,-.382683432,.923879533],[-.923879533,-.382683432,.382683432,.923879533,.923879533,.382683432],[.130526192,-.382683432,.608761429,-.79335334,.923879533,-.991444861],[-.991444861,-.923879533,-.79335334,-.608761429,-.382683432,-.130526192]],t.exports=n},{}],9:[function(e,t,r){var n=e("./tables"),i=e("./header"),a=e("./frame"),o=e("./utils");function s(){this.allocation=o.makeArray([2,32],Uint8Array),this.scalefactor=o.makeArray([2,32],Uint8Array)}a.layers[1]=s;var u=new Float32Array([1.33333333333333,1.14285714285714,1.06666666666667,1.03225806451613,1.01587301587302,1.00787401574803,1.00392156862745,1.00195694716243,1.00097751710655,1.00048851978505,1.0002442002442,1.00012208521548,1.00006103888177,1.00003051850948]);s.prototype.decode=function(e,t){var r=t.header,a=r.nchannels(),o=32;r.mode===i.MODE.JOINT_STEREO&&(r.flags|=i.FLAGS.I_STEREO,o=4+4*r.mode_extension),r.flags,i.FLAGS.PROTECTION;for(var s=this.allocation,u=0;u<o;u++)for(var l=0;l<a;l++){if(15===(d=e.read(4)))throw new Error("forbidden bit allocation value");s[l][u]=d?d+1:0}for(u=o;u<32;u++){if(15===(d=e.read(4)))throw new Error("forbidden bit allocation value");s[0][u]=s[1][u]=d?d+1:0}var f=this.scalefactor;for(u=0;u<32;u++)for(l=0;l<a;l++)s[l][u]&&(f[l][u]=e.read(6));for(var c=0;c<12;c++){for(u=0;u<o;u++)for(l=0;l<a;l++){var d=s[l][u];t.sbsample[l][c][u]=d?this.sample(e,d)*n.SF_TABLE[f[l][u]]:0}for(u=o;u<32;u++){if(d=s[0][u]){var h=this.sample(e,d);for(l=0;l<a;l++)t.sbsample[l][c][u]=h*n.SF_TABLE[f[l][u]]}else for(l=0;l<a;l++)t.sbsample[l][c][u]=0}}},s.prototype.sample=function(e,t){var r=e.read(t);return r^=1<<t-1,r|=-(r&1<<t-1),r/=1<<t-1,(r+=1>>t-1)*u[t-2]},t.exports=s},{"./frame":4,"./header":5,"./tables":14,"./utils":15}],10:[function(e,t,r){var n=e("./tables"),i=e("./header"),a=e("./frame"),o=e("./utils");function s(){this.samples=new Float64Array(3),this.allocation=o.makeArray([2,32],Uint8Array),this.scfsi=o.makeArray([2,32],Uint8Array),this.scalefactor=o.makeArray([2,32,3],Uint8Array)}a.layers[2]=s;var u=[{sblimit:27,offsets:[7,7,7,6,6,6,6,6,6,6,6,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0]},{sblimit:30,offsets:[7,7,7,6,6,6,6,6,6,6,6,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0]},{sblimit:8,offsets:[5,5,2,2,2,2,2,2]},{sblimit:12,offsets:[5,5,2,2,2,2,2,2,2,2,2,2]},{sblimit:30,offsets:[4,4,4,4,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}],l=[{nbal:2,offset:0},{nbal:2,offset:3},{nbal:3,offset:3},{nbal:3,offset:1},{nbal:4,offset:2},{nbal:4,offset:3},{nbal:4,offset:4},{nbal:4,offset:5}],f=[[0,1,16],[0,1,2,3,4,5,16],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],[0,1,3,4,5,6,7,8,9,10,11,12,13,14,15],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,16],[0,2,4,5,6,7,8,9,10,11,12,13,14,15,16]],c=[{nlevels:3,group:2,bits:5,C:1.33333333333,D:.5},{nlevels:5,group:3,bits:7,C:1.6,D:.5},{nlevels:7,group:0,bits:3,C:1.14285714286,D:.25},{nlevels:9,group:4,bits:10,C:1.77777777777,D:.5},{nlevels:15,group:0,bits:4,C:1.06666666666,D:.125},{nlevels:31,group:0,bits:5,C:1.03225806452,D:.0625},{nlevels:63,group:0,bits:6,C:1.01587301587,D:.03125},{nlevels:127,group:0,bits:7,C:1.00787401575,D:.015625},{nlevels:255,group:0,bits:8,C:1.00392156863,D:.0078125},{nlevels:511,group:0,bits:9,C:1.00195694716,D:.00390625},{nlevels:1023,group:0,bits:10,C:1.00097751711,D:.001953125},{nlevels:2047,group:0,bits:11,C:1.00048851979,D:.0009765625},{nlevels:4095,group:0,bits:12,C:1.00024420024,D:.00048828125},{nlevels:8191,group:0,bits:13,C:1.00012208522,D:.00024414063},{nlevels:16383,group:0,bits:14,C:1.00006103888,D:.00012207031},{nlevels:32767,group:0,bits:15,C:1.00003051851,D:6103516e-11},{nlevels:65535,group:0,bits:16,C:1.00001525902,D:3051758e-11}];s.prototype.decode=function(e,t){var r,a=t.header,o=a.nchannels();if(a.flags&i.FLAGS.LSF_EXT)r=4;else if(a.flags&i.FLAGS.FREEFORMAT)r=48e3===a.samplerate?0:1;else{var s=a.bitrate;if(2===o)s/=2;else if(s>192e3)throw new Error("bad bitrate/mode combination");r=s<=48e3?32e3===a.samplerate?3:2:s<=8e4||48e3===a.samplerate?0:1}var d=u[r].sblimit,h=u[r].offsets,p=32;a.mode===i.MODE.JOINT_STEREO&&(a.flags|=i.FLAGS.I_STEREO,p=4+4*a.mode_extension),p>d&&(p=d);for(var v=this.allocation,m=0;m<p;m++)for(var g=l[h[m]].nbal,y=0;y<o;y++)v[y][m]=e.read(g);for(m=p;m<d;m++){g=l[h[m]].nbal;v[0][m]=v[1][m]=e.read(g)}var b=this.scfsi;for(m=0;m<d;m++)for(y=0;y<o;y++)v[y][m]&&(b[y][m]=e.read(2));a.flags,i.FLAGS.PROTECTION;var _=this.scalefactor;for(m=0;m<d;m++)for(y=0;y<o;y++)if(v[y][m]){switch(_[y][m][0]=e.read(6),b[y][m]){case 2:_[y][m][2]=_[y][m][1]=_[y][m][0];break;case 0:_[y][m][1]=e.read(6);case 1:case 3:_[y][m][2]=e.read(6)}1&b[y][m]&&(_[y][m][1]=_[y][m][b[y][m]-1])}for(var w=0;w<12;w++){for(m=0;m<p;m++)for(y=0;y<o;y++)if(r=v[y][m]){r=f[l[h[m]].offset][r-1],this.decodeSamples(e,c[r]);for(var T=n.SF_TABLE[_[y][m][w>>2]],E=0;E<3;E++)t.sbsample[y][3*w+E][m]=this.samples[E]*T}else for(E=0;E<3;E++)t.sbsample[y][3*w+E][m]=0;for(m=p;m<d;m++)if(r=v[0][m]){r=f[l[h[m]].offset][r-1],this.decodeSamples(e,c[r]);for(y=0;y<o;y++)for(T=n.SF_TABLE[_[y][m][w>>2]],E=0;E<3;E++)t.sbsample[y][3*w+E][m]=this.samples[E]*T}else for(y=0;y<o;y++)for(E=0;E<3;E++)t.sbsample[y][3*w+E][m]=0;for(y=0;y<o;y++)for(E=0;E<3;E++)for(m=d;m<32;m++)t.sbsample[y][3*w+E][m]=0}},s.prototype.decodeSamples=function(e,t){var r=this.samples,n=t.group;if(n)for(var i=e.read(t.bits),a=t.nlevels,o=0;o<3;o++)r[o]=i%a,i=i/a|0;else{n=t.bits;for(o=0;o<3;o++)r[o]=e.read(n)}for(o=0;o<3;o++){var s=r[o]^1<<n-1;s|=-(s&1<<n-1),s/=1<<n-1,r[o]=(s+t.D)*t.C}},t.exports=s},{"./frame":4,"./header":5,"./tables":14,"./utils":15}],11:[function(t,r,n){(function(n){var i="undefined"!=typeof window?e:void 0!==n?n.AV:null,a=t("./tables"),o=t("./header"),s=t("./frame"),u=t("./huffman"),l=t("./imdct"),c=t("./utils");function d(){this.main_data_begin=null,this.private_bits=null,this.gr=[new h,new h],this.scfsi=new Uint8Array(2)}function h(){this.ch=[new p,new p]}function p(){this.part2_3_length=null,this.big_values=null,this.global_gain=null,this.scalefac_compress=null,this.flags=null,this.block_type=null,this.table_select=new Uint8Array(3),this.subblock_gain=new Uint8Array(3),this.region0_count=null,this.region1_count=null,this.scalefac=new Uint8Array(39)}function v(){this.imdct=new l,this.si=new d,this.xr=[new Float64Array(576),new Float64Array(576)],this._exponents=new Int32Array(39),this.reqcache=new Float64Array(16),this.modes=new Int16Array(39),this.output=new Float64Array(36),this.tmp=c.makeArray([32,3,6]),this.tmp2=new Float64Array(576)}s.layers[3]=v,v.prototype.decode=function(e,t){var r=t.header,n=0,a=r.nchannels(),s=r.flags&o.FLAGS.LSF_EXT?1===a?9:17:1===a?17:32;if(e.next_frame-e.nextByte()<s)throw e.md_len=0,new Error("Bad frame length");r.flags,o.FLAGS.PROTECTION;var u=this.sideInfo(e,a,r.flags&o.FLAGS.LSF_EXT),l=u.si,f=(u.data_bitlen,u.priv_bitlen);r.flags|=f,r.private_bits|=l.private_bits;var c=e.copy();c.seek(8*e.next_frame);var d=c.read(16);65506==(65510&d)&&(0==(1&d)&&c.advance(16),c.advance(16),n=c.read(8&d?9:8));var h=e.next_frame-e.nextByte();n>l.main_data_begin+h&&(n=0);var p,v=l.main_data_begin+h-n,m=0;if(0===l.main_data_begin)p=e.stream,e.md_len=0,m=v;else{if(l.main_data_begin>e.md_len)throw new Error("bad main_data_begin pointer");var g=e.md_len;if(v>l.main_data_begin){if(e.md_len+v-l.main_data_begin>o.BUFFER_MDLEN)throw new Error("Assertion failed: (stream.md_len + md_len - si.main_data_begin <= MAD_MP3FrameHeader.BUFFER_MDLEN)");m=v-l.main_data_begin,this.memcpy(e.main_data,e.md_len,e.stream.stream,e.nextByte(),m),e.md_len+=m}(p=new i.Bitstream(i.Stream.fromBuffer(new i.Buffer(e.main_data)))).advance(8*(g-l.main_data_begin))}var y=h-m;if(this.decodeMainData(p,t,l,a),y>=n)this.memcpy(e.main_data,0,e.stream.stream,e.next_frame-n,n),e.md_len=n;else{if(v<l.main_data_begin){var b=l.main_data_begin-v;b+y>n&&(b=n-y),b<e.md_len&&(this.memcpy(e.main_data,0,e.main_data,e.md_len-b,b),e.md_len=b)}else e.md_len=0;this.memcpy(e.main_data,e.md_len,e.stream.stream,e.next_frame-y,y),e.md_len+=y}},v.prototype.memcpy=function(e,t,r,n,i){var a;return a=r.subarray?r.subarray(n,n+i):r.peekBuffer(n-r.offset,i).data,e.set(a,t),e},v.prototype.sideInfo=function(e,t,r){var n=this.si,i=0,o=r?1===t?1:2:1===t?5:3;n.main_data_begin=e.read(r?8:9),n.private_bits=e.read(o);var s=1;if(!r){s=2;for(var u=0;u<t;++u)n.scfsi[u]=e.read(4)}for(var l=0;l<s;l++){var f=n.gr[l];for(u=0;u<t;u++){var c=f.ch[u];if(c.part2_3_length=e.read(12),c.big_values=e.read(9),c.global_gain=e.read(8),c.scalefac_compress=e.read(r?9:4),i+=c.part2_3_length,c.big_values>288)throw new Error("bad big_values count");if(c.flags=0,e.read(1)){if(c.block_type=e.read(2),0===c.block_type)throw new Error("reserved block_type");if(!r&&2===c.block_type&&n.scfsi[u])throw new Error("bad scalefactor selection info");c.region0_count=7,c.region1_count=36,e.read(1)?c.flags|=a.MIXED_BLOCK_FLAG:2===c.block_type&&(c.region0_count=8);for(var d=0;d<2;d++)c.table_select[d]=e.read(5);for(d=0;d<3;d++)c.subblock_gain[d]=e.read(3)}else{c.block_type=0;for(d=0;d<3;d++)c.table_select[d]=e.read(5);c.region0_count=e.read(4),c.region1_count=e.read(3)}c.flags|=e.read(r?2:3)}}return{si:n,data_bitlen:i,priv_bitlen:o}},v.prototype.decodeMainData=function(e,t,r,n){var i=t.header,s=i.samplerate;i.flags&o.FLAGS.MPEG_2_5_EXT&&(s*=2);var u=(s>>7&15)+(s>>15&1)-8;i.flags&o.FLAGS.MPEG_2_5_EXT&&(u+=3);for(var l=i.flags&o.FLAGS.LSF_EXT?1:2,f=this.xr,c=0;c<l;++c){for(var d=r.gr[c],h=[],p=0,v=0;v<n;++v){var m,g=d.ch[v];h[v]=a.SFBWIDTH_TABLE[u].l,2===g.block_type&&(h[v]=g.flags&a.MIXED_BLOCK_FLAG?a.SFBWIDTH_TABLE[u].m:a.SFBWIDTH_TABLE[u].s),m=i.flags&o.FLAGS.LSF_EXT?this.scalefactors_lsf(e,g,0===v?0:r.gr[1].ch[1],i.mode_extension):this.scalefactors(e,g,r.gr[0].ch[v],0===c?0:r.scfsi[v]),this.huffmanDecode(e,f[v],g,h[v],m)}i.mode===o.MODE.JOINT_STEREO&&0!==i.mode_extension&&this.stereo(f,r.gr,c,i,h[0]);for(v=0;v<n;v++){g=d.ch[v];var y,b=t.sbsample[v].slice(18*c),_=(p=0,this.output);if(2===g.block_type?(this.reorder(f[v],g,h[v]),g.flags&a.MIXED_BLOCK_FLAG&&this.aliasreduce(f[v],36)):this.aliasreduce(f[v],576),2!==g.block_type||g.flags&a.MIXED_BLOCK_FLAG){var w=g.block_type;g.flags&a.MIXED_BLOCK_FLAG&&(w=0);for(var T=0;T<2;++T,p+=18)this.imdct_l(f[v].subarray(p,p+18),_,w),this.overlap(_,t.overlap[v][T],b,T)}else for(T=0;T<2;++T,p+=18)this.imdct_s(f[v].subarray(p,p+18),_),this.overlap(_,t.overlap[v][T],b,T);this.freqinver(b,1);for(var E=576;E>36&&0===f[v][E-1];)--E;if(y=32-((576-E)/18<<0),2!==g.block_type)for(T=2;T<y;++T,p+=18)this.imdct_l(f[v].subarray(p,p+18),_,g.block_type),this.overlap(_,t.overlap[v][T],b,T),1&T&&this.freqinver(b,T);else for(T=2;T<y;++T,p+=18)this.imdct_s(f[v].subarray(p,p+18),_),this.overlap(_,t.overlap[v][T],b,T),1&T&&this.freqinver(b,T);for(T=y;T<32;++T)this.overlap_z(t.overlap[v][T],b,T),1&T&&this.freqinver(b,T)}}},v.prototype.scalefactors=function(e,t,r,n){var i=e.offset(),o=a.SFLEN_TABLE[t.scalefac_compress].slen1,s=a.SFLEN_TABLE[t.scalefac_compress].slen2;if(2===t.block_type){l=0;for(var u=t.flags&a.MIXED_BLOCK_FLAG?17:18;u--;)t.scalefac[l++]=e.read(o);for(u=18;u--;)t.scalefac[l++]=e.read(s);for(u=3;u--;)t.scalefac[l++]=0}else{if(8&n)for(var l=0;l<6;++l)t.scalefac[l]=r.scalefac[l];else for(l=0;l<6;++l)t.scalefac[l]=e.read(o);if(4&n)for(l=6;l<11;++l)t.scalefac[l]=r.scalefac[l];else for(l=6;l<11;++l)t.scalefac[l]=e.read(o);if(2&n)for(l=11;l<16;++l)t.scalefac[l]=r.scalefac[l];else for(l=11;l<16;++l)t.scalefac[l]=e.read(s);if(1&n)for(l=16;l<21;++l)t.scalefac[l]=r.scalefac[l];else for(l=16;l<21;++l)t.scalefac[l]=e.read(s);t.scalefac[21]=0}return e.offset()-i},v.prototype.scalefactors_lsf=function(e,t,r,n){var i,o=e.offset(),s=t.scalefac_compress,u=2===t.block_type?t.flags&a.MIXED_BLOCK_FLAG?2:1:0,l=new Int32Array(4);if(n&a.I_STEREO&&r){(s>>>=1)<180?(l[0]=s/36,l[1]=s%36/6,l[2]=s%36%6,l[3]=0,i=a.NSFB_TABLE[3][u]):s<244?(s-=180,l[0]=s%64>>>4,l[1]=s%16>>>2,l[2]=s%4,l[3]=0,i=a.NSFB_TABLE[4][u]):(s-=244,l[0]=s/3,l[1]=s%3,l[2]=0,l[3]=0,i=a.NSFB_TABLE[5][u]);for(d=0,h=0;h<4;++h){var f=(1<<l[h])-1;for(p=0;p<i[h];++p){var c=e.read(l[h]);t.scalefac[d]=c,r.scalefac[d++]=c===f?1:0}}for(;d<39;)t.scalefac[d]=0,r.scalefac[d++]=0}else{s<400?(l[0]=(s>>>4)/5,l[1]=(s>>>4)%5,l[2]=s%16>>>2,l[3]=s%4,i=a.NSFB_TABLE[0][u]):s<500?(s-=400,l[0]=(s>>>2)/5,l[1]=(s>>>2)%5,l[2]=s%4,l[3]=0,i=a.NSFB_TABLE[1][u]):(s-=500,l[0]=s/3,l[1]=s%3,l[2]=0,l[3]=0,t.flags|=a.PREFLAG,i=a.NSFB_TABLE[2][u]);for(var d=0,h=0;h<4;h++)for(var p=0;p<i[h];p++)t.scalefac[d++]=e.read(l[h]);for(;d<39;)t.scalefac[d++]=0}return e.offset()-o},v.prototype.huffmanDecode=function(e,t,r,n,i){var s=this._exponents,l=0,f=r.part2_3_length-i;if(f<0)throw new Error("bad audio data length");this.exponents(r,n,s);var c=e.copy();e.advance(f);var d=8-c.bitPosition;d+=24-d+7&-8;var h=c.read(d);f-=d;var p=0,v=0,m=this.reqcache,g=p+n[l++],y=r.region0_count+1,b=u.huff_pair_table[r.table_select[v]],_=b.table,w=b.linbits,T=b.startbits;if(void 0===_)throw new Error("bad Huffman table select");for(var E=0,S=s[E++],A=0,x=r.big_values;x--&&d+f>0;){if(p===g){if(g+=n[l++],0==--y&&(y=0===v?r.region1_count+1:0,_=(b=u.huff_pair_table[r.table_select[++v]]).table,w=b.linbits,T=b.startbits,void 0===_))throw new Error("bad Huffman table select");S!==s[E]&&(S=s[E],A=0),++E}if(d<21){var k=21-d+10&-8;h=h<<k|c.read(k),d+=k,f-=k}for(var L=T,R=_[h>>d-L&(1<<L)-1];!R.final;)d-=L,L=R.ptr.bits,R=_[R.ptr.offset+(h>>d-L&(1<<L)-1)];if(d-=R.value.hlen,w){var C=!1;switch(O=R.value.x){case 0:t[p]=0;break;case 15:d<w+2&&(h=h<<16|c.read(16),d+=16,f-=16),O+=h>>d-w&(1<<w)-1,d-=w,D=this.requantize(O,S),C=!0;break;default:A&1<<O?D=m[O]:(A|=1<<O,D=m[O]=this.requantize(O,S)),C=!0}C&&(t[p]=h&1<<d---1?-D:D);var I=!1;switch(O=R.value.y){case 0:t[p+1]=0;break;case 15:d<w+1&&(h=h<<16|c.read(16),d+=16,f-=16),O+=h>>d-w&(1<<w)-1,d-=w,D=this.requantize(O,S),I=!0;break;default:A&1<<O||(A|=1<<O,m[O]=this.requantize(O,S)),D=m[O],I=!0}I&&(t[p+1]=h&1<<d---1?-D:D)}else{var O;0===(O=R.value.x)?t[p]=0:(A&1<<O?D=m[O]:(A|=1<<O,D=m[O]=this.requantize(O,S)),t[p]=h&1<<d---1?-D:D),0===(O=R.value.y)?t[p+1]=0:(A&1<<O?D=m[O]:(A|=1<<O,D=m[O]=this.requantize(O,S)),t[p+1]=h&1<<d---1?-D:D)}p+=2}if(d+f<0)throw new Error("Huffman data overrun");_=u.huff_quad_table[r.flags&a.COUNT1TABLE_SELECT];for(var D=this.requantize(1,S);d+f>0&&p<=572;){d<10&&(h=h<<16|c.read(16),d+=16,f-=16);var P=_[h>>d-4&15];P.final||(d-=4,P=_[P.ptr.offset+(h>>d-P.ptr.bits&(1<<P.ptr.bits)-1)]),d-=P.value.hlen,p===g&&(g+=n[l++],S!==s[E]&&(S=s[E],D=this.requantize(1,S)),++E),t[p]=P.value.v?h&1<<d---1?-D:D:0,t[p+1]=P.value.w?h&1<<d---1?-D:D:0,(p+=2)===g&&(g+=n[l++],S!==s[E]&&(S=s[E],D=this.requantize(1,S)),++E),t[p]=P.value.x?h&1<<d---1?-D:D:0,t[p+1]=P.value.y?h&1<<d---1?-D:D:0,p+=2,d+f<0&&(p-=4)}if(-f>8*o.BUFFER_GUARD)throw new Error("assertion failed: (-bits_left <= MP3FrameHeader.BUFFER_GUARD * CHAR_BIT)");for(;p<576;)t[p]=0,t[p+1]=0,p+=2},v.prototype.requantize=function(e,t){var r=t%4>>0;t=t/4>>0;var n=Math.pow(e,4/3);return n*=Math.pow(2,t/4),r&&(n*=Math.pow(2,r/4)),t<0&&(n/=Math.pow(2,3/4*-t)),n},v.prototype.exponents=function(e,t,r){var n=e.global_gain-210,i=e.flags&a.SCALEFAC_SCALE?2:1;if(2===e.block_type){var o=0,s=0;if(e.flags&a.MIXED_BLOCK_FLAG)for(var u=e.flags&a.PREFLAG?-1:0;s<36;)r[o]=n-(e.scalefac[o]+(a.PRETAB[o]&u)<<i),s+=t[o++];for(var l=n-8*e.subblock_gain[0],f=n-8*e.subblock_gain[1],c=n-8*e.subblock_gain[2];s<576;)r[o+0]=l-(e.scalefac[o+0]<<i),r[o+1]=f-(e.scalefac[o+1]<<i),r[o+2]=c-(e.scalefac[o+2]<<i),s+=3*t[o],o+=3}else if(e.flags&a.PREFLAG)for(o=0;o<22;o++)r[o]=n-(e.scalefac[o]+a.PRETAB[o]<<i);else for(o=0;o<22;o++)r[o]=n-(e.scalefac[o]<<i)},v.prototype.stereo=function(e,t,r,n,i){var s,u,l,f=t[r],c=this.modes;if(f.ch[0].block_type!==f.ch[1].block_type||(f.ch[0].flags&a.MIXED_BLOCK_FLAG)!=(f.ch[1].flags&a.MIXED_BLOCK_FLAG))throw new Error("incompatible stereo block_type");for(var d=0;d<39;d++)c[d]=n.mode_extension;if(n.mode_extension&a.I_STEREO){var h=f.ch[1],p=e[1];if(n.flags|=o.FLAGS.I_STEREO,2===h.block_type){var v,m,g;if(v=m=g=(b=new Uint32Array(3))[0]=b[1]=b[2]=0,s=u=0,h.flags&a.MIXED_BLOCK_FLAG){for(;u<36;){l=i[s++];for(d=0;d<l;++d)if(p[d]){v=s;break}p+=l,u+=l}m=s}for(var y=0;u<576;){for(l=i[s++],d=0;d<l;++d)if(p[d]){g=b[y]=s;break}p+=l,u+=l,y=(y+1)%3}for(g&&(v=m),d=0;d<v;++d)c[d]=n.mode_extension&~a.I_STEREO;for(y=0,d=m;d<g;++d)d<b[y]&&(c[d]=n.mode_extension&~a.I_STEREO),y=(y+1)%3}else{var b=0;for(s=u=0;u<576;u+=l){for(l=i[s++],d=0;d<l;++d)if(p[d]){b=s;break}p+=l}for(d=0;d<b;++d)c[d]=n.mode_extension&~a.I_STEREO}if(n.flags&o.FLAGS.LSF_EXT){var _=t[r+1].ch[1].scalefac,w=IS_Ltables.SF_TABLE[1&h.scalefac_compress];for(s=u=0;u<576;++s,u+=l)if(l=i[s],c[s]&a.I_STEREO)if(_[s])c[s]&=~a.I_STEREO;else for(is_pos=h.scalefac[s],d=0;d<l;++d){var T=e[0][u+d];if(0===is_pos)e[1][u+d]=T;else{var E=T*w[(is_pos-1)/2];1&is_pos?(e[0][u+d]=E,e[1][u+d]=T):e[1][u+d]=E}}}else for(s=u=0;u<576;++s,u+=l)if(l=i[s],c[s]&a.I_STEREO)if(is_pos=h.scalefac[s],is_pos>=7)c[s]&=~a.I_STEREO;else for(d=0;d<l;++d){T=e[0][u+d];e[0][u+d]=T*a.IS_TABLE[is_pos],e[1][u+d]=T*a.IS_TABLE[6-is_pos]}}if(n.mode_extension&a.MS_STEREO){n.flags|=a.MS_STEREO;var S=a.ROOT_TABLE[1];for(s=u=0;u<576;++s,u+=l)if(l=i[s],c[s]===a.MS_STEREO)for(d=0;d<l;++d){var A=e[0][u+d],x=e[1][u+d];e[0][u+d]=(A+x)*S,e[1][u+d]=(A-x)*S}}},v.prototype.aliasreduce=function(e,t){for(var r=18;r<t;r+=18)for(var n=0;n<8;++n){var i=e[r-n-1],o=e[r+n];e[r-n-1]=i*a.CS[n]-o*a.CA[n],e[r+n]=o*a.CS[n]+i*a.CA[n]}},v.prototype.imdct_l=function(e,t,r){switch(this.imdct.imdct36(e,t),r){case 0:for(var n=0;n<36;++n)t[n]=t[n]*a.WINDOW_L[n];break;case 1:for(n=0;n<18;++n)t[n]=t[n]*a.WINDOW_L[n];for(n=24;n<30;++n)t[n]=t[n]*a.WINDOW_S[n-18];for(n=30;n<36;++n)t[n]=0;break;case 3:for(n=0;n<6;++n)t[n]=0;for(n=6;n<12;++n)t[n]=t[n]*a.WINDOW_S[n-6];for(n=18;n<36;++n)t[n]=t[n]*a.WINDOW_L[n]}},v.prototype.imdct_s=function(e,t){for(var r,n=0,i=0,o=new Float64Array(36),s=0;s<3;++s){for(var u=0,f=0;f<3;++f)r=e[i+0]*l.S[u][0]+e[i+1]*l.S[u][1]+e[i+2]*l.S[u][2]+e[i+3]*l.S[u][3]+e[i+4]*l.S[u][4]+e[i+5]*l.S[u][5],o[n+f+0]=r,o[n+5-f]=-o[n+f+0],++u,r=e[i+0]*l.S[u][0]+e[i+1]*l.S[u][1]+e[i+2]*l.S[u][2]+e[i+3]*l.S[u][3]+e[i+4]*l.S[u][4]+e[i+5]*l.S[u][5],o[n+f+6]=r,o[n+11-f]=o[n+f+6],++u;n+=12,i+=6}n=0;var c=0;for(f=0;f<6;++f)t[f+0]=0,t[f+6]=o[n+0+0]*a.WINDOW_S[c+0],r=o[n+0+6]*a.WINDOW_S[c+6]+o[n+12+0]*a.WINDOW_S[c+0],t[f+12]=r,r=o[n+12+6]*a.WINDOW_S[c+6]+o[n+24+0]*a.WINDOW_S[c+0],t[f+18]=r,t[f+24]=o[n+24+6]*a.WINDOW_S[c+6],t[f+30]=0,++n,++c},v.prototype.overlap=function(e,t,r,n){for(var i=0;i<18;++i)r[i][n]=e[i]+t[i],t[i]=e[i+18]},v.prototype.freqinver=function(e,t){for(var r=1;r<18;r+=2)e[r][t]=-e[r][t]},v.prototype.overlap_z=function(e,t,r){for(var n=0;n<18;++n)t[n][r]=e[n],e[n]=0},v.prototype.reorder=function(e,t,r){var n=0,i=this.tmp,o=new Uint32Array(3),s=new Uint32Array(3),u=0;if(t.flags&a.MIXED_BLOCK_FLAG){u=2;for(var l=0;l<36;)l+=r[n++]}for(var c=0;c<3;++c)o[c]=u,s[c]=0;f=r[n++],c=0;for(l=18*u;l<576;++l)0==f--&&(f=r[n++]-1,c=(c+1)%3),i[o[c]][c][s[c]++]=e[l],6===s[c]&&(s[c]=0,++o[c]);for(var d=this.tmp2,h=0,p=0;p<32;p++)for(var v=0;v<3;v++)for(var m=0;m<6;m++)d[h++]=i[p][v][m];var g=576-18*u;for(p=0;p<g;p++)e[18*u+p]=d[u+p]},r.exports=v}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./frame":4,"./header":5,"./huffman":6,"./imdct":8,"./tables":14,"./utils":15}],12:[function(e,t,r){(function(r){"undefined"!=typeof window||void 0!==r&&r.AV;var n=e("./header");function i(e){for(var t in this.stream=e,this.sync=!1,this.freerate=0,this.this_frame=e.stream.offset,this.next_frame=e.stream.offset,this.main_data=new Uint8Array(n.BUFFER_MDLEN),this.md_len=0,e)"function"==typeof e[t]&&(this[t]=e[t].bind(e))}i.prototype.getU8=function(e){var t=this.stream.stream;return t.peekUInt8(e-t.offset)},i.prototype.nextByte=function(){var e=this.stream;return 0===e.bitPosition?e.stream.offset:e.stream.offset+1},i.prototype.doSync=function(){var e=this.stream.stream;for(this.align();this.available(16)&&(255!==e.peekUInt8(0)||224!=(224&e.peekUInt8(1)));)this.advance(8);return!!this.available(n.BUFFER_GUARD)},i.prototype.reset=function(e){this.seek(8*e),this.next_frame=e,this.sync=!0},t.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./header":5}],13:[function(e,t,r){var n=e("./utils");function i(){this.filter=n.makeArray([2,2,2,16,8]),this.phase=0,this.pcm={samplerate:0,channels:0,length:0,samples:[new Float64Array(1152),new Float64Array(1152)]}}var a=.923879533,o=.707106781,s=.382683432;i.dct32=function(e,t,r,n){var i,u,l,f,c,d,h,p,v,m,g,y,b,_,w,T,E,S,A,x,k,L,R,C,I,O,D,P,F,U,M,N,B,j,G,z,W,H,q,V,K,X,Y,$,J,Z,Q,ee,te,re,ne,ie,ae,oe,se,ue,le,fe,ce,de,he,pe,ve,me,ge,ye,be,_e,we,Te,Ee,Se,Ae,xe,ke,Le,Re,Ce,Ie,Oe,De,Pe,Fe,Ue,Me,Ne,Be,je,Ge,ze,We,He,qe,Ve,Ke,Xe,Ye,$e,Je,Ze,Qe,et,tt,rt,nt,it,at,ot,st,ut,lt,ft,ct,dt,ht,pt,vt,mt,gt,yt,bt,_t,wt,Tt,Et,St,At,xt,kt,Lt,Rt,Ct,It,Ot,Dt,Pt,Ft,Ut,Mt,Nt,Bt,jt,Gt,zt,Wt,Ht,qt,Vt,Kt,Xt,Yt,$t,Jt,Zt,Qt,er,tr,rr,nr,ir,ar,or,sr,ur,lr,fr,cr,dr,hr,pr,vr,mr,gr,yr,br,_r,wr;i=e[0]+e[31],E=.998795456*(e[0]-e[31]),u=e[15]+e[16],X=E+(S=.049067674*(e[15]-e[16])),de=.995184727*(E-S),j=i+u,ne=.995184727*(i-u),l=e[7]+e[24],A=.740951125*(e[7]-e[24]),f=e[8]+e[23],Y=A+(x=.671558955*(e[8]-e[23])),he=.09801714*(A-x),G=l+f,ie=.09801714*(l-f),c=e[3]+e[28],k=.941544065*(e[3]-e[28]),d=e[12]+e[19],$=k+(L=.336889853*(e[12]-e[19])),pe=.773010453*(k-L),z=c+d,ae=.773010453*(c-d),h=e[4]+e[27],R=.903989293*(e[4]-e[27]),p=e[11]+e[20],J=R+(C=.427555093*(e[11]-e[20])),ve=.634393284*(R-C),W=h+p,oe=.634393284*(h-p),v=e[1]+e[30],I=.98917651*(e[1]-e[30]),m=e[14]+e[17],Z=I+(O=.146730474*(e[14]-e[17])),me=.956940336*(I-O),H=v+m,se=.956940336*(v-m),g=e[6]+e[25],D=.803207531*(e[6]-e[25]),y=e[9]+e[22],Q=D+(P=.595699304*(e[9]-e[22])),ge=.290284677*(D-P),q=g+y,ue=.290284677*(g-y),b=e[2]+e[29],F=.970031253*(e[2]-e[29]),_=e[13]+e[18],ee=F+(U=.24298018*(e[13]-e[18])),ye=.881921264*(F-U),V=b+_,le=.881921264*(b-_),w=e[5]+e[26],M=.85772861*(e[5]-e[26]),ze=.98078528*(j-G),We=.195090322*(z-W),He=.831469612*(H-q),qe=.555570233*(V-(K=w+(T=e[10]+e[21]))),xe=X+Y,Ke=.98078528*(X-Y),ke=$+J,Xe=.195090322*($-J),Le=Z+Q,Ye=.831469612*(Z-Q),Re=ee+(te=M+(N=.514102744*(e[10]-e[21]))),$e=.555570233*(ee-te),Ie=ne+ie,Qe=.98078528*(ne-ie),Oe=ae+oe,et=.195090322*(ae-oe),De=se+ue,tt=.831469612*(se-ue),Pe=le+(fe=.471396737*(w-T)),rt=.555570233*(le-fe),Ue=de+he,at=.98078528*(de-he),Me=pe+ve,ot=.195090322*(pe-ve),Ne=me+ge,st=.831469612*(me-ge),Be=ye+(be=.471396737*(M-N)),ut=.555570233*(ye-be),dt=(Te=j+G)+(Ee=z+W),ht=(Se=H+q)+(Ae=V+K),n[15][t]=dt+ht,r[0][t]=(dt-ht)*o,B=(pt=xe+ke)+(vt=Le+Re),n[14][t]=B,ce=(gt=Ie+Oe)+(yt=De+Pe),n[13][t]=ce,re=2*(_e=(_t=Ue+Me)+(wt=Ne+Be))-B,n[12][t]=re,Ve=(St=ze+We)+(At=He+qe),n[11][t]=Ve,we=2*(Je=(kt=Ke+Xe)+(Lt=Ye+$e))-re,n[10][t]=we,Fe=2*(nt=(It=Qe+et)+(Ot=tt+rt))-ce,n[9][t]=Fe,Ce=2*(je=2*(lt=(Ft=at+ot)+(Ut=st+ut))-_e)-we,n[8][t]=Ce,zt=(jt=(Te-Ee)*a)+(Gt=(Se-Ae)*s),n[7][t]=zt,r[8][t]=(jt-Gt)*o*2-zt,Ge=2*(qt=(Wt=(xe-ke)*a)+(Ht=(Le-Re)*s))-Ce,n[6][t]=Ge,it=2*(Yt=(Kt=(Ie-Oe)*a)+(Xt=(De-Pe)*s))-Fe,n[5][t]=it,Ze=2*(ft=2*(Qt=(Jt=(Ue-Me)*a)+(Zt=(Ne-Be)*s))-je)-Ge,n[4][t]=Ze,xt=2*(ir=(rr=(ze-We)*a)+(nr=(He-qe)*s))-Ve,n[3][t]=xt,ar=(St-At)*o*2-xt,r[4][t]=ar,r[12][t]=2*((rr-nr)*o*2-ir)-ar,ct=2*(Rt=2*(ur=(or=(Ke-Xe)*a)+(sr=(Ye-$e)*s))-Je)-Ze,n[2][t]=ct,lr=(kt-Lt)*o*2-Rt,bt=2*(Dt=2*(hr=(cr=(Qe-et)*a)+(dr=(tt-rt)*s))-nt)-it,n[1][t]=bt,Pt=(gt-yt)*o*2-bt,r[2][t]=Pt,$t=2*(pr=(It-Ot)*o*2-Dt)-Pt,r[6][t]=$t,vr=2*((Kt-Xt)*o*2-Yt)-$t,r[10][t]=vr,r[14][t]=2*(2*((cr-dr)*o*2-hr)-pr)-vr,Nt=(_t-wt)*o*2-(Tt=2*(Mt=2*(yr=(mr=(at-ot)*a)+(gr=(st-ut)*s))-lt)-ft),mt=2*Tt-ct,n[0][t]=mt,Et=(pt-vt)*o*2-mt,r[1][t]=Et,Ct=2*Nt-Et,r[3][t]=Ct,Bt=2*lr-Ct,r[5][t]=Bt,Vt=2*(er=2*(br=(Ft-Ut)*o*2-Mt)-Nt)-Bt,r[7][t]=Vt,tr=2*((Wt-Ht)*o*2-qt)-Vt,r[9][t]=tr,fr=2*(_r=2*((Jt-Zt)*o*2-Qt)-er)-tr,r[11][t]=fr,wr=2*(2*((or-sr)*o*2-ur)-lr)-fr,r[13][t]=wr,r[15][t]=2*(2*(2*((mr-gr)*o*2-yr)-br)-_r)-wr};var u=[[0,-442505e-9,.003250122,-.007003784,.031082153,-.07862854,.100311279,-.572036743,1.144989014,.572036743,.100311279,.07862854,.031082153,.007003784,.003250122,442505e-9,0,-442505e-9,.003250122,-.007003784,.031082153,-.07862854,.100311279,-.572036743,1.144989014,.572036743,.100311279,.07862854,.031082153,.007003784,.003250122,442505e-9],[-15259e-9,-473022e-9,.003326416,-.007919312,.030517578,-.084182739,.090927124,-.600219727,1.144287109,.543823242,.108856201,.073059082,.031478882,.006118774,.003173828,396729e-9,-15259e-9,-473022e-9,.003326416,-.007919312,.030517578,-.084182739,.090927124,-.600219727,1.144287109,.543823242,.108856201,.073059082,.031478882,.006118774,.003173828,396729e-9],[-15259e-9,-534058e-9,.003387451,-.008865356,.029785156,-.089706421,.080688477,-.628295898,1.142211914,.515609741,.116577148,.067520142,.031738281,.0052948,.003082275,366211e-9,-15259e-9,-534058e-9,.003387451,-.008865356,.029785156,-.089706421,.080688477,-.628295898,1.142211914,.515609741,.116577148,.067520142,.031738281,.0052948,.003082275,366211e-9],[-15259e-9,-579834e-9,.003433228,-.009841919,.028884888,-.095169067,.069595337,-.656219482,1.138763428,.487472534,.123474121,.06199646,.031845093,.004486084,.002990723,320435e-9,-15259e-9,-579834e-9,.003433228,-.009841919,.028884888,-.095169067,.069595337,-.656219482,1.138763428,.487472534,.123474121,.06199646,.031845093,.004486084,.002990723,320435e-9],[-15259e-9,-62561e-8,.003463745,-.010848999,.027801514,-.100540161,.057617187,-.683914185,1.133926392,.459472656,.129577637,.056533813,.031814575,.003723145,.00289917,289917e-9,-15259e-9,-62561e-8,.003463745,-.010848999,.027801514,-.100540161,.057617187,-.683914185,1.133926392,.459472656,.129577637,.056533813,.031814575,.003723145,.00289917,289917e-9],[-15259e-9,-686646e-9,.003479004,-.011886597,.026535034,-.105819702,.044784546,-.71131897,1.127746582,.431655884,.134887695,.051132202,.031661987,.003005981,.002792358,259399e-9,-15259e-9,-686646e-9,.003479004,-.011886597,.026535034,-.105819702,.044784546,-.71131897,1.127746582,.431655884,.134887695,.051132202,.031661987,.003005981,.002792358,259399e-9],[-15259e-9,-747681e-9,.003479004,-.012939453,.025085449,-.110946655,.031082153,-.738372803,1.120223999,.404083252,.139450073,.045837402,.031387329,.002334595,.002685547,244141e-9,-15259e-9,-747681e-9,.003479004,-.012939453,.025085449,-.110946655,.031082153,-.738372803,1.120223999,.404083252,.139450073,.045837402,.031387329,.002334595,.002685547,244141e-9],[-30518e-9,-808716e-9,.003463745,-.014022827,.023422241,-.115921021,.01651001,-.765029907,1.111373901,.376800537,.143264771,.040634155,.031005859,.001693726,.002578735,213623e-9,-30518e-9,-808716e-9,.003463745,-.014022827,.023422241,-.115921021,.01651001,-.765029907,1.111373901,.376800537,.143264771,.040634155,.031005859,.001693726,.002578735,213623e-9],[-30518e-9,-88501e-8,.003417969,-.01512146,.021575928,-.120697021,.001068115,-.791213989,1.101211548,.349868774,.146362305,.035552979,.030532837,.001098633,.002456665,198364e-9,-30518e-9,-88501e-8,.003417969,-.01512146,.021575928,-.120697021,.001068115,-.791213989,1.101211548,.349868774,.146362305,.035552979,.030532837,.001098633,.002456665,198364e-9],[-30518e-9,-961304e-9,.003372192,-.016235352,.01953125,-.125259399,-.015228271,-.816864014,1.089782715,.323318481,.148773193,.030609131,.029937744,549316e-9,.002349854,167847e-9,-30518e-9,-961304e-9,.003372192,-.016235352,.01953125,-.125259399,-.015228271,-.816864014,1.089782715,.323318481,.148773193,.030609131,.029937744,549316e-9,.002349854,167847e-9],[-30518e-9,-.001037598,.00328064,-.017349243,.01725769,-.129562378,-.03237915,-.841949463,1.07711792,.297210693,.150497437,.025817871,.029281616,30518e-9,.002243042,152588e-9,-30518e-9,-.001037598,.00328064,-.017349243,.01725769,-.129562378,-.03237915,-.841949463,1.07711792,.297210693,.150497437,.025817871,.029281616,30518e-9,.002243042,152588e-9],[-45776e-9,-.001113892,.003173828,-.018463135,.014801025,-.133590698,-.050354004,-.866363525,1.063217163,.271591187,.151596069,.021179199,.028533936,-442505e-9,.002120972,137329e-9,-45776e-9,-.001113892,.003173828,-.018463135,.014801025,-.133590698,-.050354004,-.866363525,1.063217163,.271591187,.151596069,.021179199,.028533936,-442505e-9,.002120972,137329e-9],[-45776e-9,-.001205444,.003051758,-.019577026,.012115479,-.137298584,-.069168091,-.890090942,1.048156738,.246505737,.152069092,.016708374,.02772522,-869751e-9,.00201416,12207e-8,-45776e-9,-.001205444,.003051758,-.019577026,.012115479,-.137298584,-.069168091,-.890090942,1.048156738,.246505737,.152069092,.016708374,.02772522,-869751e-9,.00201416,12207e-8],[-61035e-9,-.001296997,.002883911,-.020690918,.009231567,-.140670776,-.088775635,-.91305542,1.031936646,.221984863,.15196228,.012420654,.02684021,-.001266479,.001907349,106812e-9,-61035e-9,-.001296997,.002883911,-.020690918,.009231567,-.140670776,-.088775635,-.91305542,1.031936646,.221984863,.15196228,.012420654,.02684021,-.001266479,.001907349,106812e-9],[-61035e-9,-.00138855,.002700806,-.021789551,.006134033,-.143676758,-.109161377,-.935195923,1.01461792,.198059082,.151306152,.00831604,.025909424,-.001617432,.001785278,106812e-9,-61035e-9,-.00138855,.002700806,-.021789551,.006134033,-.143676758,-.109161377,-.935195923,1.01461792,.198059082,.151306152,.00831604,.025909424,-.001617432,.001785278,106812e-9],[-76294e-9,-.001480103,.002487183,-.022857666,.002822876,-.146255493,-.130310059,-.956481934,.996246338,.174789429,.150115967,.004394531,.024932861,-.001937866,.001693726,91553e-9,-76294e-9,-.001480103,.002487183,-.022857666,.002822876,-.146255493,-.130310059,-.956481934,.996246338,.174789429,.150115967,.004394531,.024932861,-.001937866,.001693726,91553e-9],[-76294e-9,-.001586914,.002227783,-.023910522,-686646e-9,-.148422241,-.152206421,-.976852417,.976852417,.152206421,.148422241,686646e-9,.023910522,-.002227783,.001586914,76294e-9,-76294e-9,-.001586914,.002227783,-.023910522,-686646e-9,-.148422241,-.152206421,-.976852417,.976852417,.152206421,.148422241,686646e-9,.023910522,-.002227783,.001586914,76294e-9]];i.prototype.full=function(e,t,r){for(var n,a,o,s=0;s<t;++s)for(var l=e.sbsample[s],f=this.filter[s],c=this.phase,d=this.pcm.samples[s],h=0,p=0,v=0;v<r;++v){i.dct32(l[v],c>>1,f[0][1&c],f[1][1&c]);var m=-2&c,g=c-1&15|1,y=f[0][1&c],b=f[0][1&~c],_=f[1][1&~c],w=0,T=0;o=u[n=0],_fx=b[0],_fe=y[w],a=_fx[0]*o[g+0],a+=_fx[1]*o[g+14],a+=_fx[2]*o[g+12],a+=_fx[3]*o[g+10],a+=_fx[4]*o[g+8],a+=_fx[5]*o[g+6],a+=_fx[6]*o[g+4],a=-(a+=_fx[7]*o[g+2]),a+=_fe[0]*o[m+0],a+=_fe[1]*o[m+14],a+=_fe[2]*o[m+12],a+=_fe[3]*o[m+10],a+=_fe[4]*o[m+8],a+=_fe[5]*o[m+6],a+=_fe[6]*o[m+4],a+=_fe[7]*o[m+2],d[h++]=a,p=h+30;for(var E=1;E<16;++E)++w,++n,o=u[n],_fo=_[T],_fe=y[w],a=_fo[0]*o[g+0],a+=_fo[1]*o[g+14],a+=_fo[2]*o[g+12],a+=_fo[3]*o[g+10],a+=_fo[4]*o[g+8],a+=_fo[5]*o[g+6],a+=_fo[6]*o[g+4],a=-(a+=_fo[7]*o[g+2]),a+=_fe[7]*o[m+2],a+=_fe[6]*o[m+4],a+=_fe[5]*o[m+6],a+=_fe[4]*o[m+8],a+=_fe[3]*o[m+10],a+=_fe[2]*o[m+12],a+=_fe[1]*o[m+14],a+=_fe[0]*o[m+0],d[h++]=a,a=_fe[0]*o[31-m-16],a+=_fe[1]*o[31-m-14],a+=_fe[2]*o[31-m-12],a+=_fe[3]*o[31-m-10],a+=_fe[4]*o[31-m-8],a+=_fe[5]*o[31-m-6],a+=_fe[6]*o[31-m-4],a+=_fe[7]*o[31-m-2],a+=_fo[7]*o[31-g-2],a+=_fo[6]*o[31-g-4],a+=_fo[5]*o[31-g-6],a+=_fo[4]*o[31-g-8],a+=_fo[3]*o[31-g-10],a+=_fo[2]*o[31-g-12],a+=_fo[1]*o[31-g-14],a+=_fo[0]*o[31-g-16],d[p--]=a,++T;++n,o=u[n],_fo=_[T],a=_fo[0]*o[g+0],a+=_fo[1]*o[g+14],a+=_fo[2]*o[g+12],a+=_fo[3]*o[g+10],a+=_fo[4]*o[g+8],a+=_fo[5]*o[g+6],a+=_fo[6]*o[g+4],a+=_fo[7]*o[g+2],d[h]=-a,h+=16,c=(c+1)%16}},i.prototype.frame=function(e){var t=e.header.nchannels(),r=e.header.nbsamples();this.pcm.samplerate=e.header.samplerate,this.pcm.channels=t,this.pcm.length=32*r,this.full(e,t,r),this.phase=(this.phase+r)%16},t.exports=i},{"./utils":15}],14:[function(e,t,r){r.SF_TABLE=new Float32Array([2,1.587401051968,1.259921049895,1,.793700525984,.629960524947,.5,.396850262992,.314980262474,.25,.198425131496,.157490131237,.125,.099212565748,.078745065618,.0625,.049606282874,.039372532809,.03125,.024803141437,.019686266405,.015625,.012401570719,.009843133202,.0078125,.006200785359,.004921566601,.00390625,.00310039268,.002460783301,.001953125,.00155019634,.00123039165,.0009765625,.00077509817,.000615195825,.00048828125,.000387549085,.000307597913,.000244140625,.000193774542,.000153798956,.000122070313,96887271e-12,76899478e-12,61035156e-12,48443636e-12,38449739e-12,30517578e-12,24221818e-12,1922487e-11,15258789e-12,12110909e-12,9612435e-12,7629395e-12,6055454e-12,4806217e-12,3814697e-12,3027727e-12,2403109e-12,1907349e-12,1513864e-12,1201554e-12,0]);var n=new Uint8Array([4,4,4,4,4,4,6,6,6,8,10,12,16,18,22,28,34,40,46,54,54,192]),i=new Uint8Array([4,4,4,4,4,4,6,6,8,8,10,12,16,20,24,28,34,42,50,54,76,158]),a=new Uint8Array([4,4,4,4,4,4,6,6,8,10,12,16,20,24,30,38,46,56,68,84,102,26]),o=new Uint8Array([4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,6,6,6,10,10,10,12,12,12,14,14,14,16,16,16,20,20,20,26,26,26,66,66,66]),s=new Uint8Array([4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,22,22,22,30,30,30,56,56,56]),u=new Uint8Array([4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,8,8,8,12,12,12,16,16,16,20,20,20,26,26,26,34,34,34,42,42,42,12,12,12]),l=new Uint8Array([4,4,4,4,4,4,6,6,4,4,4,6,6,6,6,6,6,10,10,10,12,12,12,14,14,14,16,16,16,20,20,20,26,26,26,66,66,66]),f=new Uint8Array([4,4,4,4,4,4,6,6,4,4,4,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,22,22,22,30,30,30,56,56,56]),c=new Uint8Array([4,4,4,4,4,4,6,6,4,4,4,6,6,6,8,8,8,12,12,12,16,16,16,20,20,20,26,26,26,34,34,34,42,42,42,12,12,12]),d=new Uint8Array([6,6,6,6,6,6,8,10,12,14,16,18,22,26,32,38,46,54,62,70,76,36]),h=new Uint8Array([6,6,6,6,6,6,8,10,12,14,16,20,24,28,32,38,46,52,60,68,58,54]),p=h,v=new Uint8Array([4,4,4,4,4,4,4,4,4,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,24,24,24,32,32,32,44,44,44,12,12,12]),m=new Uint8Array([4,4,4,4,4,4,4,4,4,6,6,6,6,6,6,8,8,8,10,10,10,14,14,14,18,18,18,26,26,26,32,32,32,42,42,42,18,18,18]),g=new Uint8Array([4,4,4,4,4,4,4,4,4,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,24,24,24,30,30,30,40,40,40,18,18,18]),y=new Uint8Array([6,6,6,6,6,6,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,24,24,24,32,32,32,44,44,44,12,12,12]),b=new Uint8Array([6,6,6,6,6,6,6,6,6,6,6,6,8,8,8,10,10,10,14,14,14,18,18,18,26,26,26,32,32,32,42,42,42,18,18,18]),_=new Uint8Array([6,6,6,6,6,6,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,24,24,24,30,30,30,40,40,40,18,18,18]),w=p,T=w,E=new Uint8Array([12,12,12,12,12,12,16,20,24,28,32,40,48,56,64,76,90,2,2,2,2,2]),S=g,A=S,x=new Uint8Array([8,8,8,8,8,8,8,8,8,12,12,12,16,16,16,20,20,20,24,24,24,28,28,28,36,36,36,2,2,2,2,2,2,2,2,2,26,26,26]),k=_,L=k,R=new Uint8Array([12,12,12,4,4,4,8,8,8,12,12,12,16,16,16,20,20,20,24,24,24,28,28,28,36,36,36,2,2,2,2,2,2,2,2,2,26,26,26]);r.SFBWIDTH_TABLE=[{l:n,s:o,m:l},{l:i,s:s,m:f},{l:a,s:u,m:c},{l:d,s:v,m:y},{l:h,s:m,m:b},{l:p,s:g,m:_},{l:w,s:S,m:k},{l:T,s:A,m:L},{l:E,s:x,m:R}],r.PRETAB=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0]),r.ROOT_TABLE=new Float32Array([.59460355750136,.70710678118655,.84089641525371,1,1.18920711500272,1.4142135623731,1.68179283050743]),r.CS=new Float32Array([.857492926,.881741997,.949628649,.983314592,.995517816,.999160558,.999899195,.999993155]),r.CA=new Float32Array([-.514495755,-.471731969,-.313377454,-.1819132,-.094574193,-.040965583,-.014198569,-.003699975]),r.COUNT1TABLE_SELECT=1,r.SCALEFAC_SCALE=2,r.PREFLAG=4,r.MIXED_BLOCK_FLAG=8,r.I_STEREO=1,r.MS_STEREO=2,r.WINDOW_L=new Float32Array([.043619387,.130526192,.216439614,.3007058,.382683432,.461748613,.537299608,.608761429,.675590208,.737277337,.79335334,.843391446,.887010833,.923879533,.953716951,.976296007,.991444861,.999048222,.999048222,.991444861,.976296007,.953716951,.923879533,.887010833,.843391446,.79335334,.737277337,.675590208,.608761429,.537299608,.461748613,.382683432,.3007058,.216439614,.130526192,.043619387]),r.WINDOW_S=new Float32Array([.130526192,.382683432,.608761429,.79335334,.923879533,.991444861,.991444861,.923879533,.79335334,.608761429,.382683432,.130526192]),r.IS_TABLE=new Float32Array([0,.211324865,.366025404,.5,.633974596,.788675135,1]),r.IS_LSF_TABLE=[new Float32Array([.840896415,.707106781,.594603558,.5,.420448208,.353553391,.297301779,.25,.210224104,.176776695,.148650889,.125,.105112052,.088388348,.074325445]),new Float32Array([.707106781,.5,.353553391,.25,.176776695,.125,.088388348,.0625,.044194174,.03125,.022097087,.015625,.011048543,.0078125,.005524272])],r.SFLEN_TABLE=[{slen1:0,slen2:0},{slen1:0,slen2:1},{slen1:0,slen2:2},{slen1:0,slen2:3},{slen1:3,slen2:0},{slen1:1,slen2:1},{slen1:1,slen2:2},{slen1:1,slen2:3},{slen1:2,slen2:1},{slen1:2,slen2:2},{slen1:2,slen2:3},{slen1:3,slen2:1},{slen1:3,slen2:2},{slen1:3,slen2:3},{slen1:4,slen2:2},{slen1:4,slen2:3}],r.NSFB_TABLE=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]]},{}],15:[function(e,t,r){r.makeArray=function(e,t){if(t||(t=Float64Array),1===e.length)return new t(e[0]);for(var n=[],i=e[0],a=0;a<i;a++)n[a]=r.makeArray(e.slice(1),t);return n}},{}]},{},[1])}).call(this,r(41))},function(e,t,r){(function(e){!function(t){var r,n,i=document.attachEvent,a=!1,o=t.fn.resize;if(t.fn.resize=function(t){return this.each((function(){this==window?o.call(e(this),t):addResizeListener(this,t)}))},t.fn.removeResize=function(e){return this.each((function(){removeResizeListener(this,e)}))},!i){var s=(n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)},function(e){return n(e)}),u=(r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(e){return r(e)});function l(e){var t=e.__resizeTriggers__,r=t.firstElementChild,n=t.lastElementChild,i=r.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,i.style.width=r.offsetWidth+1+"px",i.style.height=r.offsetHeight+1+"px",r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight}function f(e){var t=this;l(this),this.__resizeRAF__&&u(this.__resizeRAF__),this.__resizeRAF__=s((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(r){r.call(t,e)})))}))}var c=!1,d="",h="animationstart",p="Webkit Moz O ms".split(" "),v="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),m="",g=document.createElement("fakeelement");if(void 0!==g.style.animationName&&(c=!0),!1===c)for(var y=0;y<p.length;y++)if(void 0!==g.style[p[y]+"AnimationName"]){(m=p[y])+"Animation",d="-"+m.toLowerCase()+"-",h=v[y],c=!0;break}var b="resizeanim",_="@"+d+"keyframes "+b+" { from { opacity: 0; } to { opacity: 0; } } ",w=d+"animation: 1ms "+b+"; "}window.addResizeListener=function(e,t){i?e.attachEvent("onresize",t):(e.__resizeTriggers__||("static"==getComputedStyle(e).position&&(e.style.position="relative"),function(){if(!a){var e=(_||"")+".resize-triggers { "+(w||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e)),t.appendChild(r),a=!0}}(),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=document.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),l(e),e.addEventListener("scroll",f,!0),h&&e.__resizeTriggers__.addEventListener(h,(function(t){t.animationName==b&&l(e)}))),e.__resizeListeners__.push(t))},window.removeResizeListener=function(e,t){i?e.detachEvent("onresize",t):(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(e.removeEventListener("scroll",f),e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)))}}(e)}).call(this,r(1))},function(e,t,r){(function(e){!function(e){"use strict";var t=function(e,t){this.selector=e,this.callback=t},r=[];r.initialize=function(r,n){var i=[],a=function(){-1==i.indexOf(this)&&(i.push(this),e(this).each(n))};e(r).each(a),this.push(new t(r,a))},new MutationObserver((function(t){for(var n=0;n<r.length;n++)e(r[n].selector).each(r[n].callback)})).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),e.fn.initialize=function(e){r.initialize(this.selector,e)},e.initialize=function(e,t){r.initialize(e,t)}}(e)}).call(this,r(1))},function(e,t,r){var n={"./playerwrapper":77,"./playerwrapper.js":77,"./utils":78,"./utils.js":78};function i(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=a,e.exports=i,i.id=128},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,r,n){"use strict";n.r(r),function(e,r){var i=n(27),a=n(83),o=n(85),s=n(84),u=n(86),l=n(81),f=n(43);OCA.Music=OCA.Music||{},OCA.Music.EmbeddedPlayer=function(n,c,d,h,p,v,m){var g=new OCA.Music.PlayerWrapper,y=e.get("oc_music_volume")||50;g.setVolume(y);var b=!1,_=null,w=null,T=0,E=null,S=null,A=null,x=null,k=null,L=null,R=null,C=null,I=null,O=null,D=null;function P(){_||g.play()}function F(){_||g.pause()}function U(){g.stop(),E.css("display","none"),n()}function M(){T>2&&null!==w?g.seek(0):b&&d?d():g.seek(0)}function N(){b&&c&&c()}function B(){var e,n,i=r(document.createElement("div")).attr("id","playlist-area");if(I=r(document.createElement("span")).attr("id","playlist-name"),i.append(I),O=r(document.createElement("span")),i.append(O),void 0!==OCA.Music.PlaylistTabView){var a=r(document.createElement("div")).attr("id","menu-container");a.append(r(document.createElement("button")).attr("class","icon-more").attr("alt",t("music","Actions")).click((function(e){D.is(":visible")||h(D),D.toggleClass("open"),e.stopPropagation()}))),r(document).click((function(){D.removeClass("open")})),e=r(document.createElement("div")).attr("id","playlist-menu").attr("class","popovermenu bubble"),n=r(document.createElement("ul")),e.append(n),n.append(j("playlist-menu-import-radio","icon-radio-nav svg",t("music","Import radio to Music"),m)),n.append(j("playlist-menu-import","icon-music-dark svg",t("music","Import list to Music"),v)),n.append(j("playlist-menu-show","icon-menu",t("music","Show playlist"),p)),D=e,a.append(D),i.append(a)}return i}function j(e,t,n,i){var a=r(document.createElement("li")).attr("id",e),o=r(document.createElement("a")).click((function(e){a.hasClass("disabled")?e.stopPropagation():i()}));return o.append(r(document.createElement("span")).attr("class",t)),o.append(r(document.createElement("span")).text(n)),a.append(o),a}function G(){R=r(document.createElement("span")).attr("id","title"),C=r(document.createElement("span")).attr("id","artist");var e=r(document.createElement("div")).attr("id","song-info");e.append(R),e.append(r(document.createElement("br"))),e.append(C);var n=r(document.createElement("div")).attr("id","info-and-progress");return n.append(e),n.append(function(){var e=r(document.createElement("div")).attr("class","progress-info"),n=r(document.createElement("span")).attr("class","progress-text"),i=r(document.createElement("div")).attr("class","seek-bar"),a=r(document.createElement("div")).attr("class","play-bar"),o=r(document.createElement("div")).attr("class","buffer-bar");i.append(a),i.append(o),e.append(n),e.append(i);var s=0;function u(){var e=OCA.Music.Utils.formatPlayTime,i=0;0===s?n.text(t("music","Loading…")):r.isNumeric(s)?(n.text(e(T)+"/"+e(s)),i=T/s):n.text(e(T)),a.css("width",100*i+"%")}function l(e){i.css("cursor",e),a.css("cursor",e),o.css("cursor",e)}return g.on("loading",(function(){T=0,s=0,u(),o.css("width","0"),l("default")})),g.on("ready",(function(){})),g.on("buffer",(function(e){o.css("width",Math.round(e)+"%")})),g.on("progress",(function(e){T=e/1e3,u()})),g.on("duration",(function(e){s=e/1e3,u(),g.seekingSupported()&&l("pointer")})),g.on("play",(function(){S.css("display","none"),A.css("display","inline-block")})),g.on("pause",(function(){S.css("display","inline-block"),A.css("display","none")})),i.click((function(e){var t=r(this).offset().left,n=(e.pageX-t)/i.width();g.seek(n)})),e}()),n}function z(){var n,f,d;E=r(document.createElement("div")).attr("id","music-controls"),S=r(document.createElement("img")).attr("id","play").attr("class","control svg").attr("src",OC.filePath("music","dist",i.default)).attr("alt",t("music","Play")).css("display","inline-block").click(P),A=r(document.createElement("img")).attr("id","pause").attr("class","control svg").attr("src",OC.filePath("music","dist",a.default)).attr("alt",t("music","Pause")).css("display","none").click(F),x=r(document.createElement("img")).attr("id","prev").attr("class","control svg small").attr("src",OC.filePath("music","dist",o.default)).attr("alt",t("music","Previous")).click(M),k=r(document.createElement("img")).attr("id","next").attr("class","control svg small disabled").attr("src",OC.filePath("music","dist",s.default)).attr("alt",t("music","Next")).click(N),L=r(document.createElement("div")).attr("id","albumart"),E.append(B()),E.append(x),E.append(S),E.append(A),E.append(k),E.append(L),E.append(G()),E.append((n=r(document.createElement("div")).attr("class","volume-control"),f=r(document.createElement("img")).attr("id","volume-icon").attr("class","control small svg").attr("src",OC.filePath("music","dist",u.default)),d=r(document.createElement("input")).attr("id","volume-slider").attr("min","0").attr("max","100").attr("type","range").attr("value",y).on("input change",(function(){y=r(this).val(),g.setVolume(y),e.set("oc_music_volume",y,{expires:3650})})),n.append(f),n.append(d),n)),E.append(r(document.createElement("img")).attr("id","close").attr("class","control small svg").attr("src",OC.filePath("music","dist",l.default)).attr("alt",t("music","Close")).click(U)),OCA.Music.Utils.darkThemeActive()&&E.addClass("dark-theme");var h=r("div#app-content"),p=0===h.length;p&&(h=r("div#preview"),E.css("left","0"));h.append(E);var v=function(){var e=function(){var e=h.width();return p||OCA.Music.Utils.newLayoutStructure()||(e-=OC.Util.getScrollBarWidth()),e}();E.css("width",e),e>768?E.removeClass("tablet mobile extra-narrow"):e>500?(E.addClass("tablet"),E.removeClass("mobile extra-narrow")):e>360?(E.addClass("tablet mobile"),E.removeClass("extra-narrow")):E.addClass("tablet mobile extra-narrow")};h.resize(v),v(),g.on("end",c)}function W(){return r("#song-info *, #albumart")}function H(e){R.text(e.title),C.text(e.artist);var t=e.cover||OC.imagePath("core","filetypes/audio");L.css("background-image",'url("'+t+'")'),function(e){"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:e.title,artist:e.artist,album:"",artwork:[{sizes:"200x200",src:e.cover,type:""}]}))}(e)}function q(e,t,n,i){r.get(e,(function(e){w==n&&(H(e),i&&i(e,n))})).fail((function(){H({title:t,artist:"",cover:null})}))}function V(e,r,n,i){F(),H({title:t("music","Loading…"),artist:n,cover:null}),W().css("cursor","default").off("click").attr("title",""),_&&clearTimeout(_),_=setTimeout((function(){_=null,g.fromURL(e,r),P(),i&&i()}),300)}function K(e,r){if(e.in_library){W().css("cursor","pointer").click((function(){window.location=OC.generateUrl("apps/music/#/file/{fileId}?offset={offset}",{fileId:r,offset:g.playPosition()})})).attr("title",t("music","Continue playing in Music"))}else W().attr("title",t("music","(file is not within your music collection folder)"))}if("mediaSession"in navigator){var X=function(e,t){try{navigator.mediaSession.setActionHandler(e,t)}catch(t){console.log('The media control "'+e+'" is not supported by the browser')}};X("play",P),X("pause",F),X("stop",U),X("seekbackward",(function(){g.seekBackward()})),X("seekforward",(function(){g.seekForward()})),X("previoustrack",M),X("nexttrack",N)}this.show=function(e){E||z(),e?(E.addClass("with-playlist"),I.text(OCA.Music.Utils.dropFileExtension(e))):E.removeClass("with-playlist"),E.css("display","inline-block")},this.playFile=function(e,t,r,n,i){w=r;var a=OCA.Music.Utils.titleFromFilename(n);V(e,t,a,(function(){i?function(e,t,r){q(OC.generateUrl("apps/music/api/share/{token}/{fileId}/info",{token:e,fileId:t}),r,t)}(i,r,a):function(e,t){q(OC.generateUrl("apps/music/api/file/{fileId}/info",{fileId:e}),t,e,K)}(r,a)}))},this.playExtUrl=function(e,t){w=null,V(e,null,""),H({title:t,artist:e,cover:OC.filePath("music","dist",f.default)})},this.setPlaylistIndex=function(e,t){O.text(e+1+" / "+t)},this.togglePlayback=function(){g.isPlaying()?F():P()},this.close=U,this.setNextAndPrevEnabled=function(e){(b=e)?k.removeClass("disabled"):k.addClass("disabled")},this.isVisible=function(){return null!==E&&E.is(":visible")}}}.call(this,n(80),n(1))},function(e,r,n){"use strict";n.r(r),function(e,r){var i=n(27);window.addEventListener("DOMContentLoaded",(function(){0===e("audio").length&&function(){var n=null,a=!1,o=null,s=e("#sharingToken").val(),u=new OCA.Music.EmbeddedPlayer((function(){n=null,a=!1,l.reset(),OCA.Music.playlistTabView&&OCA.Music.playlistTabView.setCurrentTrack(null,null)}),(function(){p(l.next())}),(function(){p(l.prev())}),(function(e){var n=e.find("#playlist-menu-show");d()?(n.removeClass("disabled"),n.removeAttr("title")):(n.addClass("disabled"),n.attr("title",t("music","The option is available only while the parent folder of the playlist file is shown")));var i=r(l.files()).filter("in_library").size(),a=r(l.files()).filter("url").size(),o=l.length()-i,s=e.find("#playlist-menu-import"),u=e.find("#playlist-menu-import-radio");0===i?(s.addClass("disabled"),s.attr("title",t("music","None of the playlist files are within your music library"))):(s.removeClass("disabled"),o>0?s.attr("title",t("music","{inCount} out of {totalCount} files are within your music library and can be imported",{inCount:i,totalCount:l.length()})):s.removeAttr("title"));0===a?u.addClass("hidden"):u.removeClass("hidden");a===l.length()?s.addClass("hidden"):s.removeClass("hidden")}),(function(){o.scrollTo(n.name),o.showDetailsView(n.name,OCA.Music.playlistTabView.id)}),(function(){h(OCA.Music.playlistFileService.importPlaylist)}),(function(){h(OCA.Music.playlistFileService.importRadio)})),l=new OCA.Music.Playlist,f=r.filter(["audio/flac","audio/mp4","audio/m4b","audio/mpeg","audio/ogg","audio/wav"],u.canPlayMIME,u),c=["audio/mpegurl","audio/x-scpls"];function d(){return n&&o&&n.path==o.breadcrumb.dir}function h(e){if(d()){var t=o.findFileEl(n.name);o.showFileBusyState(t,!0)}e(n,(function(e){t&&o.showFileBusyState(t,!1)}))}function p(e){e?(a||(n=e),"url"in e?u.playExtUrl(e.url,e.caption):u.playFile(function(e){var t=o.getDownloadUrl(e.name,e.path);return s||(t+=(r.includes(t,"?")?"&":"?")+"requesttoken="+encodeURIComponent(OC.requestToken)),t}(e),e.mimetype,e.id,e.name,s),u.setPlaylistIndex(l.currentIndex(),l.length()),OCA.Music.playlistTabView&&OCA.Music.playlistTabView.setCurrentTrack(n.id,l.currentIndex())):u.close()}function v(e,a){var s=function(e,t){var r=(o=t.fileList).findFile(e);null===n||n.id!=r.id?(n=r,a()):u.togglePlayback()};r.forEach(e,(function(e){OCA.Files.fileActions.register(e,"music-play",OC.PERMISSION_READ,OC.filePath("music","dist",i.default),s,t("music","Play")),OCA.Files.fileActions.setDefault(e,"music-play")}))}function m(){a=!1,u.show(),l.init(o.files,f,n.id),u.setNextAndPrevEnabled(l.length()>1),p(l.currentFile())}function g(e){a=!0;var r=o.findFileEl(n.name);o.showFileBusyState(r,!0);OCA.Music.playlistFileService.readFile(n.id,(function(i){if(i.files.length>0?(u.show(n.name),l.init(i.files,f,i.files[0].id),u.setNextAndPrevEnabled(l.length()>1),p(l.currentFile())):(n=null,OC.Notification.showTemporary(t("music","No files from the playlist could be found"))),i.invalid_paths.length>0){var a=t("music","The playlist contained {count} invalid path(s).",{count:i.invalid_paths.length});s||(a+=" "+t("music","See the playlist file details.")),OC.Notification.showTemporary(a)}o.showFileBusyState(r,!1),e&&e()}),(function(){n=null,OC.Notification.showTemporary(t("music","Error reading playlist file")),o.showFileBusyState(r,!1)}),s)}void 0!==OCA.Files&&(OCA.Music.initPlaylistTabView(c),OCA.Music.playlistTabView&&(OCA.Music.playlistTabView.on("playlistItemClick",(function(e,t,r){null!==n&&e==n.id?r==l.currentIndex()?u.togglePlayback():p(l.jumpToIndex(r)):(o=OCA.Files.App.fileList,n=o.findFile(t),g((function(){p(l.jumpToIndex(r))})))})),OCA.Music.playlistTabView.on("rendered",(function(){null!==n&&OCA.Music.playlistTabView.setCurrentTrack(n.id,l.currentIndex())}))),v(f,m),v(c,g)),e("#header").hasClass("share-file")&&(y=f,b=function(){u.isVisible()?u.togglePlayback():(u.show(),u.playFile(e("#downloadURL").val(),e("#mimetype").val(),0,e("#filename").val(),s))},"undefined"!=typeof MutationObserver&&r.includes(y,e("#mimetype").val())&&e.initialize("img.publicpreview",(function(){var t=e(this);t.css("cursor","pointer"),t.click(b),t.on("error",(function(){t.attr("src",OC.imagePath("core","filetypes/audio")),t.css("width","128px"),t.css("height","128px")}))})));var y,b}()}))}.call(this,n(1),n(5))},function(e,t,r){(function(e){OCA.Music=OCA.Music||{},OCA.Music.Playlist=function(){var t=null,r=null;function n(e){return!t||t.length<=1?null:(r=(r+t.length+e)%t.length,t[r])}this.init=function(n,i,a){t=e.filter(n,(function(t){return null===t.mimetype||e.includes(i,t.mimetype)})),r=e.findIndex(t,(function(e){return e.id==a}))},this.next=function(){return n(1)},this.prev=function(){return n(-1)},this.jumpToIndex=function(e){return e<t.length&&(r=e),this.currentFile()},this.reset=function(){t=null,r=null},this.length=function(){return t?t.length:0},this.currentFile=function(){return t?t[r]:null},this.currentIndex=function(){return r},this.files=function(){return t}}}).call(this,r(5))},function(e,r,n){(function(e){OCA.Music=OCA.Music||{},OCA.Music.PlaylistFileService=function(){var r=null,n=null;this.readFile=function(t,i,a,o){if(t==r&&null!==n)i(n);else{var s=null;s=o?OC.generateUrl("apps/music/api/share/{token}/{fileId}/parse",{token:o,fileId:t}):OC.generateUrl("apps/music/api/playlists/file/{fileId}",{fileId:t}),e.get(s,(function(e){r=t,n=e,i(e)})).fail(a)}},this.importPlaylist=function(r,n){var i=OCA.Music.Utils.dropFileExtension(r.name),a=OCA.Music.Utils.joinPath(r.path,r.name),o=OC.generateUrl("apps/music/api/playlists");e.post(o,{name:i},(function(s){o=OC.generateUrl("apps/music/api/playlists/{listId}/import",{listId:s.id}),e.post(o,{filePath:a},(function(e){var r=t("music","Imported {count} tracks to a new playlist '{name}'.",{count:e.imported_count,name:i});e.failed_count>0&&(r+=" "+t("music","{count} files were skipped.",{count:e.failed_count})),OC.Notification.showTemporary(r),n(!0)})).fail((function(){OC.Notification.showTemporary(t("music","Failed to import the playlist file {file}",{file:r.name})),n(!1)}))})).fail((function(){OC.Notification.showTemporary(t("music","Failed to create a new playlist")),n(!1)}))},this.importRadio=function(r,n){var i=OCA.Music.Utils.joinPath(r.path,r.name),a=OC.generateUrl("apps/music/api/radio/import");e.post(a,{filePath:i},(function(e){var r=t("music","Imported {count} radio stations.",{count:e.stations.length});e.failed_count>0&&(r+=" "+t("music","{count} entries were skipped.",{count:e.failed_count})),OC.Notification.showTemporary(r),n(!0)})).fail((function(){OC.Notification.showTemporary(t("music","Failed to import the playlist file {file}",{file:r.name})),n(!1)}))}},OCA.Music.playlistFileService=new OCA.Music.PlaylistFileService}).call(this,n(1))},function(e,r,n){(function(e,r){OCA.Music=OCA.Music||{},OCA.Music.initPlaylistTabView=function(n){void 0!==OCA.Files.DetailTabView&&(OCA.Music.PlaylistTabView=OCA.Files.DetailTabView.extend({id:"musicPlaylistTabView",className:"tab musicPlaylistTabView",getLabel:function(){return t("music","Playlist")},getIcon:function(){return"icon-music"},render:function(){var r=this,n=this.$el;n.empty(),OCA.Music.Utils.darkThemeActive()&&n.addClass("dark-theme");var i=this.getFileInfo();if(i){var a=e(document.createElement("div")).attr("class","loading");n.append(a);OCA.Music.playlistFileService.readFile(i.id,(function(o){a.hide();var s=e(document.createElement("ol"));n.append(s);for(var u,l=0;l<o.files.length;++l)s.append(e(document.createElement("li")).attr("id","music-playlist-item-"+l).text((u=o.files[l]).caption||OCA.Music.Utils.titleFromFilename(u.name)));if(s.on("click","li",(function(e){var t=e.target.id,n=parseInt(t.split("-").pop());r.trigger("playlistItemClick",i.id,i.attributes.name,n)})),o.invalid_paths.length>0){n.append(e(document.createElement("p")).text(t("music","Some files on the playlist were not found")+":"));var f=e(document.createElement("ul"));for(n.append(f),l=0;l<o.invalid_paths.length;++l)f.append(e(document.createElement("li")).text(o.invalid_paths[l]))}r.trigger("rendered")}),(function(r){a.hide(),n.append(e(document.createElement("p")).text(t("music","Error reading playlist file")))}))}},canDisplay:function(e){if(!e||e.isDirectory())return!1;var t=e.get("mimetype");return t&&n.indexOf(t)>-1},setCurrentTrack:function(e,t){this.$el.find("ol li.current").removeClass("current");var r=this.getFileInfo();r&&r.id==e&&this.$el.find("ol li#music-playlist-item-"+t).addClass("current")}}),r.extend(OCA.Music.PlaylistTabView.prototype,OC.Backbone.Events),OCA.Music.playlistTabView=new OCA.Music.PlaylistTabView,OC.Plugins.register("OCA.Files.FileList",{attach:function(e){e.registerTabView(OCA.Music.playlistTabView)}}))}}).call(this,n(1),n(5))},function(e,t,r){"use strict";r.r(t);var n,i=r(82);(n=function(){this.initialize()}).prototype={initialize:function(){OC.Plugins.register("OCA.Search",this),OC.Plugins.register("OCA.Search.Core",this)},attach:function(e){e.setRenderer("music_artist",this.renderResult),e.setRenderer("music_album",this.renderResult),e.setRenderer("music_track",this.renderResult)},renderResult:function(e,t){return e.find("td.icon").css("background-image","url("+OC.filePath("music","dist",i.default)+")").css("opacity",".4"),e}},OCA.Search.Music=n,OCA.Search.music=new n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){function n(e){e.keys().forEach(e)}r(124),r(125),r(126),"undefined"!=typeof MutationObserver&&r(127),n(r(128)),n(r(221)),n(r(222))},function(e,t,r){var n={"./embeddedplayer":165,"./embeddedplayer.js":165,"./main":166,"./main.js":166,"./playlist":167,"./playlist.js":167,"./playlistfileservice":168,"./playlistfileservice.js":168,"./playlisttabview":169,"./playlisttabview.js":169,"./searchrenderer":170,"./searchrenderer.js":170};function i(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=a,e.exports=i,i.id=221},function(e,t,r){var n={"./files-music-player.css":223};function i(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=a,e.exports=i,i.id=222},function(e,t,r){"use strict";r.r(t)}]);
//# sourceMappingURL=webpack.files_music_player.c22061c30b10a0f84f30.js.map